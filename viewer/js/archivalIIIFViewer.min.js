/*! For license information please see archivalIIIFViewer.min.js.LICENSE */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ArchivalIIIFViewer=t():e.ArchivalIIIFViewer=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=355)}([function(e,t,n){"use strict";e.exports=n(685)},function(e,t,n){var r=n(14),i=n(52).f,o=n(37),a=n(58),s=n(183),l=n(236),u=n(121);e.exports=function(e,t){var n,c,h,d,f,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in t){if(d=t[c],h=e.noTargetGet?(f=i(n,c))&&f.value:n[c],!u(g?c:p+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),a(n,c,d,e)}}},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(28))},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";var r=n(8),i=n(166),o=n.n(i),a=function e(){Object(r.a)(this,e)};a.token="",a.ee=new o.a,t.a=a},function(e,t,n){(function(t){var r,i=void 0!==t?t:"undefined"!=typeof window?window:{},o=n(723);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=r}).call(this,n(28))},function(e,t,n){var r=n(21);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(712);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=!1},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){var t,n,i="";if(e)if("object"==typeof e)if(e.push)for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(n=r(t))&&(i&&(i+=" "),i+=n);else"boolean"==typeof e||e.call||(i&&(i+=" "),i+=e);return i}t.a=function(){for(var e,t=0,n="";t<arguments.length;)(e=r(arguments[t++]))&&(n&&(n+=" "),n+=e);return n}},function(e,t,n){(function(t){var n="object",r=function(e){return e&&e.Math==Math&&e};e.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof t==n&&t)||Function("return this")()}).call(this,n(28))},function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},function(e,t,n){var r=n(6),i=n(189),o=n(24),a=n(35),s=n(126),l=n(246),u=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,c,h){var d,f,p,g,m,v,y=a(t,n,c?2:1);if(h)d=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(i(f)){for(p=0,g=o(e.length);g>p;p++)if((m=c?y(r(v=e[p])[0],v[1]):y(e[p]))&&m instanceof u)return m;return new u(!1)}d=f.call(e)}for(;!(v=d.next()).done;)if((m=l(d,y,v.value,c))&&m instanceof u)return m;return new u(!1)}).stop=function(e){return new u(!0,e)}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var o=n(12);function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?Object(o.a)(e):t}n.d(t,"a",function(){return a})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",function(){return i})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(327)),c=n.n(u),h=(n(39),n(49));var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var r=i()({},t);return Object.keys(n).forEach(function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))}),r},f={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},p=n(785),g="function"==typeof Symbol?Symbol.for("mui.nested"):"__THEME_NESTED__",m=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var v=Date.now(),y="fnValues"+v,b="fnStyle"+ ++v;var _=function(){return{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=Object(h.c)(e,{},n);return r[b]=t,r},onProcessStyle:function(e,t){if(y in t||b in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[y]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[b];o&&(i.style=o(e));var a=i[y];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},w=n(33),T="@global",S="@global ",E=function(){function e(e,t,n){for(var r in this.type="global",this.at=T,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new h.a(Object(w.a)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(){return this.rules.toString()},e}(),x=function(){function e(e,t,n){this.type="global",this.at=T,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=e,this.options=n;var r=e.substr(S.length);this.rule=n.jss.createRule(r,t,Object(w.a)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),k=/\s*,\s*/g;function C(e,t){for(var n=e.split(k),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var O=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===T)return new E(e,t,n);if("@"===e[0]&&e.substr(0,S.length)===S)return new x(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),!1===n.scoped&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,r=n?n[T]:null;if(r){for(var i in r)t.sheet.addRule(i,r[i],Object(w.a)({},t,{selector:C(i,e.selector)}));delete n[T]}}(e),function(e){var t=e.options,n=e.style;for(var r in n)if("@"===r[0]&&r.substr(0,T.length)===T){var i=C(r.substr(T.length),e.selector);t.sheet.addRule(i,n[r],Object(w.a)({},t,{selector:i})),delete n[r]}}(e))}}},P=/\s*,\s*/g,I=/&/g,A=/\$([\w-]+)/g;var R=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?(i=i).selector:r}}function t(e,t){for(var n=t.split(P),r=e.split(P),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(I,a):a+" "+l}return i}function n(e,t,n){if(n)return Object(w.a)({},n,{index:n.index+1});var r=e.options.nestingLevel;return r=void 0===r?1:r+1,Object(w.a)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1})}return{onProcessStyle:function(r,i,o){if("style"!==i.type)return r;var a,s,l=i,u=l.options.parent;for(var c in r){var h=-1!==c.indexOf("&"),d="@"===c[0];if(h||d){if(a=n(l,u,a),h){var f=t(c,l.selector);s||(s=e(u,o)),f=f.replace(A,s),u.addRule(f,r[c],Object(w.a)({},a,{selector:f}))}else d&&u.addRule(c,{},a).addRule(l.key,r[c],{selector:l.selector});delete r[c]}}return r}}},L=/[A-Z]/g,M=/^ms-/,D={};function N(e){return"-"+e.toLowerCase()}var j=function(e){if(D.hasOwnProperty(e))return D[e];var t=e.replace(L,N);return D[e]=M.test(t)?"-"+t:t};function U(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:j(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(U):t.fallbacks=U(e.fallbacks)),t}var F=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=U(e[t]);return e}return U(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=j(t);return t===r?e:(n.prop(r,e),null)}}},B=h.e?window.CSS.px:"px",z=h.e?window.CSS.ms:"ms",H=h.e?window.CSS.percent:"%";function V(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var W=V({"animation-delay":z,"animation-duration":z,"background-position":B,"background-position-x":B,"background-position-y":B,"background-size":B,border:B,"border-bottom":B,"border-bottom-left-radius":B,"border-bottom-right-radius":B,"border-bottom-width":B,"border-left":B,"border-left-width":B,"border-radius":B,"border-right":B,"border-right-width":B,"border-top":B,"border-top-left-radius":B,"border-top-right-radius":B,"border-top-width":B,"border-width":B,margin:B,"margin-bottom":B,"margin-left":B,"margin-right":B,"margin-top":B,padding:B,"padding-bottom":B,"padding-left":B,"padding-right":B,"padding-top":B,"mask-position-x":B,"mask-position-y":B,"mask-size":B,height:B,width:B,"min-height":B,"max-height":B,"min-width":B,"max-width":B,bottom:B,left:B,top:B,right:B,"box-shadow":B,"text-shadow":B,"column-gap":B,"column-rule":B,"column-rule-width":B,"column-width":B,"font-size":B,"font-size-delta":B,"letter-spacing":B,"text-indent":B,"text-stroke":B,"text-stroke-width":B,"word-spacing":B,motion:B,"motion-offset":B,outline:B,"outline-offset":B,"outline-width":B,perspective:B,"perspective-origin-x":H,"perspective-origin-y":H,"transform-origin":H,"transform-origin-x":H,"transform-origin-y":H,"transform-origin-z":H,"transition-delay":z,"transition-duration":z,"vertical-align":B,"flex-basis":B,"shape-margin":B,size:B,grid:B,"grid-gap":B,"grid-row-gap":B,"grid-column-gap":B,"grid-template-rows":B,"grid-template-columns":B,"grid-auto-rows":B,"grid-auto-columns":B,"box-shadow-x":B,"box-shadow-y":B,"box-shadow-blur":B,"box-shadow-spread":B,"font-line-height":B,"text-shadow-x":B,"text-shadow-y":B,"text-shadow-blur":B});function G(e,t,n){if(!t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=G(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=G(i,t[i],n);else for(var o in t)t[o]=G(e+"-"+o,t[o],n);else if("number"==typeof t)return n[e]?""+t+n[e]:W[e]?"function"==typeof W[e]?W[e](t).toString():""+t+W[e]:t.toString();return t}var q=function(e){void 0===e&&(e={});var t=V(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=G(r,e[r],t);return e},onChangeValue:function(e,n){return G(n,e,t)}}},$=n(100),X=n(179),K="",Y="",Z="",Q="",J=$.a&&"ontouchstart"in document.documentElement;if($.a){var ee={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},te=document.createElement("p").style;for(var ne in ee)if(ne+"Transform"in te){K=ne,Y=ee[ne];break}"Webkit"===K&&"msHyphens"in te&&(K="ms",Y=ee.ms,Q="edge"),"Webkit"===K&&"-apple-trailing-word"in te&&(Z="apple")}var re={js:K,css:Y,vendor:Z,browser:Q,isTouch:J};var ie={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===re.js?"-webkit-"+e:re.css+e)}},oe=/[-\s]+(.)?/g;function ae(e,t){return t?t.toUpperCase():""}function se(e){return e.replace(oe,ae)}function le(e){return se("-"+e)}var ue,ce={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===re.js?"WebkitColumn"+le(e)in t&&re.css+"column-"+e:"Moz"===re.js&&("page"+le(e)in t&&"page-"+e))}},he={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===re.js?re.css+"print-"+e:e)}},de={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},fe=Object.keys(de),pe=function(e){return re.css+e},ge={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},me=[ie,he,{noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===re.js){if(se("mask-image")in t)return e;if(re.js+le("mask-image")in t)return re.css+e}return e}},{noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==re.vendor||re.isTouch?e:re.css+e)}},{noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:re.css+e)}},{noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:re.css+e)}},{noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===re.js||"ms"===re.js?re.css+e:e)}},ce,{supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===re.js)return e;var n=e.replace("-inline","");return re.js+le(n)in t&&re.css+n}},{supportedProperty:function(e,t){return se(e)in t&&e}},{supportedProperty:function(e,t){var n=le(e);return"-"===e[0]?e:"-"===e[0]&&"-"===e[1]?e:re.js+n in t?re.css+e:"Webkit"!==re.js&&"Webkit"+n in t&&"-webkit-"+e}},{supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===re.js?""+re.css+e:e)}},{supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===re.js?re.css+"scroll-chaining":e)}},{supportedProperty:function(e,t){var n=ge[e];return!!n&&(re.js+le(n)in t&&re.css+n)}},{supportedProperty:function(e,t,n){var r=n.multiple;if(fe.indexOf(e)>-1){var i=de[e];if(!Array.isArray(i))return re.js+le(i)in t&&re.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(re.js+le(i[0])in t))return!1;return i.map(pe)}return!1}}],ve=me.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty}),ye=me.filter(function(e){return e.noPrefill}).reduce(function(e,t){return e.push.apply(e,Object(X.a)(t.noPrefill)),e},[]),be={};if($.a){ue=document.createElement("p");var _e=window.getComputedStyle(document.documentElement,"");for(var we in _e)isNaN(we)||(be[_e[we]]=_e[we]);ye.forEach(function(e){return delete be[e]})}function Te(e,t){if(void 0===t&&(t={}),!ue)return e;if(null!=be[e])return be[e];"transition"!==e&&"transform"!==e||(t[e]=e in ue.style);for(var n=0;n<ve.length&&(be[e]=ve[n](e,ue.style,t),!be[e]);n++);try{ue.style[e]=""}catch(e){return!1}return be[e]}var Se,Ee={},xe={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},ke=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Ce(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":t?Te(t):", "+Te(n)}function Oe(e,t){var n=t;if(!Se)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Ee[r])return Ee[r];try{Se.style[e]=n}catch(e){return Ee[r]=!1,!1}if(xe[e])n=n.replace(ke,Ce);else if(""===Se.style[e]&&("-ms-flex"===(n=re.css+n)&&(Se.style[e]="-ms-flexbox"),Se.style[e]=n,""===Se.style[e]))return Ee[r]=!1,!1;return Se.style[e]="",Ee[r]=n,Ee[r]}$.a&&(Se=document.createElement("p"));var Pe=function(){return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at="-"===(n=t.at)[1]?n:"ms"===re.js?n:"@"+re.css+"keyframes"+n.substr(10)}var n},onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var n in e){var r=e[n],i=!1,o=Te(n);o&&o!==n&&(i=!0);var a=!1,s=Oe(o,Object(h.f)(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete e[n],e[o||n]=s||r)}return e},onChangeValue:function(e,t){return Oe(t,Object(h.f)(e))||e}}};var Ie=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var Ae,Re=function(){return{plugins:[_(),O(),R(),F(),q(),"undefined"==typeof window?null:Pe(),Ie()]}},Le=Object(h.b)(Re()),Me={disableGeneration:!1,generateClassName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0;return function(e,t){l+=1;var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==m.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[g]&&""===a?"".concat(o,"-").concat(l):o}return"".concat(s).concat(i).concat(l)}}(),jss:Le,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},De=l.a.createContext(Me);function Ne(e){var t=e.children,n=e.injectFirst,r=a()(e,["children","injectFirst"]),o=l.a.useContext(De),s=i()({},o,r);if(!s.jss.options.insertionPoint&&n&&"undefined"!=typeof window){if(!Ae){var u=document.head;Ae=document.createComment("mui-inject-first"),u.insertBefore(Ae,u.firstChild)}s.jss=Object(h.b)({plugins:Re().plugins,insertionPoint:Ae})}return l.a.createElement(De.Provider,{value:s},t)}Ne.defaultProps={disableGeneration:!1,injectFirst:!1};var je=-1e9;n(98);var Ue=n(83),Fe=n.n(Ue);function Be(e,t){return t}var ze=function(e){var t="function"==typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(e){throw e}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=i()({},o);return Object.keys(a).forEach(function(e){s[e]=Fe()(s[e],a[e],{arrayMerge:Be})}),s},options:{},themingEnabled:t}},He={};function Ve(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=d({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function We(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=f.get(o.sheetsManager,a,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},f.set(o.sheetsManager,a,r,l));var u=i()({},a.options,o,{theme:r,flip:"boolean"==typeof o.flip?o.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=o.sheetsRegistry;if(0===l.refs){var p;o.sheetsCache&&(p=f.get(o.sheetsCache,a,r));var g=a.create(r,s);p||((p=o.jss.createStyleSheet(g,i()({link:!1},u))).attach(),o.sheetsCache&&f.set(o.sheetsCache,a,r,p)),c&&c.add(p),l.staticSheet=p,l.dynamicStyles=Object(h.d)(g)}if(l.dynamicStyles){var m=o.jss.createStyleSheet(l.dynamicStyles,i()({link:!0},u));m.update(t).attach(),n.dynamicSheet=m,n.classes=d({baseClasses:l.staticSheet.classes,newClasses:m.classes}),c&&c.add(m)}else n.classes=l.staticSheet.classes;l.refs+=1}}function Ge(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function qe(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=f.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(f.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function $e(e,t){var n,r=l.a.useRef([]),i=l.a.useMemo(function(){return{}},t);r.current!==i&&(r.current=i,n=e()),l.a.useEffect(function(){return function(){n&&n()}},[i])}var Xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,o=t.Component,s=t.defaultTheme,u=void 0===s?He:s,c=a()(t,["name","classNamePrefix","Component","defaultTheme"]),h=ze(e),d=n||r||"makeStyles";h.options={index:je+=1,name:n,meta:d,classNamePrefix:d};var f=h.themingEnabled||"string"==typeof n;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(f?Object(p.a)():null)||u,r=i()({},l.a.useContext(De),c),a=l.a.useRef(),s=l.a.useRef();return $e(function(){var i={name:n,state:{},stylesCreator:h,stylesOptions:r,theme:t};return We(i,e),s.current=!1,a.current=i,function(){qe(i)}},[t,h]),l.a.useEffect(function(){s.current&&Ge(a.current,e),s.current=!0}),Ve(a.current,e.classes,o)}};var Ke=function(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r},Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=t.defaultTheme,o=t.withTheme,s=void 0!==o&&o,u=t.name,h=a()(t,["defaultTheme","withTheme","name"]),d=u,f=Xe(e,i()({defaultTheme:r,Component:n,name:u||n.displayName,classNamePrefix:d},h)),g=l.a.forwardRef(function(e,t){e.classes;var o,c=e.innerRef,h=a()(e,["classes","innerRef"]),d=f(e),g=h;return("string"==typeof u||s)&&(o=Object(p.a)()||r,u&&(g=Ke({theme:o,name:u,props:h})),s&&!g.theme&&(g.theme=o)),l.a.createElement(n,i()({ref:c||t,classes:d},g))});return c()(g,n),g}},Ze=n(178);t.a=function(e,t){return Ye(e,i()({defaultTheme:Ze.a},t))}},function(e,t,n){var r=n(14),i=n(102),o=n(118),a=n(238),s=r.Symbol,l=i("wks");e.exports=function(e){return l[e]||(l[e]=a&&s[e]||(a?s:o)("Symbol."+e))}},function(e,t,n){var r=n(59),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(10);e.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(761)()},function(e,t,n){"use strict";var r,i=n(25),o=n(14),a=n(21),s=n(36),l=n(127),u=n(37),c=n(58),h=n(29).f,d=n(53),f=n(89),p=n(23),g=n(118),m=o.DataView,v=m&&m.prototype,y=o.Int8Array,b=y&&y.prototype,_=o.Uint8ClampedArray,w=_&&_.prototype,T=y&&d(y),S=b&&d(b),E=Object.prototype,x=E.isPrototypeOf,k=p("toStringTag"),C=g("TYPED_ARRAY_TAG"),O=!(!o.ArrayBuffer||!m),P=O&&!!f,I=!1,A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R=function(e){return a(e)&&s(A,l(e))};for(r in A)o[r]||(P=!1);if((!P||"function"!=typeof T||T===Function.prototype)&&(T=function(){throw TypeError("Incorrect invocation")},P))for(r in A)o[r]&&f(o[r],T);if((!P||!S||S===E)&&(S=T.prototype,P))for(r in A)o[r]&&f(o[r].prototype,S);if(P&&d(w)!==S&&f(w,S),i&&!s(S,k))for(r in I=!0,h(S,k,{get:function(){return a(this)?this[C]:void 0}}),A)o[r]&&u(o[r],C,r);O&&f&&d(v)!==E&&f(v,E),e.exports={NATIVE_ARRAY_BUFFER:O,NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:I&&C,aTypedArray:function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(f){if(x.call(T,e))return e}else for(var t in A)if(s(A,r)){var n=o[t];if(n&&(e===n||x.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportProto:function(e,t,n){if(i){if(n)for(var r in A){var a=o[r];a&&s(a.prototype,e)&&delete a.prototype[e]}S[e]&&!n||c(S,e,n?t:P&&b[e]||t)}},exportStatic:function(e,t,n){var r,a;if(i){if(f){if(n)for(r in A)(a=o[r])&&s(a,e)&&delete a[e];if(T[e]&&!n)return;try{return c(T,e,n?t:P&&y[e]||t)}catch(e){}}for(r in A)!(a=o[r])||a[e]&&!n||c(a,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||s(A,t)},isTypedArray:R,TypedArray:T,TypedArrayPrototype:S}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(25),i=n(233),o=n(6),a=n(67),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(43);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(686)},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return s});var r=n(0),i=n.n(r);function o(e,t){return i.a.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}function a(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function s(e,t){return i.a.useMemo(function(){return null==e&&null==t?null:function(n){a(e,n),a(t,n)}},[e,t])}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(185),i=n(14),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(20);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(25),i=n(29),o=n(78);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(6),i=n(20),o=n(23)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});n(39);function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}},function(){})}},function(e,t,n){var r=n(63);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t,n){"use strict";var r,i,o=n(7),a=n.n(o),s=n(41),l=n.n(s),u=(n(98),n(0)),c=n.n(u),h=(n(318),n(113)),d=n.n(h),f=n(114),p=n.n(f),g={bindI18n:"languageChanging languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},m=c.a.createContext();function v(){return i}function y(){return g}var b=function(){function e(){d()(this,e),this.usedNamespaces={}}return p()(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach(function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function _(){return r}var w={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g=l()({},g,e)}(e.options.react),function(e){r=e}(e)}};function T(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var S={};function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&S[t[0]]||("string"==typeof t[0]&&(S[t[0]]=new Date),T.apply(void 0,t))}function x(e,t,n){e.loadNamespaces(t,function(){if(e.isInitialized)n();else{e.on("initialized",function t(){setTimeout(function(){e.off("initialized",t)},0),n()})}})}var k=n(45),C=n.n(k);function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=v()&&Object(u.useContext)(m)||{},i=r.i18n,o=r.defaultNS,a=n||i||_();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new b),!a){E("You will need pass in an i18next instance by using initReactI18next");var s=[function(e){return e},{},!0];return s.t=function(e){return e},s.i18n={},s.ready=!0,s}var c=l()({},y(),a.options.react),h=t.useSuspense,d=void 0===h?c.useSuspense:h,f=e||o||a.options&&a.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(f);var p=(a.isInitialized||a.initializedStoreOnce)&&f.every(function(e){return function(e,t){if(!t.languages||!t.languages.length)return E("i18n.languages were undefined or empty",t.languages),!0;var n=t.languages[0],r=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===n.toLowerCase())return!0;var o=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!!t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||!(!o(n,e)||r&&!o(i,e))}(e,a)});function g(){return{t:a.getFixedT(null,"fallback"===c.nsMode?f:f[0])}}var w=Object(u.useState)(g()),T=C()(w,2),S=T[0],k=T[1];Object(u.useEffect)(function(){var e=!0,t=c.bindI18n,n=c.bindI18nStore;function r(){e&&k(g())}return p||d||x(a,f,function(){e&&k(g())}),t&&a&&a.on(t,r),n&&a&&a.store.on(n,r),function(){e=!1,t&&a&&t.split(" ").forEach(function(e){return a.off(e,r)}),n&&a&&n.split(" ").forEach(function(e){return a.store.off(e,r)})}},[f.join()]);var O=[S.t,a,p];if(O.t=S.t,O.i18n=a,O.ready=p,p)return O;if(!p&&!d)return O;throw new Promise(function(e){x(a,f,function(){k(g()),e()})})}function P(e){var t=e.ns,n=e.children,r=O(t,a()(e,["ns","children"])),i=C()(r,3),o=i[0],s=i[1],l=i[2];return n(o,{i18n:s,lng:s.language},l)}function I(e){var t=e.i18n,n=e.defaultNS,r=e.children;return i=!0,c.a.createElement(m.Provider,{value:{i18n:t,defaultNS:n}},r)}n.d(t,"b",function(){return P}),n.d(t,"a",function(){return I}),n.d(t,"c",function(){return w})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(185),i=n(36),o=n(242),a=n(29).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(717),i=n(718),o=n(719);e.exports=function(e,t){return r(e)||i(e,t)||o()}},function(e,t,n){"use strict";(function(e){var r=n(8),i=n(9),o=n(4),a=n(315),s=n.n(a),l=n(316),u=n(317),c=n(167),h=n(290),d=function(){function t(){Object(r.a)(this,t)}return Object(i.a)(t,null,[{key:"get",value:function(e,t){if(void 0!==e){var n=this.fetchFromCache(e);!1===n?this.fetchFromUrl(e,t):void 0!==t&&t(n)}}},{key:"fetchFromUrl",value:function(e,t){var n=this,r=this,i=new Headers,a=0;""!==o.a.token&&i.set("Authorization","Bearer "+o.a.token),fetch(e,{headers:i}).then(function(i){if(401!==(a=i.status)&&a>=400){var s={title:"Error",body:"Could not fetch manifest!\n\n"+e};o.a.ee.emit("alert",s)}else i.json().then(function(i){var s;s=h.create(i);var u=new l.a;u.id=s.id;var c=s.getProperty("type");if("sc:Manifest"===c||"Manifest"===c?u.type="sc:Manifest":"sc:Collection"!==c&&"Collection"!==c||(u.type="sc:Collection"),u.label=s.getDefaultLabel(),u.parentId=s.getProperty("within"),u.label)if(u.id){if(401===a){var d=s.getService("http://iiif.io/api/auth/1/external");if(d){var f=d.getService("http://iiif.io/api/auth/1/token");return void fetch(f.id).then(function(r){if(200===(a=r.status))r.json().then(function(r){return o.a.token=r.accessToken,n.fetchFromUrl(e,t)});else{var i={title:d.getFailureHeader(),body:d.getFailureDescription()};o.a.ee.emit("alert",i)}})}o.a.ee.emit("show-login",s),u.collections=[],u.manifests=[],u.restricted=!0}else u.metadata=r.getMetadata(s),u.description=r.getDescription(s),u.license=r.getLicense(s),u.logo=s.getLogo(),u.attribution=r.getAttribution(s),u.manifestations=r.getManifestations(s),u.restricted=!1,"sc:Collection"===u.type?(u.manifests=r.getManifests(s),u.collections=r.getCollections(s)):"sc:Manifest"===u.type&&(u.resource=r.getResource(s)),u.thumbnail=r.getThumbnail(s),r.cache[e]=u;void 0!==t&&t(u)}else{var p={title:"Error",body:"Manifest file does not contain an id!\n\n"+e};o.a.ee.emit("alert",p)}else{var g={title:"Error",body:"Manifest file does not contain a label!\n\n"+e};o.a.ee.emit("alert",g)}}).catch(function(t){console.log(t);var n={title:"Error",body:"Could not read manifest!\n\n"+e};o.a.ee.emit("alert",n)})})}},{key:"getAttribution",value:function(e){var t=e.getRequiredStatement();try{return t.value[0].value}catch(e){}}},{key:"getDescription",value:function(e){var t=e.getDescription();try{return t[0].value}catch(e){}}},{key:"getMetadata",value:function(e){var t=e.getMetadata(),n=[];if(null!=t){var r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;try{var c=u.label[0].value,h=u.value[0].value;"Size"===c&&(h=s()(parseInt(h,10))),h=this.addBlankTarget(h),n.push({label:c,value:h})}catch(e){}}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}}},{key:"getLicense",value:function(e){var t=e.getLicense();if(void 0!==t&&c.a.isURL(t))return t}},{key:"getResource",value:function(e){var t={source:null,type:null};if("function"!=typeof e.getSequenceByIndex)return t;var n=e.getSequenceByIndex(0);if(void 0===n)return t;var r=this.getImageResource(n);if(!1!==r)return r;var i=this.getAudioVideoResource(n);if(!1!==i)return i;var o=this.getFileResource(n);return o||t}},{key:"getManifestations",value:function(e){var t=[],n=e.getRenderings();for(var r in n)if(n.hasOwnProperty(r)){var i=n[r],o={label:i.getDefaultLabel(),url:i.id};t.push(o)}return t}},{key:"getAudioVideoResource",value:function(e){if(!e.__jsonld)return!1;var t=e.__jsonld;if(!t.hasOwnProperty("elements"))return!1;var n=t.elements[0];if(void 0===n)return!1;if(!n.hasOwnProperty("format"))return!1;var r=n.format.substr(0,5);return("audio"===r||"video"===r)&&(null!==n["@id"]&&{source:n,type:"audioVideo"})}},{key:"getFileResource",value:function(e){try{return{source:e.getCanvasByIndex(0).getContent()[0].getBody()[0].id,type:"file"}}catch(e){}try{return{source:e.getCanvasByIndex(0).id,type:"file",format:e.getCanvasByIndex(0).__jsonld.format}}catch(e){}return null}},{key:"getImageResource",value:function(e){var t=e.getCanvasByIndex(0);if(void 0===t)return!1;var n=t.getImages();if(void 0===n||0===n.length)return!1;var r=n[0].getResource();if(void 0===r)return!1;var i=r.getService("http://iiif.io/api/image/2/level2.json");return!(!i&&!(i=r.getService("http://iiif.io/api/image/2/level1.json")))&&(void 0!==i.hasOwnProperty("id")&&{source:i.id,type:"imageService"})}},{key:"getThumbnail",value:function(e){var t=e.getThumbnail();if(null!=t&&t.hasOwnProperty("id")){var n=new u.a;n.id=t.id;var r=t.getService("http://iiif.io/api/image/2/level2.json");return null!==r&&r.hasOwnProperty("id")&&(n.service=r.id),n}}},{key:"getManifests",value:function(e){var t=e.getManifests();if(0===t.length)return[];var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n.push({id:i.id,label:i.getDefaultLabel(),thumbnail:this.getThumbnail(i),type:i.getProperty("type")})}return n}},{key:"getCollections",value:function(e){var t=e.getCollections();if(0===t.length)return[];var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];n.push({id:i.id,label:i.getDefaultLabel(),thumbnail:this.getThumbnail(i),type:i.getProperty("type")})}return n}},{key:"addBlankTarget",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=0;n<t.children.length;n++){var r=t.children.item(n);r&&"A"===r.nodeName&&(r.setAttribute("target","_blank"),r.setAttribute("rel","noopener"))}return t.innerHTML}},{key:"fetchFromCache",value:function(e){return!!this.cache.hasOwnProperty(e)&&this.cache[e]}},{key:"getIdFromCurrentUrl",value:function(){var t=this.getGetParameter("manifest",window.location.href);return t&&""!==t||(t=e.config.getManifest()),!(!t||""===t)&&t}},{key:"clearCache",value:function(){this.cache={}}},{key:"getGetParameter",value:function(e,t){return new URL(window.location.href).searchParams.get(e)}}]),t}();d.lang="en",d.cache={},t.a=d}).call(this,n(28))},function(e,t,n){var r,i,o,a=n(235),s=n(14),l=n(21),u=n(37),c=n(36),h=n(144),d=n(119),f=s.WeakMap;if(a){var p=new f,g=p.get,m=p.has,v=p.set;r=function(e,t){return v.call(p,e,t),t},i=function(e){return g.call(p,e)||{}},o=function(e){return m.call(p,e)}}else{var y=h("state");d[y]=!0,r=function(e,t){return u(e,y,t),t},i=function(e){return c(e,y)?e[y]:{}},o=function(e){return c(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(638),i=n(66),o=n(283),a=n(80).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";(function(e){n.d(t,"e",function(){return fe}),n.d(t,"b",function(){return pe}),n.d(t,"d",function(){return de}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return G});var r=n(33),i=n(100),o=(n(171),n(56)),a=n(99),s=n(51),l={}.constructor;function u(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(u);if(e.constructor!==l)return e;var t={};for(var n in e)t[n]=u(e[n]);return t}function c(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=u(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var h=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n};function d(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=h(e[r]," ");else n=h(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n}function f(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function p(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;if(e&&o++,a)if(Array.isArray(a))for(var s=0;s<a.length;s++){var l=a[s];for(var u in l){var c=l[u];null!=c&&(r&&(r+="\n"),r+=""+f(u+": "+d(c)+";",o))}}else for(var h in a){var p=a[h];null!=p&&(r&&(r+="\n"),r+=""+f(h+": "+d(p)+";",o))}for(var g in t){var m=t[g];null!=m&&"fallbacks"!==g&&(r&&(r+="\n"),r+=""+f(g+": "+d(m)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r="\n"+r+"\n"),f(e+" {"+r,--o)+f("}",o)):r}var g=/([[\].#*$><+~=|^:(),"'`\s])/g,m="undefined"!=typeof CSS&&CSS.escape,v=function(e){return m?m(e):e.replace(g,"\\$1")},y=function(){function e(e,t,n){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),b=function(e){function t(t,n,r){var i;(i=e.call(this,t,n,r)||this).selectorText=void 0,i.id=void 0,i.renderable=void 0;var o=r.selector,a=r.scoped,l=r.sheet,u=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=u(Object(s.a)(Object(s.a)(i)),l),i.selectorText="."+v(i.id)),i}Object(a.a)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=d(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return p(this.selectorText,this.style,n)},Object(o.a)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(y),_={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new b(e,t,n)}},w={indent:1,children:!0},T=/@([\w-]+)/,S=function(){function e(e,t,n){this.type="conditional",this.at=void 0,this.key=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e;var i=e.match(T);for(var o in this.at=i?i[1]:"unknown",this.options=n,this.rules=new G(Object(r.a)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.toString=function(e){if(void 0===e&&(e=w),!1===e.children)return this.key+" {}";var t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""},e}(),E=/@media|@supports\s+/,x={onCreateRule:function(e,t,n){return E.test(e)?new S(e,t,n):null}},k={indent:1,children:!0},C=/@keyframes\s+([\w-]+)/,O=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var i=e.match(C);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:v(s(this,a)),this.rules=new G(Object(r.a)({},n,{parent:this})),t)this.rules.add(l,t[l],Object(r.a)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){if(void 0===e&&(e=k),!1===e.children)return this.at+" "+this.id+" {}";var t=this.rules.toString(e);return t&&(t="\n"+t+"\n"),this.at+" "+this.id+" {"+t+"}"},e}(),P=/@keyframes\s+/,I=/\$([\w-]+)/g,A=function(e,t){return"string"==typeof e?e.replace(I,function(e,n){return n in t?t[n]:e}):e},R=function(e,t,n){var r=e[t],i=A(r,n);i!==r&&(e[t]=i)},L={onCreateRule:function(e,t,n){return"string"==typeof e&&P.test(e)?new O(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&R(e,"animation-name",n.keyframes),"animation"in e&&R(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return A(e,r.keyframes);default:return e}}},M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderable=void 0,t}return Object(a.a)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Object(r.a)({},e,{allowEmpty:!0}):e;return p(this.key,this.style,n)},t}(y),D={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new M(e,t,n):null}},N=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=p(this.key,this.style[n]),this.style[n+1]&&(t+="\n");return t}return p(this.key,this.style,e)},e}(),j={onCreateRule:function(e,t,n){return"@font-face"===e?new N(e,t,n):null}},U=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return p(this.key,this.style,e)},e}(),F={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new U(e,t,n):null}},B=function(){function e(e,t,n){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),z={"@charset":!0,"@import":!0,"@namespace":!0},H=[_,x,L,D,j,F,{onCreateRule:function(e,t,n){return e in z?new B(e,t,n):null}}],V={process:!0},W={force:!0,process:!0},G=function(){function e(e){this.map={},this.raw={},this.index=[],this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,l=i.Renderer,u=i.generateId,h=i.scoped,d=Object(r.a)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:u,scoped:h},n);this.raw[e]=t,e in this.classes&&(d.selector="."+v(this.classes[e]));var f=c(e,t,d);if(!f)return null;this.register(f);var p=void 0===d.index?this.index.length:d.index;return this.index.splice(p,0,f),f},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof b?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof O&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof b?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof O&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.onUpdate(t,this.get(e),n);else for(var r=0;r<this.index.length;r++)this.onUpdate(t,this.index[r],n)},t.onUpdate=function(t,n,r){void 0===r&&(r=V);var i=this.options,o=i.jss.plugins,a=i.sheet;if(n.rules instanceof e)n.rules.update(t,r);else{var s=n,l=s.style;if(o.onUpdate(t,n,a,r),r.process&&l&&l!==s.style){for(var u in o.onProcessStyle(s.style,s,a),s.style){var c=s.style[u];c!==l[u]&&s.prop(u,c,W)}for(var h in l){var d=s.style[h],f=l[h];null==d&&d!==f&&s.prop(h,null,W)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||r)&&(t&&(t+="\n"),t+=o)}return t},e}(),q=function(){function e(e,t){for(var n in this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Object(r.a)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new G(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.toString=function(e){return this.rules.toString(e)},e}(),$=function(){function e(){this.plugins={internal:[],external:[]},this.registry=void 0}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),X=new(function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){return this.registry.filter(function(e){return e.attached}).map(function(t){return t.toString(e)}).join("\n")},Object(o.a)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}()),K=void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Y="2f1acc6c3a606b082e5eef5e54414ffb";null==K[Y]&&(K[Y]=0);var Z=K[Y]++,Q=function(e){void 0===e&&(e={});var t=0,n=e.minify?"c":"";return function(r,i){t+=1;var o=n,a="";return i&&(o=i.options.classNamePrefix||n,null!=i.options.jss.id&&(a+=i.options.jss.id)),e.minify?""+o+Z+a+t:o+r.key+"-"+Z+(a&&"-"+a)+"-"+t}},J=function(e){var t;return function(){return t||(t=e()),t}};function ee(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}}function te(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=d(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return!1}return!0}function ne(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}}function re(e,t){return e.selectorText=t,e.selectorText===t}var ie=J(function(){return document.querySelector("head")});function oe(e){var t=X.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if((n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e))&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=ie(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ae=J(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null}),se=function(e,t,n){void 0===n&&(n=e.cssRules.length);try{if("insertRule"in e)e.insertRule(t,n);else if("appendRule"in e){e.appendRule(t)}}catch(e){return!1}return e.cssRules[n]},le=function(){var e=document.createElement("style");return e.textContent="\n",e},ue=function(){function e(e){this.getPropertyValue=ee,this.setProperty=te,this.removeProperty=ne,this.setSelector=re,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,e&&X.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||le(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ae();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){!this.element.parentNode&&this.sheet&&(!function(e,t){var n=t.insertionPoint,r=oe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else ie().appendChild(e)}(this.element,this.sheet.options),this.hasInsertedRules&&(this.hasInsertedRules=!1,this.deploy()))},t.detach=function(){this.element.parentNode.removeChild(this.element)},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;return("conditional"!==e.type&&"keyframes"!==e.type||!1!==(i=se(n,r.toString({children:!1}),t)))&&(this.insertRules(r.rules,i),i)}var o=e.toString();if(!o)return!1;var a=se(n,o,t);return!1!==a&&(this.hasInsertedRules=!0,e.renderable=a,a)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)},t.indexOf=function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ce=0,he=function(){function e(e){this.id=ce++,this.version="10.0.0-alpha.17",this.plugins=new $,this.options={id:{minify:!1},createGenerateId:Q,Renderer:i.a?ue:null,plugins:[]},this.generateId=Q({minify:!1});for(var t=0;t<H.length;t++)this.plugins.use(H[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Object(r.a)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===X.index?0:X.index+1);var i=new q(e,Object(r.a)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),X.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var i=Object(r.a)({},n,{jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=c(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){e.plugins.use(t)}),this},e}();function de(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=de(r);o&&(t||(t={}),t[n]=o)}}return t}var fe="undefined"!=typeof CSS&&CSS&&"number"in CSS,pe=function(e){return new he(e)};pe()}).call(this,n(28))},function(e,t,n){var r=n(35),i=n(117),o=n(30),a=n(24),s=n(123),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h;return function(f,p,g,m){for(var v,y,b=o(f),_=i(b),w=r(p,g,3),T=a(_.length),S=0,E=m||s,x=t?E(f,T):n?E(f,0):void 0;T>S;S++)if((d||S in _)&&(y=w(v=_[S],S,b),e))if(t)x[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(x,v)}else if(c)return!1;return h?-1:u||c?c:x}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){var r=n(25),i=n(143),o=n(78),a=n(57),s=n(67),l=n(36),u=n(233),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=a(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(36),i=n(30),o=n(144),a=n(191),s=o("IE_PROTO"),l=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(e,t,n){"use strict";t.a=function(e){return e&&e.ownerDocument||document}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){var r=n(117),i=n(43);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(14),i=n(102),o=n(37),a=n(36),s=n(183),l=n(234),u=n(47),c=u.get,h=u.enforce,d=String(l).split("toString");i("inspectSource",function(e){return l.call(e)}),(e.exports=function(e,t,n,i){var l=!!i&&!!i.unsafe,u=!!i&&!!i.enumerable,c=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||o(n,"name",t),h(n).source=d.join("string"==typeof t?t:"")),e!==r?(l?!c&&e[t]&&(u=!0):delete e[t],u?e[t]=n:o(e,t,n)):u?e[t]=n:s(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||l.call(this)})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(43),i=/"/g;e.exports=function(e,t,n,o){var a=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,n){var r=n(10);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){var r=n(136)("wks"),i=n(212),o=n(54).Symbol,a=n(282);e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return c});n(39);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function i(e){if(e.type)return e;if("#"===e.charAt(0))return i(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map(function(e){return e+e})),n?"rgb(".concat(n.map(function(e){return parseInt(e,16)}).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(["Material-UI: unsupported `".concat(e,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map(function(e){return parseFloat(e)})}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map(function(e,t){return t<3?parseInt(e,10):e}):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function a(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=i(e)).type?i(function(e){var t=(e=i(e)).values,n=t[0],r=t[1]/100,a=t[2]/100,s=r*Math.min(a,1-a),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return a-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),o({type:u,values:c})}(e)).values:e.values;return t=t.map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){return e=i(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function u(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function c(e,t){if(e=i(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(21);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(6),i=n(239),o=n(186),a=n(119),s=n(240),l=n(182),u=n(144)("IE_PROTO"),c=function(){},h=function(){var e,t=l("iframe"),n=o.length;for(t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),h=e.F;n--;)delete h.prototype[o[n]];return h()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[u]=e):n=h(),void 0===t?n:i(n,t)},a[u]=!0},function(e,t,n){var r=n(29).f,i=n(36),o=n(23)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(23),i=n(68),o=n(37),a=r("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,i(null)),e.exports=function(e){s[a][e]=!0}},function(e,t,n){var r=n(11),i=n(132);e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){"use strict";var r=n(1),i=n(14),o=n(25),a=n(204),s=n(27),l=n(192),u=n(72),c=n(78),h=n(37),d=n(24),f=n(250),p=n(267),g=n(67),m=n(36),v=n(127),y=n(21),b=n(68),_=n(89),w=n(87).f,T=n(268),S=n(50).forEach,E=n(90),x=n(29),k=n(52),C=n(47),O=C.get,P=C.set,I=x.f,A=k.f,R=Math.round,L=i.RangeError,M=l.ArrayBuffer,D=l.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,U=s.TypedArray,F=s.TypedArrayPrototype,B=s.aTypedArrayConstructor,z=s.isTypedArray,H=function(e,t){for(var n=0,r=t.length,i=new(B(e))(r);r>n;)i[n]=t[n++];return i},V=function(e,t){I(e,t,{get:function(){return O(this)[t]}})},W=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},G=function(e,t){return z(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},q=function(e,t){return G(e,t=g(t,!0))?c(2,e[t]):A(e,t)},$=function(e,t,n){return!(G(e,t=g(t,!0))&&y(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?I(e,t,n):(e[t]=n.value,e)};o?(N||(k.f=q,x.f=$,V(F,"buffer"),V(F,"byteOffset"),V(F,"byteLength"),V(F,"length")),r({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:q,defineProperty:$}),e.exports=function(e,t,n,o){var s=e+(o?"Clamped":"")+"Array",l="get"+e,c="set"+e,g=i[s],m=g,v=m&&m.prototype,x={},k=function(e,n){I(e,n,{get:function(){return function(e,n){var r=O(e);return r.view[l](n*t+r.byteOffset,!0)}(this,n)},set:function(e){return function(e,n,r){var i=O(e);o&&(r=(r=R(r))<0?0:r>255?255:255&r),i.view[c](n*t+i.byteOffset,r,!0)}(this,n,e)},enumerable:!0})};N?a&&(m=n(function(e,n,r,i){return u(e,m,s),y(n)?W(n)?void 0!==i?new g(n,p(r,t),i):void 0!==r?new g(n,p(r,t)):new g(n):z(n)?H(m,n):T.call(m,n):new g(f(n))}),_&&_(m,U),S(w(g),function(e){e in m||h(m,e,g[e])}),m.prototype=v):(m=n(function(e,n,r,i){u(e,m,s);var o,a,l,c=0,h=0;if(y(n)){if(!W(n))return z(n)?H(m,n):T.call(m,n);o=n,h=p(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw L("Wrong length");if((a=g-h)<0)throw L("Wrong length")}else if((a=d(i)*t)+h>g)throw L("Wrong length");l=a/t}else l=f(n),o=new M(a=l*t);for(P(e,{buffer:o,byteOffset:h,byteLength:a,length:l,view:new D(o)});c<l;)k(e,c++)}),_&&_(m,U),v=m.prototype=b(F)),v.constructor!==m&&h(v,"constructor",m),j&&h(v,j,s),x[s]=m,r({global:!0,forced:m!=g,sham:!N},x),"BYTES_PER_ELEMENT"in m||h(m,"BYTES_PER_ELEMENT",t),"BYTES_PER_ELEMENT"in v||h(v,"BYTES_PER_ELEMENT",t),E(s)}):e.exports=function(){}},function(e,t,n){var r=n(193),i=n(205),o=n(102)("metadata"),a=o.store||(o.store=new i),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,getMap:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},toKey:function(e){return void 0===e||"symbol"==typeof e?e:String(e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(59),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r=n(94),i=n(277),o=n(96),a=n(160),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},e.exports=r},function(e,t,n){"use strict";var r,i,o,a,s,l=n(744).toUnsigned;r=function(e,t){var n,o,a,s,u,c=[];if(!t.length)return null;for(n=0;n<e.byteLength;)o=l(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),a=i(e.subarray(n+4,n+8)),s=o>1?n+o:e.byteLength,a===t[0]&&(1===t.length?c.push(e.subarray(n+8,s)):(u=r(e.subarray(n+8,s),t.slice(1))).length&&(c=c.concat(u))),n=s;return c},i=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},o=function(e){return r(e,["moov","trak"]).reduce(function(e,t){var n,i,o,a,s;return(n=r(t,["tkhd"])[0])?(i=n[0],a=l(n[o=0===i?12:20]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3]),(s=r(t,["mdia","mdhd"])[0])?(o=0===(i=s[0])?12:20,e[a]=l(s[o]<<24|s[o+1]<<16|s[o+2]<<8|s[o+3]),e):null):null},{})},a=function(e,t){var n,i,o;return n=r(t,["moof","traf"]),i=[].concat.apply([],n.map(function(t){return r(t,["tfhd"]).map(function(n){var i,o;return i=l(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),o=e[i]||9e4,(r(t,["tfdt"]).map(function(e){var t,n;return t=e[0],n=l(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=l(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n})[0]||1/0)/o})})),o=Math.min.apply(null,i),isFinite(o)?o:0},s=function(e){var t=r(e,["moov","trak"]),n=[];return t.forEach(function(e){var t=r(e,["mdia","hdlr"]),o=r(e,["tkhd"]);t.forEach(function(e,t){var r,a,s=i(e.subarray(8,12)),l=o[t];"vide"===s&&(a=0===(r=new DataView(l.buffer,l.byteOffset,l.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(a))})}),n},e.exports={findBox:r,parseType:i,timescale:o,startTime:a,videoTrackIds:s}},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map(function(e){return n(e,r)})}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function o(e,t,r){var o={};return r.isMergeableObject(e)&&i(e).forEach(function(t){o[t]=n(e[t],r)}),i(t).forEach(function(i){r.isMergeableObject(t[i])&&e[i]?o[i]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(i,r)(e[i],t[i],r):o[i]=n(t[i],r)}),o}function a(t,i,a){(a=a||{}).arrayMerge=a.arrayMerge||r,a.isMergeableObject=a.isMergeableObject||e;var s=Array.isArray(i),l=Array.isArray(t),u=s===l;return u?s?a.arrayMerge(t,i,a):o(t,i,a):n(i,a)}return a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return a(e,n,t)},{})},a}()},function(e,t,n){"use strict";n.d(t,"b",function(){return a});var r=n(7),i=n.n(r),o=(n(39),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"}),a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195},s=function(e){return"".concat(Math.round(e),"ms")};t.a={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?a.standard:n,l=t.easing,u=void 0===l?o.easeInOut:l,c=t.delay,h=void 0===c?0:c;i()(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map(function(e){return"".concat(e," ").concat("string"==typeof r?r:s(r)," ").concat(u," ").concat("string"==typeof h?h:s(h))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(0),i=n.n(r),o="undefined"!=typeof window?i.a.useLayoutEffect:i.a.useEffect;function a(e){var t=i.a.useRef(e);return o(function(){t.current=e}),i.a.useCallback(function(e){return(0,t.current)(e)},[])}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r=function(e){return e.scrollTop};function i(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"==typeof n?n:n[t.mode],delay:i.transitionDelay}}},function(e,t,n){var r=n(237),i=n(186).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(67),i=n(29),o=n(78);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(6),i=n(248);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){"use strict";var r=n(34),i=n(29),o=n(23),a=n(25),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(58);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(119),i=n(21),o=n(36),a=n(29).f,s=n(118),l=n(130),u=s("meta"),c=0,h=Object.isExtensible||function(){return!0},d=function(e){a(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},f=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!h(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},getWeakData:function(e,t){if(!o(e,u)){if(!h(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},onFreeze:function(e){return l&&f.REQUIRED&&h(e)&&!o(e,u)&&d(e),e}};r[u]=!0},function(e,t,n){var r=n(11),i=n(132);e.exports=r?i:function(e){return Set.prototype.values.call(e)}},function(e,t,n){e.exports=!n(75)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(80),i=n(134);e.exports=n(94)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(76);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"==typeof window?"undefined":r(window))&&"object"===("undefined"==typeof document?"undefined":r(document))&&9===document.nodeType;t.a=i},function(e,t,n){"use strict";var r=n(0),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){var r=n(14),i=n(183),o=n(11),a=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.1.3",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(65);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(43),i="["+n(149)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(59),i=n(43),o=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){"use strict";(function(e){var r=n(690),i=n(691),o=n(292);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return z(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return V(z(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function T(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return V(H(t),e,n,r)}function E(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return T(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function A(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:z(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function z(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(28))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(165),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(138);o.inherits=n(97);var a=n(296),s=n(299);o.inherits(h,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var c=l[u];h.prototype[c]||(h.prototype[c]=s.prototype[c])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(19),l=n(0),u=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return""}}]),t}(l.Component);t.a=u},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(4),a=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"pageChanged",value:function(e,t){var n="";this.previousIds.length>0&&(n=this.previousIds.slice(-1)[0]),n!==e&&this.previousIds.push(e),window.history.pushState({},t,"?manifest="+e)}},{key:"goBack",value:function(){this.previousIds.splice(-1,1);var e=this.previousIds.slice(-1)[0];e&&o.a.ee.emit("open-folder",e)}}]),e}();a.previousIds=[],t.a=a},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(28))},function(e,t,n){"use strict";var r=n(0),i=n.n(r).a.createContext({});t.a=i},function(e,t,n){var r=n(10),i=n(65),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(57),i=n(24),o=n(79),a=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(10),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(237),i=n(186);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(21),i=n(103),o=n(23)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(10),i=n(23)("species");e.exports=function(e){return!r(function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t){e.exports={}},function(e,t,n){var r=n(127),i=n(125),o=n(23)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(65),i=n(23)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){"use strict";var r=n(247).IteratorPrototype,i=n(68),o=n(78),a=n(69),s=n(125),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=l,e}},function(e,t,n){var r=n(10);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){"use strict";var r=n(20),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(6),i=n(126);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){var r=n(54),i=n(206).f,o=n(95),a=n(161),s=n(210),l=n(280),u=n(637);e.exports=function(e,t){var n,c,h,d,f,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(c in t){if(d=t[c],h=e.noTargetGet?(f=i(n,c))&&f.value:n[c],!u(g?c:p+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),a(n,c,d,e)}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(632),i=n(209);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(54),i=n(210),o=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.0.1",mode:n(159)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(80).f,i=n(66),o=n(62)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(107).Buffer)},function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},function(e,t,n){"use strict";var r=n(110);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef(function(t,n){return o.default.createElement(a.default,(0,i.default)({ref:n},t),e)}));0;return n.muiName=a.default.muiName,n};var i=r(n(3)),o=r(n(0)),a=r(n(778))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=n(56),u=n(51);function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?Object(u.a)(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}var p=n(179);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var m={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,Object(p.a)(t))}},v=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.init(t,n)}return Object(l.a)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||m,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,a({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}()),y=function(){function e(){s(this,e),this.observers={}}return Object(l.a)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)}),this}},{key:"off",value:function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var r=n.observers[e].indexOf(t);r>-1&&n.observers[e].splice(r,1)}else delete n.observers[e]})}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach(function(e){e.apply(void 0,n)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(t){t.apply(t,[e].concat(n))})}}}]),e}();function b(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function _(e){return null==e?"":""+e}function w(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return i()?{}:{obj:e,k:r(o.shift())}}function T(e,t,n){var r=w(e,t,Object);r.obj[r.k]=n}function S(e,t){var n=w(e,t),r=n.obj,i=n.k;if(r)return r[i]}function E(e,t,n){for(var r in t)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):E(e[r],t[r],n):e[r]=t[r];return e}function x(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function C(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return k[e]}):e}var O=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,t),n=c(this,h(t).call(this)),y.call(Object(u.a)(n)),n.data=e||{},n.options=r,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return f(t,y),Object(l.a)(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=[e,t];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split(".")),S(this.data,o)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),T(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(s=e.split("."))[1]),this.addNamespaces(t);var l=S(this.data,s)||{};r?E(l,n,i):l=a({},l,n),T(this.data,s,l),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?a({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(),P={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach(function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))}),t}},I=function(e){function t(e){var n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(this,t),n=c(this,h(t).call(this)),y.call(Object(u.a)(n)),r=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],i=e,o=Object(u.a)(n),r.forEach(function(e){i[e]&&(o[e]=i[e])}),n.options=a,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=v.create("translator"),n}return f(t,y),Object(l.a)(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t){var n=this;if("object"!==i(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],t),s=o.key,l=o.namespaces,u=l[l.length-1],c=t.lng||this.language,h=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(h){var d=t.nsSeparator||this.options.nsSeparator;return u+d+s}return s}var f=this.resolve(e,t),p=f&&f.res,g=f&&f.usedKey||s,m=f&&f.exactUsedKey||s,v=Object.prototype.toString.apply(p),y=["[object Number]","[object Function]","[object RegExp]"],b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,w="string"!=typeof p&&"boolean"!=typeof p&&"number"!=typeof p;if(_&&p&&w&&y.indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,p,t):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(r){var T="[object Array]"===v,S=T?[]:{},E=T?m:g;for(var x in p)if(Object.prototype.hasOwnProperty.call(p,x)){var k="".concat(E).concat(r).concat(x);S[x]=this.translate(k,a({},t,{joinArrays:!1,ns:l})),S[x]===k&&(S[x]=p[x])}p=S}}else if(_&&"string"==typeof b&&"[object Array]"===v)(p=p.join(b))&&(p=this.extendTranslation(p,e,t));else{var C=!1,O=!1;if(!this.isValidLookup(p)&&void 0!==t.defaultValue){if(C=!0,void 0!==t.count){var P=this.pluralResolver.getSuffix(c,t.count);p=t["defaultValue".concat(P)]}p||(p=t.defaultValue)}this.isValidLookup(p)||(O=!0,p=s);var I=t.defaultValue&&t.defaultValue!==p&&this.options.updateMissing;if(O||C||I){this.logger.log(I?"updateKey":"missingKey",c,u,s,I?t.defaultValue:p);var A=[],R=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&R&&R[0])for(var L=0;L<R.length;L++)A.push(R[L]);else"all"===this.options.saveMissingTo?A=this.languageUtils.toResolveHierarchy(t.lng||this.language):A.push(t.lng||this.language);var M=function(e,r){n.options.missingKeyHandler?n.options.missingKeyHandler(e,u,r,I?t.defaultValue:p,I,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,u,r,I?t.defaultValue:p,I,t),n.emit("missingKey",e,u,r,p)};if(this.options.saveMissing){var D=void 0!==t.count&&"string"!=typeof t.count;this.options.saveMissingPlurals&&D?A.forEach(function(e){n.pluralResolver.getPluralFormsOfKey(e,s).forEach(function(t){return M([e],t)})}):M(A,s)}}p=this.extendTranslation(p,e,t,f),O&&p===s&&this.options.appendNamespaceToMissingKey&&(p="".concat(u,":").concat(s)),O&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(p))}return p}},{key:"extendTranslation",value:function(e,t,n,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(a({},n,{interpolation:a({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=a({},this.options.interpolation.defaultVariables,o)),e=this.interpolator.interpolate(e,o,n.lng||this.language,n),!1!==n.nest&&(e=this.interpolator.nest(e,function(){return i.translate.apply(i,arguments)},n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,l="string"==typeof s?[s]:s;return null!=e&&l&&l.length&&!1!==n.applyPostProcessor&&(e=P.handle(l,e,t,n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),u=l.key;n=u;var c=l.namespaces;a.options.fallbackNS&&(c=c.concat(a.options.fallbackNS));var h=void 0!==s.count&&"string"!=typeof s.count,d=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,f=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);c.forEach(function(e){a.isValidLookup(t)||(o=e,f.forEach(function(n){if(!a.isValidLookup(t)){i=n;var o,l,c=u,f=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(f,u,n,e,s);else h&&(o=a.pluralResolver.getSuffix(n,s.count)),h&&d&&f.push(c+o),d&&f.push(c+="".concat(a.options.contextSeparator).concat(s.context)),h&&f.push(c+=o);for(;l=f.pop();)a.isValidLookup(t)||(r=l,t=a.getResource(n,e,l,s))}}))})}}),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}]),t}();function A(e){return e.charAt(0).toUpperCase()+e.slice(1)}var R=function(){function e(t){s(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=v.create("languageUtils")}return Object(l.a)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=A(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=A(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=A(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),r.forEach(function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))}),i}}]),e}(),L=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],M={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1===e?0:2===e?1:(e<0||e>10)&&e%10==0?2:3)}};var D=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.languageUtils=t,this.options=r,this.logger=v.create("pluralResolver"),this.rules=(n={},L.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:M[e.fc]}})}),n)}return Object(l.a)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=this,r=[],i=this.getRule(e);return i?(i.numbers.forEach(function(i){var o=n.getSuffix(e,i);r.push("".concat(t).concat(o))}),r):r}},{key:"getSuffix",value:function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),o=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON?a():this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.logger=v.create("interpolator"),this.init(t,!0)}return Object(l.a)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;t&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e}),e.interpolation||(e.interpolation={escapeValue:!0});var n=e.interpolation;this.escape=void 0!==n.escape?n.escape:C,this.escapeValue=void 0===n.escapeValue||n.escapeValue,this.useRawValueToEscape=void 0!==n.useRawValueToEscape&&n.useRawValueToEscape,this.prefix=n.prefix?x(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?x(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?x(n.nestingPrefix):n.nestingPrefixEscaped||x("$t("),this.nestingSuffix=n.nestingSuffix?x(n.nestingSuffix):n.nestingSuffixEscaped||x(")"),this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this;function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0)return S(t,e);var r=e.split(s.formatSeparator),i=r.shift().trim(),o=r.join(s.formatSeparator).trim();return s.format(S(t,i),o,n)};this.resetRegExp();var c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler;for(a=0;(i=this.regexpUnescape.exec(e))&&(o=u(i[1].trim()),e=e.replace(i[0],o),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;i=this.regexp.exec(e);){if(void 0===(o=u(i[1].trim())))if("function"==typeof c){var h=c(e,i,r);o="string"==typeof h?h:""}else this.logger.warn("missed to pass in variable ".concat(i[1]," for interpolating ").concat(e)),o="";else"string"==typeof o||this.useRawValueToEscape||(o=_(o));if(o=this.escapeValue?l(this.escape(o)):l(o),e=e.replace(i[0],o),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return e}},{key:"nest",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a({},i);function s(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=(r=this.interpolate(r,o)).replace(/'/g,'"');try{o=JSON.parse(r),t&&(o=a({},t,o))}catch(t){this.logger.error("failed parsing options string in nesting for key ".concat(e),t)}return e}for(o.applyPostProcessor=!1;n=this.nestingRegexp.exec(e);){if((r=t(s.call(this,n[1].trim(),o),o))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=_(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();var j=function(e){function t(e,n,r){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s(this,t),i=c(this,h(t).call(this)),y.call(Object(u.a)(i)),i.backend=e,i.store=n,i.languageUtils=r.languageUtils,i.options=o,i.logger=v.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(r,o.backend,o),i}return f(t,y),Object(l.a)(t,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],l=[];return e.forEach(function(e){var r=!0;t.forEach(function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),l.indexOf(t)<0&&l.push(t)))}),r||s.push(e)}),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var r=g(e.split("|"),2),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach(function(n){var r,s,l,u,c,h;r=n.loaded,s=o,u=w(r,[i],Object),c=u.obj,h=u.k,c[h]=c[h]||[],l&&(c[h]=c[h].concat(s)),l||c[h].push(s),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach(function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach(function(t){a[e].indexOf(t)<0&&a[e].push(t)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(function(e){return!e.done})}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,function(s,l){s&&l&&i<5?setTimeout(function(){r.read.call(r,e,t,n,i+1,2*o,a)},o):a(s,l)}):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(function(e){n.loadOne(e)})}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=g(r,2),o=i[0],a=i[1];this.read(o,a,"read",null,null,function(r,i){r&&t.logger.warn("".concat(n,"loading namespace ").concat(a," for language ").concat(o," failed"),r),!r&&i&&t.logger.log("".concat(n,"loaded namespace ").concat(a," for language ").concat(o),i),t.loaded(e,r,i)})}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,a({},o,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r)}}]),t}();function U(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===i(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===i(e[2])||"object"===i(e[3])){var n=e[3]||e[2];Object.keys(n).forEach(function(e){t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function F(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}function B(){}var z=new(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(s(this,t),e=c(this,h(t).call(this)),y.call(Object(u.a)(e)),e.options=F(n),e.services={},e.logger=v,e.modules={external:[]},r&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,r),c(e,Object(u.a)(e));setTimeout(function(){e.init(n,r)},0)}return e}return f(t,y),Object(l.a)(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=a({},U(),this.options,F(t)),this.format=this.options.interpolation.format,n||(n=B),!this.options.isClone){this.modules.logger?v.init(r(this.modules.logger),this.options):v.init(null,this.options);var i=new R(this.options);this.store=new O(this.options.resources,this.options);var o=this.services;o.logger=v,o.resourceStore=this.store,o.languageUtils=i,o.pluralResolver=new D(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new N(this.options),o.backendConnector=new j(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=r(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new I(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}var s=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];s.forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});var l=b(),u=function(){e.changeLanguage(e.options.lng,function(t,r){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),l.resolve(r),n(t,r)})};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}},{key:"loadResources",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],r=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){n.indexOf(e)<0&&n.push(e)})};if(this.language)r(this.language);else{var i=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);i.forEach(function(e){return r(e)})}this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.backendConnector.load(n,this.options.ns,t)}else t(null)}},{key:"reloadResources",value:function(e,t,n){var r=b();return e||(e=this.languages),t||(t=this.options.ns),n||(n=B),this.services.backendConnector.reload(e,t,function(e){r.resolve(),n(e)}),r}},{key:"use",value:function(e){return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&P.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this,r=b();this.emit("languageChanging",e);var i=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources(function(i){!function(e,i){n.translator.changeLanguage(i),i&&(n.emit("languageChanged",i),n.logger.log("languageChanged",i)),r.resolve(function(){return n.t.apply(n,arguments)}),t&&t(e,function(){return n.t.apply(n,arguments)})}(i,e)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(i):i(e):i(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t){var n=this,r=function e(t,r){var o=a({},r);if("object"!==i(r)){for(var s=arguments.length,l=new Array(s>2?s-2:0),u=2;u<s;u++)l[u-2]=arguments[u];o=n.options.overloadTranslationOptionHandler([t,r].concat(l))}return o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,n.t(t,o)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"loadNamespaces",value:function(e,t){var n=this,r=b();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(function(e){r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=b();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter(function(e){return r.indexOf(e)<0});return i.length?(this.options.preload=r.concat(i),this.loadResources(function(e){n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new t(e,n)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B,i=a({},this.options,n,{isClone:!0}),o=new t(i),s=["store","services","language"];return s.forEach(function(t){o[t]=e[t]}),o.translator=new I(o.services,o.options),o.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))}),o.init(i,r),o.translator.options=o.options,o}}]),t}());t.a=z},function(e,t,n){e.exports=function(){"use strict";var e=Object.freeze||function(e){return e},t=e(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),n=e(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),r=e(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),i=e(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),o=e(["#text"]),a=Object.freeze||function(e){return e},s=a(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),l=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),u=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),c=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),h=Object.hasOwnProperty,d=Object.setPrototypeOf,f=("undefined"!=typeof Reflect&&Reflect).apply;function p(e,t){d&&d(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var i=r.toLowerCase();i!==r&&(Object.isFrozen(t)||(t[n]=i),r=i)}e[r]=!0}return e}function g(e){var t={},n=void 0;for(n in e)f(h,e,[n])&&(t[n]=e[n]);return t}f||(f=function(e,t,n){return e.apply(t,n)});var m=Object.seal||function(e){return e},v=m(/\{\{[\s\S]*|[\s\S]*\}\}/gm),y=m(/<%[\s\S]*|[\s\S]*%>/gm),b=m(/^data-[\-\w.\u00B7-\uFFFF]/),_=m(/^aria-[\-\w]+$/),w=m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),T=m(/^(?:\w+script|data):/i),S=m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function x(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var k=("undefined"!=typeof Reflect&&Reflect).apply,C=Array.prototype.slice,O=Object.freeze,P=function(){return"undefined"==typeof window?null:window};k||(k=function(e,t,n){return e.apply(t,n)});var I=function(e,t){if("object"!==(void 0===e?"undefined":E(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P(),h=function(t){return e(t)};if(h.version="1.0.11",h.removed=[],!a||!a.document||9!==a.document.nodeType)return h.isSupported=!1,h;var d=a.document,f=!1,m=!1,A=a.document,R=a.DocumentFragment,L=a.HTMLTemplateElement,M=a.Node,D=a.NodeFilter,N=a.NamedNodeMap,j=void 0===N?a.NamedNodeMap||a.MozNamedAttrMap:N,U=a.Text,F=a.Comment,B=a.DOMParser,z=a.TrustedTypes;if("function"==typeof L){var H=A.createElement("template");H.content&&H.content.ownerDocument&&(A=H.content.ownerDocument)}var V=I(z,d),W=V?V.createHTML(""):"",G=A,q=G.implementation,$=G.createNodeIterator,X=G.getElementsByTagName,K=G.createDocumentFragment,Y=d.importNode,Z={};h.isSupported=q&&void 0!==q.createHTMLDocument&&9!==A.documentMode;var Q=v,J=y,ee=b,te=_,ne=T,re=S,ie=w,oe=null,ae=p({},[].concat(x(t),x(n),x(r),x(i),x(o))),se=null,le=p({},[].concat(x(s),x(l),x(u),x(c))),ue=null,ce=null,he=!0,de=!0,fe=!1,pe=!1,ge=!1,me=!1,ve=!1,ye=!1,be=!1,_e=!1,we=!1,Te=!0,Se=!0,Ee=!1,xe={},ke=p({},["audio","head","math","script","style","template","svg","video"]),Ce=p({},["audio","video","img","source","image"]),Oe=null,Pe=p({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ie=null,Ae=A.createElement("form"),Re=function(e){Ie&&Ie===e||(e&&"object"===(void 0===e?"undefined":E(e))||(e={}),oe="ALLOWED_TAGS"in e?p({},e.ALLOWED_TAGS):ae,se="ALLOWED_ATTR"in e?p({},e.ALLOWED_ATTR):le,Oe="ADD_URI_SAFE_ATTR"in e?p({},e.ADD_URI_SAFE_ATTR):Pe,ue="FORBID_TAGS"in e?p({},e.FORBID_TAGS):{},ce="FORBID_ATTR"in e?p({},e.FORBID_ATTR):{},xe="USE_PROFILES"in e&&e.USE_PROFILES,he=!1!==e.ALLOW_ARIA_ATTR,de=!1!==e.ALLOW_DATA_ATTR,fe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=e.SAFE_FOR_JQUERY||!1,ge=e.SAFE_FOR_TEMPLATES||!1,me=e.WHOLE_DOCUMENT||!1,be=e.RETURN_DOM||!1,_e=e.RETURN_DOM_FRAGMENT||!1,we=e.RETURN_DOM_IMPORT||!1,ye=e.FORCE_BODY||!1,Te=!1!==e.SANITIZE_DOM,Se=!1!==e.KEEP_CONTENT,Ee=e.IN_PLACE||!1,ie=e.ALLOWED_URI_REGEXP||ie,ge&&(de=!1),_e&&(be=!0),xe&&(oe=p({},[].concat(x(o))),se=[],!0===xe.html&&(p(oe,t),p(se,s)),!0===xe.svg&&(p(oe,n),p(se,l),p(se,c)),!0===xe.svgFilters&&(p(oe,r),p(se,l),p(se,c)),!0===xe.mathMl&&(p(oe,i),p(se,u),p(se,c))),e.ADD_TAGS&&(oe===ae&&(oe=g(oe)),p(oe,e.ADD_TAGS)),e.ADD_ATTR&&(se===le&&(se=g(se)),p(se,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&p(Oe,e.ADD_URI_SAFE_ATTR),Se&&(oe["#text"]=!0),me&&p(oe,["html","head","body"]),oe.table&&p(oe,["tbody"]),O&&O(e),Ie=e)},Le=function(e){h.removed.push({element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=W}},Me=function(e,t){try{h.removed.push({attribute:t.getAttributeNode(e),from:t})}catch(e){h.removed.push({attribute:null,from:t})}t.removeAttribute(e)},De=function(e){var t=void 0,n=void 0;if(ye)e="<remove></remove>"+e;else{var r=e.match(/^[\s]+/);(n=r&&r[0])&&(e=e.slice(n.length))}if(f)try{t=(new B).parseFromString(e,"text/html")}catch(e){}if(m&&p(ue,["title"]),!t||!t.documentElement){var i=t=q.createHTMLDocument(""),o=i.body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=V?V.createHTML(e):e}return n&&t.body.insertBefore(A.createTextNode(n),t.body.childNodes[0]||null),X.call(t,me?"html":"body")[0]};h.isSupported&&(function(){try{var e=De('<svg><p><style><img src="</style><img src=x onerror=1//">');e.querySelector("svg img")&&(f=!0)}catch(e){}}(),function(){try{var e=De("<x/><title>&lt;/title&gt;&lt;img&gt;");e.querySelector("title").innerHTML.match(/<\/title/)&&(m=!0)}catch(e){}}());var Ne=function(e){return $.call(e.ownerDocument||e,e,D.SHOW_ELEMENT|D.SHOW_COMMENT|D.SHOW_TEXT,function(){return D.FILTER_ACCEPT},!1)},je=function(e){return"object"===(void 0===M?"undefined":E(M))?e instanceof M:e&&"object"===(void 0===e?"undefined":E(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ue=function(e,t,n){Z[e]&&Z[e].forEach(function(e){e.call(h,t,n,Ie)})},Fe=function(e){var t,n=void 0;if(Ue("beforeSanitizeElements",e,null),!((t=e)instanceof U||t instanceof F||"string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof j&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute))return Le(e),!0;var r=e.nodeName.toLowerCase();if(Ue("uponSanitizeElement",e,{tagName:r,allowedTags:oe}),!oe[r]||ue[r]){if(Se&&!ke[r]&&"function"==typeof e.insertAdjacentHTML)try{var i=e.innerHTML;e.insertAdjacentHTML("AfterEnd",V?V.createHTML(i):i)}catch(e){}return Le(e),!0}return"noscript"===r&&e.innerHTML.match(/<\/noscript/i)?(Le(e),!0):"noembed"===r&&e.innerHTML.match(/<\/noembed/i)?(Le(e),!0):(!pe||e.firstElementChild||e.content&&e.content.firstElementChild||!/</g.test(e.textContent)||(h.removed.push({element:e.cloneNode()}),e.innerHTML?e.innerHTML=e.innerHTML.replace(/</g,"&lt;"):e.innerHTML=e.textContent.replace(/</g,"&lt;")),ge&&3===e.nodeType&&(n=(n=(n=e.textContent).replace(Q," ")).replace(J," "),e.textContent!==n&&(h.removed.push({element:e.cloneNode()}),e.textContent=n)),Ue("afterSanitizeElements",e,null),!1)},Be=function(e,t,n){if(Te&&("id"===t||"name"===t)&&(n in A||n in Ae))return!1;if(de&&ee.test(t));else if(he&&te.test(t));else{if(!se[t]||ce[t])return!1;if(Oe[t]);else if(ie.test(n.replace(re,"")));else if("src"!==t&&"xlink:href"!==t||"script"===e||0!==n.indexOf("data:")||!Ce[e])if(fe&&!ne.test(n.replace(re,"")));else if(n)return!1}return!0},ze=function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0;Ue("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:se};for(o=a.length;o--;){var l=t=a[o],u=l.name,c=l.namespaceURI;if(n=t.value.trim(),r=u.toLowerCase(),s.attrName=r,s.attrValue=n,s.keepAttr=!0,Ue("uponSanitizeAttribute",e,s),n=s.attrValue,"name"===r&&"IMG"===e.nodeName&&a.id)i=a.id,a=k(C,a,[]),Me("id",e),Me(u,e),a.indexOf(i)>o&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===n&&s.keepAttr&&(se[r]||!ce[r]))continue;"id"===u&&e.setAttribute(u,""),Me(u,e)}if(s.keepAttr){ge&&(n=(n=n.replace(Q," ")).replace(J," "));var d=e.nodeName.toLowerCase();if(Be(d,r,n))try{c?e.setAttributeNS(c,u,n):e.setAttribute(u,n),h.removed.pop()}catch(e){}}}Ue("afterSanitizeAttributes",e,null)}},He=function e(t){var n=void 0,r=Ne(t);for(Ue("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ue("uponSanitizeShadowNode",n,null),Fe(n)||(n.content instanceof R&&e(n.content),ze(n));Ue("afterSanitizeShadowDOM",t,null)};return h.sanitize=function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,s=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!je(e)){if("function"!=typeof e.toString)throw new TypeError("toString is not a function");if("string"!=typeof(e=e.toString()))throw new TypeError("dirty is not a string, aborting")}if(!h.isSupported){if("object"===E(a.toStaticHTML)||"function"==typeof a.toStaticHTML){if("string"==typeof e)return a.toStaticHTML(e);if(je(e))return a.toStaticHTML(e.outerHTML)}return e}if(ve||Re(t),h.removed=[],Ee);else if(e instanceof M)n=De("\x3c!--\x3e"),1===(r=n.ownerDocument.importNode(e,!0)).nodeType&&"BODY"===r.nodeName?n=r:"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!be&&!ge&&!me&&-1===e.indexOf("<"))return V?V.createHTML(e):e;if(!(n=De(e)))return be?null:W}n&&ye&&Le(n.firstChild);for(var l=Ne(Ee?e:n);i=l.nextNode();)3===i.nodeType&&i===o||Fe(i)||(i.content instanceof R&&He(i.content),ze(i),o=i);if(o=null,Ee)return e;if(be){if(_e)for(s=K.call(n.ownerDocument);n.firstChild;)s.appendChild(n.firstChild);else s=n;return we&&(s=Y.call(d,s,!0)),s}var u=me?n.outerHTML:n.innerHTML;return ge&&(u=(u=u.replace(Q," ")).replace(J," ")),V?V.createHTML(u):u},h.setConfig=function(e){Re(e),ve=!0},h.clearConfig=function(){Ie=null,ve=!1},h.isValidAttribute=function(e,t,n){Ie||Re({});var r=e.toLowerCase(),i=t.toLowerCase();return Be(r,i,n)},h.addHook=function(e,t){"function"==typeof t&&(Z[e]=Z[e]||[],Z[e].push(t))},h.removeHook=function(e){Z[e]&&Z[e].pop()},h.removeHooks=function(e){Z[e]&&(Z[e]=[])},h.removeAllHooks=function(){Z={}},h}()}()},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(102),i=n(118),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(23)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(57),i=n(70),o=n(125),a=n(47),s=n(190),l=a.set,u=a.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){l(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var r=n(1),i=n(14),o=n(121),a=n(58),s=n(92),l=n(16),u=n(72),c=n(21),h=n(10),d=n(145),f=n(69),p=n(194);e.exports=function(e,t,n,g,m){var v=i[e],y=v&&v.prototype,b=v,_=g?"set":"add",w={},T=function(e){var t=y[e];a(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof v||!(m||y.forEach&&!h(function(){(new v).entries().next()}))))b=n.getConstructor(t,e,g,_),s.REQUIRED=!0;else if(o(e,!0)){var S=new b,E=S[_](m?{}:-0,1)!=S,x=h(function(){S.has(1)}),k=d(function(e){new v(e)}),C=!m&&h(function(){for(var e=new v,t=5;t--;)e[_](t,t);return!e.has(-0)});k||((b=t(function(t,n){u(t,b,e);var r=p(new v,t,b);return null!=n&&l(n,r[_],r,g),r})).prototype=y,y.constructor=b),(x||C)&&(T("delete"),T("has"),g&&T("get")),(C||E)&&T(_),m&&y.clear&&delete y.clear}return w[e]=b,r({global:!0,forced:b!=v},w),f(b,e),m||n.setStrong(b,e,g),b}},function(e,t){var n=Math.expm1,r=Math.exp;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:r(e)-1}:n},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(11),i=n(14),o=n(10);e.exports=r||!o(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i[e]})},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r=n(21),i=n(65),o=n(23)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(37),i=n(58),o=n(10),a=n(23),s=n(202),l=a("species"),u=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),c=!o(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(e,t,n,h){var d=a(e),f=!o(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),p=f&&!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!t});if(!f||!p||"replace"===e&&!u||"split"===e&&!c){var g=/./[d],m=n(d,""[e],function(e,t,n,r,i){return t.exec===s?f&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),v=m[0],y=m[1];i(String.prototype,e,v),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)}),h&&r(RegExp.prototype[d],"sham",!0)}}},function(e,t,n){"use strict";var r=n(106).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(65),i=n(202);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";var r=n(6),i=n(20);e.exports=function(){for(var e=r(this),t=i(e.delete),n=!0,o=0,a=arguments.length;o<a;o++)n=n&&t.call(e,arguments[o]);return!!n}},function(e,t,n){"use strict";var r=n(20),i=n(35),o=n(16);e.exports=function(e){var t,n,a,s,l=arguments.length,u=l>1?arguments[1]:void 0;return r(this),(t=void 0!==u)&&r(u),null==e?new this:(n=[],t?(a=0,s=i(u,l>2?arguments[2]:void 0,2),o(e,function(e){n.push(s(e,a++))})):o(e,n.push,n),new this(n))}},function(e,t,n){"use strict";e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},function(e,t){e.exports=!1},function(e,t,n){var r=n(76);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(54),i=n(95),o=n(66),a=n(210),s=n(279),l=n(211),u=l.get,c=l.enforce,h=String(s).split("toString");n(136)("inspectSource",function(e){return s.call(e)}),(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c(n).source=h.join("string"==typeof t?t:"")),e!==r?(l?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:a(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||s.call(this)})},function(e,t,n){var r=n(136)("keys"),i=n(212);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports={}},function(e,t){e.exports={}},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}}:e.exports=t}).call(this,n(108))},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var u=l.length,c=p(l,u);for(n=0;n<u;++n)o(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(8),i=n(9),o=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"isURL",value:function(e){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}}]),e}();t.a=o},function(e,t,n){"use strict";var r=n(8),i=n(9),o=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.msMaxTouchPoints>0}}]),e}();t.a=o},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(4),a=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"get",value:function(e,t){var n=this.fetchFromCache(e);!1===n?this.fetchFromUrl(e,t):void 0!==t&&t(n)}},{key:"fetchFromUrl",value:function(e,t){var n=this,r=new Headers;""!==o.a.token&&r.set("Authorization","Bearer "+o.a.token);var i=e+"/info.json";fetch(i,{headers:r}).then(function(r){var a=r.status;if(401!==a&&a>=400){var s={title:"Error",body:"Could not fetch info.json!\n\n"+i};o.a.ee.emit("alert",s)}else r.json().then(function(r){401===a?o.a.ee.emit("show-login",r):n.cache[e]=r,void 0!==t&&t(r)})}).catch(function(e){console.log(e);var t={title:"Error",body:"Could not read info.json!\n\n"+i};o.a.ee.emit("alert",t)})}},{key:"fetchFromCache",value:function(e){return!!this.cache.hasOwnProperty(e)&&this.cache[e]}},{key:"clearCache",value:function(){this.cache={}}}]),e}();a.cache={},t.a=a},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(19),l=n(0),u=n(167),c=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.text.split("\n").map(function(t,n){return!0===e.props.urlTranformation&&u.a.isURL(t)?l.createElement("span",{key:n},l.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},t),l.createElement("br",null)):l.createElement("span",{key:n},t,l.createElement("br",null))})}}]),t}(l.Component);t.a=c},function(e,t,n){"use strict";var r=!0;t.a=function(e,t){if(!r){if(e)return;var n="Warning: "+t;"undefined"!=typeof console&&console.warn(n);try{throw Error(n)}catch(e){}}}},function(e,t,n){"use strict";t.a={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},function(e,t,n){var r=n(765),i=n(766),o=n(767);e.exports=function(e){return r(e)||i(e)||o()}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(785),i=n(178);function o(){return Object(r.a)()||i.a}},function(e,t,n){"use strict";var r=n(55);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return Object(r.a)(e).defaultView||t}},function(e,t,n){"use strict";t.a=function(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},function(e,t,n){"use strict";var r=n(63),i=n.n(r),o=n(3),a=n.n(o),s=n(7),l=n.n(s),u=n(83),c=n.n(u);function h(e){return!0==(null!=(t=e)&&"object"==typeof t&&!1===Array.isArray(t))&&"[object Object]"===Object.prototype.toString.call(e);var t}function d(e){var t,n;return!1!==h(e)&&("function"==typeof(t=e.constructor)&&(!1!==h(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}n(39);var f=["xs","sm","md","lg","xl"];function p(e,t,n){var r;return a()({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()({paddingLeft:t(2),paddingRight:t(2)},n,i()({},e.up("sm"),a()({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},i()(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),i()(r,e.up("sm"),{minHeight:64}),r)},n)}var g={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},m={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},v={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},y={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},b={black:"#000",white:"#fff"},_=n(64),w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:b.white,default:v[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}},T={text:{primary:b.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:v[800],default:"#303030"},action:{active:b.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function S(e,t,n,r){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(_.d)(e.main,r):"dark"===t&&(e.dark=Object(_.a)(e.main,1.5*r)))}function E(e){return Math.round(1e5*e)/1e5}var x={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function C(e,t){var n="function"==typeof t?t(e):t,r=n.fontFamily,i=void 0===r?k:r,o=n.fontSize,s=void 0===o?14:o,u=n.fontWeightLight,h=void 0===u?300:u,d=n.fontWeightRegular,f=void 0===d?400:d,p=n.fontWeightMedium,g=void 0===p?500:p,m=n.fontWeightBold,v=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,_=n.allVariants,w=l()(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants"]),T=s/14,S=function(e){return"".concat(e/b*T,"rem")},C=function(e,t,n,r,o){return a()({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===k?{letterSpacing:"".concat(E(r/t),"em")}:{},o,_)},O={h1:C(h,96,1,-1.5),h2:C(h,60,1,-.5),h3:C(f,48,1.04,0),h4:C(f,34,1.17,.25),h5:C(f,24,1.33,0),h6:C(g,20,1.6,.15),subtitle1:C(f,16,1.75,.15),subtitle2:C(g,14,1.57,.1),body1:C(f,16,1.5,.15),body2:C(f,14,1.43,.15),button:C(g,14,1.75,.4,x),caption:C(f,12,1.66,.4),overline:C(f,12,2.66,1,x)};return c()(a()({htmlFontSize:b,pxToRem:S,round:E,fontFamily:i,fontSize:s,fontWeightLight:h,fontWeightRegular:f,fontWeightMedium:g,fontWeightBold:v},O),w,{clone:!1})}var O=.2,P=.14,I=.12;function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(O,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(P,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(I,")")].join(",")}var R=["none",A(0,1,3,0,0,1,1,0,0,2,1,-1),A(0,1,5,0,0,2,2,0,0,3,1,-2),A(0,1,8,0,0,3,4,0,0,3,3,-2),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],L={borderRadius:4};var M=n(84),D=n(172);var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,o=e.palette,s=void 0===o?{}:o,u=e.shadows,h=e.spacing,E=e.typography,x=void 0===E?{}:E,k=l()(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),O=function(e){var t=e.primary,n=void 0===t?{light:g[300],main:g[500],dark:g[700]}:t,r=e.secondary,i=void 0===r?{light:m.A200,main:m.A400,dark:m.A700}:r,o=e.error,s=void 0===o?{light:y[300],main:y[500],dark:y[700]}:o,u=e.type,h=void 0===u?"light":u,d=e.contrastThreshold,f=void 0===d?3:d,p=e.tonalOffset,E=void 0===p?.2:p,x=l()(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function k(e){return Object(_.c)(e,T.text.primary)>=f?T.text.primary:w.text.primary}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(e=a()({},e)).main&&e[t]&&(e.main=e[t]),S(e,"light",n,E),S(e,"dark",r,E),e.contrastText||(e.contrastText=k(e.main)),e}var O={dark:T,light:w};return c()(a()({common:b,type:h,primary:C(n),secondary:C(i,"A400","A200","A700"),error:C(s),grey:v,contrastThreshold:f,getContrastText:k,augmentColor:C,tonalOffset:E},O[h]),x,{clone:!1})}(s),P=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,s=void 0===o?5:o,u=l()(e,["values","unit","step"]);function c(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function h(e,t){var r=f.indexOf(t)+1;return r===f.length?c(e):"@media (min-width:".concat(n[e]).concat(i,") and ")+"(max-width:".concat(n[f[r]]-s/100).concat(i,")")}return a()({keys:f,values:n,up:c,down:function(e){var t=f.indexOf(e)+1,r=n[f[t]];return t===f.length?c("xs"):"@media (max-width:".concat(("number"==typeof r&&t>0?r:e)-s/100).concat(i,")")},between:h,only:function(e){return h(e,e)},width:function(e){return n[e]}},u)}(n),I=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;e="function"==typeof t?t:function(e){return t*e};var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?e(1):1===n.length?e(n[0]):n.map(function(t){var n=e(t);return"number"==typeof n?"".concat(n,"px"):n}).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return t}}),n.mui=!0,n}(h);return a()({breakpoints:P,direction:"ltr",mixins:p(P,I,i),overrides:{},palette:O,props:{},shadows:u||R,typography:C(O,x),spacing:I},c()({shape:L,transitions:M.a,zIndex:D.a},k,{isMergeableObject:d}))}();t.a=N},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t){function n(e){return e.replace(/\n\r?\s*/g,"")}e.exports=function(e){for(var t="",r=0;r<arguments.length;r++)t+=n(e[r])+(arguments[r+1]||"");return t}},,function(e,t,n){var r=n(14),i=n(21),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(14),i=n(37);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(34),i=n(87),o=n(187),a=n(6);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(14)},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(30),i=n(79),o=n(24);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);u>s;)t[s++]=e;return t}},function(e,t,n){var r=n(23),i=n(125),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){"use strict";var r=n(1),i=n(129),o=n(53),a=n(89),s=n(69),l=n(37),u=n(58),c=n(23),h=n(11),d=n(125),f=n(247),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};e.exports=function(e,t,n,c,f,y,b){i(n,t,c);var _,w,T,S=function(e){if(e===f&&O)return O;if(!g&&e in k)return k[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",x=!1,k=e.prototype,C=k[m]||k["@@iterator"]||f&&k[f],O=!g&&C||S(f),P="Array"==t&&k.entries||C;if(P&&(_=o(P.call(new e)),p!==Object.prototype&&_.next&&(h||o(_)===p||(a?a(_,p):"function"!=typeof _[m]&&l(_,m,v)),s(_,E,!0,!0),h&&(d[E]=v))),"values"==f&&C&&"values"!==C.name&&(x=!0,O=function(){return C.call(this)}),h&&!b||k[m]===O||l(k,m,O),d[t]=O,f)if(w={values:S("values"),keys:y?O:S("keys"),entries:S("entries")},b)for(T in w)!g&&!x&&T in k||u(k,T,w[T]);else r({target:t,proto:!0,forced:g||x},w);return w}},function(e,t,n){var r=n(10);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){"use strict";var r=n(14),i=n(25),o=n(27).NATIVE_ARRAY_BUFFER,a=n(37),s=n(91),l=n(10),u=n(72),c=n(59),h=n(24),d=n(250),f=n(87).f,p=n(29).f,g=n(188),m=n(69),v=n(47),y=v.get,b=v.set,_=r.ArrayBuffer,w=_,T=r.DataView,S=r.Math,E=r.RangeError,x=S.abs,k=S.pow,C=S.floor,O=S.log,P=S.LN2,I=function(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,u=l>>1,c=23===t?k(2,-24)-k(2,-77):0,h=e<0||0===e&&1/e<0?1:0,d=0;for((e=x(e))!=e||e===1/0?(i=e!=e?1:0,r=l):(r=C(O(e)/P),e*(o=k(2,-r))<1&&(r--,o*=2),(e+=r+u>=1?c/o:c*k(2,1-u))*o>=2&&(r++,o/=2),r+u>=l?(i=0,r=l):r+u>=1?(i=(e*o-1)*k(2,t),r+=u):(i=e*k(2,u-1)*k(2,t),r=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*h,a},A=function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,u=e[l--],c=127&u;for(u>>=7;s>0;c=256*c+e[l],l--,s-=8);for(n=c&(1<<-s)-1,c>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return n?NaN:u?-1/0:1/0;n+=k(2,t),c-=a}return(u?-1:1)*n*k(2,c-t)},R=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},L=function(e){return[255&e]},M=function(e){return[255&e,e>>8&255]},D=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},N=function(e){return I(e,23,4)},j=function(e){return I(e,52,8)},U=function(e,t){p(e.prototype,t,{get:function(){return y(this)[t]}})},F=function(e,t,n,r){var i=d(+n),o=y(e);if(i+t>o.byteLength)throw E("Wrong index");var a=y(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+t);return r?l:l.reverse()},B=function(e,t,n,r,i,o){var a=d(+n),s=y(e);if(a+t>s.byteLength)throw E("Wrong index");for(var l=y(s.buffer).bytes,u=a+s.byteOffset,c=r(+i),h=0;h<t;h++)l[u+h]=c[o?h:t-h-1]};if(o){if(!l(function(){_(1)})||!l(function(){new _(-1)})||l(function(){return new _,new _(1.5),new _(NaN),"ArrayBuffer"!=_.name})){for(var z,H=(w=function(e){return u(this,w),new _(d(e))}).prototype=_.prototype,V=f(_),W=0;V.length>W;)(z=V[W++])in w||a(w,z,_[z]);H.constructor=w}var G=new T(new w(2)),q=T.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||s(T.prototype,{setInt8:function(e,t){q.call(this,e,t<<24>>24)},setUint8:function(e,t){q.call(this,e,t<<24>>24)}},{unsafe:!0})}else w=function(e){u(this,w,"ArrayBuffer");var t=d(e);b(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},T=function(e,t,n){u(this,T,"DataView"),u(e,w,"DataView");var r=y(e).byteLength,o=c(t);if(o<0||o>r)throw E("Wrong offset");if(o+(n=void 0===n?r-o:h(n))>r)throw E("Wrong length");b(this,{buffer:e,byteLength:n,byteOffset:o}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=o)},i&&(U(w,"byteLength"),U(T,"buffer"),U(T,"byteLength"),U(T,"byteOffset")),s(T.prototype,{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return R(F(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return R(F(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return A(F(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return A(F(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){B(this,1,e,L,t)},setUint8:function(e,t){B(this,1,e,L,t)},setInt16:function(e,t){B(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){B(this,2,e,M,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){B(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){B(this,4,e,D,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){B(this,4,e,N,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){B(this,8,e,j,t,arguments.length>2?arguments[2]:void 0)}});m(w,"ArrayBuffer"),m(T,"DataView"),t.ArrayBuffer=w,t.DataView=T},function(e,t,n){"use strict";var r=n(147),i=n(251);e.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},i,!0)},function(e,t,n){var r=n(21),i=n(89);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(14),i=n(104).trim,o=n(149),a=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(o+"08")||22!==a(o+"0x16");e.exports=l?function(e,t){var n=i(String(e));return a(n,t>>>0||(s.test(n)?16:10))}:a},function(e,t,n){"use strict";var r=n(59),i=n(43);e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){var r,i,o,a=n(14),s=n(10),l=n(65),u=n(35),c=n(240),h=n(182),d=a.location,f=a.setImmediate,p=a.clearImmediate,g=a.process,m=a.MessageChannel,v=a.Dispatch,y=0,b={},_=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},w=function(e){return function(){_(e)}},T=function(e){_(e.data)},S=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},p=function(e){delete b[e]},"process"==l(g)?r=function(e){g.nextTick(w(e))}:v&&v.now?r=function(e){v.now(w(e))}:m?(o=(i=new m).port2,i.port1.onmessage=T,r=u(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(S)?r="onreadystatechange"in h("script")?function(e){c.appendChild(h("script")).onreadystatechange=function(){c.removeChild(this),_(e)}}:function(e){setTimeout(w(e),0)}:(r=S,a.addEventListener("message",T,!1))),e.exports={set:f,clear:p}},function(e,t,n){var r=n(34);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(152);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(23)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r,i,o=n(105),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,u=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec("")[1];(u||c)&&(l=function(e){var t,n,r,i,l=this;return c&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),u&&(t=l.lastIndex),r=a.call(l,e),u&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),c&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=l},function(e,t,n){var r=n(10),i=n(149);e.exports=function(e){return r(function(){return!!i[e]()||"​᠎"!="​᠎"[e]()||i[e].name!==e})}},function(e,t,n){var r=n(14),i=n(10),o=n(145),a=n(27).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!a||!i(function(){l(1)})||!i(function(){new l(-1)})||!o(function(e){new l,new l(null),new l(1.5),new l(e)},!0)||i(function(){return 1!==new l(new s(2),1,void 0).length})},function(e,t,n){"use strict";var r,i=n(14),o=n(91),a=n(92),s=n(147),l=n(270),u=n(21),c=n(47).enforce,h=n(235),d=!i.ActiveXObject&&"ActiveXObject"in i,f=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},g=e.exports=s("WeakMap",p,l,!0,!0);if(h&&d){r=l.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var m=g.prototype,v=m.delete,y=m.has,b=m.get,_=m.set;o(m,{delete:function(e){if(u(e)&&!f(e)){var t=c(this);return t.frozen||(t.frozen=new r),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(u(e)&&!f(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.has(e)}return y.call(this,e)},get:function(e){if(u(e)&&!f(e)){var t=c(this);return t.frozen||(t.frozen=new r),y.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(u(e)&&!f(e)){var n=c(this);n.frozen||(n.frozen=new r),y.call(this,e)?_.call(this,e,t):n.frozen.set(e,t)}else _.call(this,e,t);return this}})}},function(e,t,n){var r=n(94),i=n(207),o=n(134),a=n(135),s=n(160),l=n(66),u=n(277),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=a(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(54),i=n(95);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r,i,o,a=n(633),s=n(76),l=n(95),u=n(66),c=n(162),h=n(163),d=n(54).WeakMap;if(a){var f=new d,p=f.get,g=f.has,m=f.set;r=function(e,t){return m.call(f,e,t),t},i=function(e){return p.call(f,e)||{}},o=function(e){return g.call(f,e)}}else{var v=c("state");h[v]=!0,r=function(e,t){return l(e,v,t),t},i=function(e){return u(e,v)?e[v]:{}},o=function(e){return u(e,v)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(281),i=n(216).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(215),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(281),i=n(216);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(208);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(209);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t,n){var r=n(107),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";var r=n(702),i=n(704);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(705);function b(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var T=(w=w[0]).toLowerCase();this.protocol=T,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&m[w]||(b=b.substr(2),this.slashes=!0)}if(!m[w]&&(S||w&&!v[w])){for(var E,x,k=-1,C=0;C<d.length;C++){-1!==(O=b.indexOf(d[C]))&&(-1===k||O<k)&&(k=O)}-1!==(x=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(E=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(E)),k=-1;for(C=0;C<h.length;C++){var O;-1!==(O=b.indexOf(h[C]))&&(-1===k||O<k)&&(k=O)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var I=this.hostname.split(/\./),A=(C=0,I.length);C<A;C++){var R=I[C];if(R&&!R.match(f)){for(var L="",M=0,D=R.length;M<D;M++)R.charCodeAt(M)>127?L+="x":L+=R[M];if(!L.match(f)){var N=I.slice(0,C),j=I.slice(C+1),U=R.match(p);U&&(N.push(U[1]),j.unshift(U[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[T])for(C=0,A=c.length;C<A;C++){var z=c[C];if(-1!==b.indexOf(z)){var H=encodeURIComponent(z);H===z&&(H=escape(z)),b=b.split(z).join(H)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,T=w,S=n.pathname&&n.pathname.split("/")||[],E=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),w=w&&(""===p[0]||""===S[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=S.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=S.slice(-1)[0],k=(n.host||e.host||S.length>1)&&("."===x||".."===x)||""===x,C=0,O=S.length;O>=0;O--)"."===(x=S[O])?S.splice(O,1):".."===x?(S.splice(O,1),C++):C&&(S.splice(O,1),C--);if(!w&&!T)for(;C--;C)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var P,I=""===S[0]||S[0]&&"/"===S[0].charAt(0);E&&(n.hostname=n.host=I?"":S.length?S.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(w=w||n.host&&S.length)&&!I&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var r=n(728);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class\b/,o=function(e){try{var t=r.call(e);return i.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(s)return function(e){try{return!o(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(o(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){"use strict";var r,i,o,a,s=n(81),l=n(309),u=n(745),c=n(746),h=n(749),d=n(750),f=n(752),p=n(753).H264Stream,g=n(755),m=n(227).isLikelyAacData,v=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],y=["width","height","profileIdc","levelIdc","profileCompatibility"],b=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},_=function(e,t,n,r,i,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};(i=function(e,t){var n=[],r=0,o=0,a=0,s=1/0;t=t||{},i.prototype.init.call(this),this.push=function(t){h.collectDtsInfo(e,t),e&&v.forEach(function(n){e[n]=t[n]}),n.push(t)},this.setEarliestDts=function(t){o=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var i,u,d,f;0!==n.length?(i=c.trimAdtsFramesByEarliestDts(n,e,o),e.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),c.prefixWithSilence(e,i,a,s),e.samples=c.generateSampleTable(i),d=l.mdat(c.concatenateFrameData(i)),n=[],u=l.moof(r,[e]),f=new Uint8Array(u.byteLength+d.byteLength),r++,f.set(u),f.set(d,u.byteLength),h.clearDtsInfo(e),this.trigger("data",{track:e,boxes:f}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new s,(r=function(e,t){var n,i,o=0,a=[],s=[];t=t||{},r.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){h.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],y.forEach(function(t){e[t]=n[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var n,r,i,c,d,f,p,g,m=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=u.groupNalsIntoFrames(a),(i=u.groupFramesIntoGops(n))[0][0].keyFrame||((r=this.getGopForFusion_(a[0],e))?(m=r.duration,i.unshift(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.pts=r.pts,i.dts=r.dts,i.duration+=r.duration):i=u.extendFirstKeyFrame(i)),s.length){var v;if(!(v=t.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");h.clearDtsInfo(e),i=v}h.collectDtsInfo(e,i),e.samples=u.generateSampleTable(i),d=l.mdat(u.concatenateNalData(i)),e.baseMediaDecodeTime=h.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",i.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),p=i[0],g=i[i.length-1],this.trigger("segmentTimingInfo",_(e.baseMediaDecodeTime,p.dts,p.pts,g.dts+g.duration,g.pts+g.duration,m)),this.gopCache_.unshift({gop:i.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),c=l.moof(o,[e]),f=new Uint8Array(c.byteLength+d.byteLength),o++,f.set(c),f.set(d,c.byteLength),this.trigger("data",{track:e,boxes:f}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){h.clearDtsInfo(e),n=void 0,i=void 0},this.getGopForFusion_=function(t){var n,r,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(o=this.gopCache_[a]).gop,e.pps&&b(e.pps[0],o.pps[0])&&e.sps&&b(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,o,a,l,u;for(o=e.byteLength,a=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(r=s[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,o-=i.byteLength,a-=i.nalCount,l-=i.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=o,u.duration=l,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,o,a,l;for(t=s.length-1,n=e.length-1,o=null,a=!1;t>=0&&n>=0;){if(r=s[t],i=e[n],r.pts===i.pts){a=!0;break}r.pts>i.pts?t--:(t===s.length-1&&(o=n),n--)}if(!a&&null===o)return null;if(0===(l=a?n:o))return e;var u=e.slice(l),c=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){s=e}}).prototype=new s,(a=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps&&(this.keepOriginalTimestamps=e.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new s,a.prototype.flush=function(e){var t,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,y.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,v.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=l.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=t.startPts,this.keepOriginalTimestamps||(t.startTime-=s),t.startTime/=9e4,t.endTime=t.endPts,this.keepOriginalTimestamps||(t.endTime-=s),t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(o=function(e){var t,n,s=this,l=!0;o.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new d.MetadataStream,t.aacStream=new g,t.audioTimestampRolloverStream=new d.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new d.TimestampRolloverStream("timed-metadata"),t.adtsStream=new f,t.coalesceStream=new a(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(r){"timed-metadata"!==r.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new i(n,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var o={};this.transmuxPipeline_=o,o.type="ts",o.metadataStream=new d.MetadataStream,o.packetStream=new d.TransportPacketStream,o.parseStream=new d.TransportParseStream,o.elementaryStream=new d.ElementaryStream,o.videoTimestampRolloverStream=new d.TimestampRolloverStream("video"),o.audioTimestampRolloverStream=new d.TimestampRolloverStream("audio"),o.timedMetadataTimestampRolloverStream=new d.TimestampRolloverStream("timed-metadata"),o.adtsStream=new f,o.h264Stream=new p,o.captionStream=new d.CaptionStream,o.coalesceStream=new a(e,o.metadataStream),o.headOfPipeline=o.packetStream,o.packetStream.pipe(o.parseStream).pipe(o.elementaryStream),o.elementaryStream.pipe(o.videoTimestampRolloverStream).pipe(o.h264Stream),o.elementaryStream.pipe(o.audioTimestampRolloverStream).pipe(o.adtsStream),o.elementaryStream.pipe(o.timedMetadataTimestampRolloverStream).pipe(o.metadataStream).pipe(o.coalesceStream),o.h264Stream.pipe(o.captionStream).pipe(o.coalesceStream),o.elementaryStream.on("data",function(a){var l;if("metadata"===a.type){for(l=a.tracks.length;l--;)t||"video"!==a.tracks[l].type?n||"audio"!==a.tracks[l].type||((n=a.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=a.tracks[l]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;t&&!o.videoSegmentStream&&(o.coalesceStream.numberOfTracks++,o.videoSegmentStream=new r(t,e),o.videoSegmentStream.on("timelineStartInfo",function(e){n&&(n.timelineStartInfo=e,o.audioSegmentStream.setEarliestDts(e.dts))}),o.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),o.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),o.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&o.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),o.h264Stream.pipe(o.videoSegmentStream).pipe(o.coalesceStream)),n&&!o.audioSegmentStream&&(o.coalesceStream.numberOfTracks++,o.audioSegmentStream=new i(n,e),o.adtsStream.pipe(o.audioSegmentStream).pipe(o.coalesceStream))}}),o.coalesceStream.on("data",this.trigger.bind(this,"data")),o.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,h.clearDtsInfo(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=r),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,h.clearDtsInfo(t),i.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=r)),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(l){var t=m(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),l=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new s,e.exports={Transmuxer:o,VideoSegmentStream:r,AudioSegmentStream:i,AUDIO_PROPERTIES:v,VIDEO_PROPERTIES:y,generateVideoSegmentTimingInfo:_}},function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},parseId3TagSize:function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=i(e.subarray(10,14)));do{if((n=i(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var o=0;o<r.byteLength;o++)if(0===r[o]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(r,0,o))){var a=r.subarray(o+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}}},function(e,t,n){"use strict";var r=n(724),i=n(725),o=n(726),a=n(302);function s(e,t,n){var r=e;return i(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=a(t,{uri:e}),r.callback=n,r}function l(e,t,n){return u(t=s(e,t,n))}function u(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=c.response?c.response:c.responseText||function(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML;return null}(c),v)try{e=JSON.parse(e)}catch(e){}return e}function i(e){return clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function a(){if(!u){var t;clearTimeout(h),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var i=y,a=null;return 0!==t?(i={body:r(),statusCode:t,method:f,headers:{},url:d,rawRequest:c},c.getAllResponseHeaders&&(i.headers=o(c.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),n(a,i,i.body)}}var s,u,c=e.xhr||null;c||(c=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var h,d=c.url=e.uri||e.url,f=c.method=e.method||"GET",p=e.body||e.data,g=c.headers=e.headers||{},m=!!e.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:f,url:d,rawRequest:c};if("json"in e&&!1!==e.json&&(v=!0,g.accept||g.Accept||(g.Accept="application/json"),"GET"!==f&&"HEAD"!==f&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),c.onreadystatechange=function(){4===c.readyState&&setTimeout(a,0)},c.onload=a,c.onerror=i,c.onprogress=function(){},c.onabort=function(){u=!0},c.ontimeout=i,c.open(f,d,!m,e.username,e.password),m||(c.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(h=setTimeout(function(){if(!u){u=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}},e.timeout)),c.setRequestHeader)for(s in g)g.hasOwnProperty(s)&&c.setRequestHeader(s,g[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(p||null),c}e.exports=l,l.XMLHttpRequest=r.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){l["delete"===e?"del":e]=function(t,n,r){return(n=s(t,n,r)).method=e.toUpperCase(),u(n)}})},function(e,t,n){var r=n(115),i=e.exports={WebVTT:n(741),VTTCue:n(742),VTTRegion:n(743)};r.vttjs=i,r.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=r.VTTCue,l=r.VTTRegion;i.shim=function(){r.VTTCue=o,r.VTTRegion=a},i.restore=function(){r.VTTCue=s,r.VTTRegion=l},r.VTTCue||i.shim()},function(e,t,n){var r,i,o,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=i.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=s.normalizePath(h)}else u.path=a.path,o.params||(u.params=a.params,o.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return W}),n.d(t,"b",function(){return G});var r=n(115),i=n.n(r),o=function(e){return!!e&&"object"==typeof e},a=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(t,n){return Object.keys(n).forEach(function(r){Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):o(t[r])&&o(n[r])?t[r]=e(t[r],n[r]):t[r]=n[r]}),t},{})},s=function(e){return e.reduce(function(e,t){return e.concat(t)},[])},l=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},u=function(e){var t;return(t=e.reduce(function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");e[r]?(t.segments[0].discontinuity=!0,(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t;return e},{}),Object.keys(t).map(function(e){return t[e]})).map(function(e){var t,n;return e.discontinuityStarts=(t=e.segments,n="discontinuity",t.reduce(function(e,t,r){return t[n]&&e.push(r),e},[])),e})},c=function(e){var t,n=e.attributes,r=e.segments,i={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),i},h=function(e){var t,n=e.attributes,r=e.segments,i={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(i.contentProtection=n.contentProtection),i},d=function(e){var t;if(!e.length)return{};var n=e[0].attributes,r=n.sourceDuration,i=n.minimumUpdatePeriod,o=void 0===i?0:i,a=u(e.filter(function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType})).map(h),s=u(e.filter(function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType})),l=e.filter(function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType}),d={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:r,playlists:a,minimumUpdatePeriod:1e3*o};return s.length&&(d.mediaGroups.AUDIO.audio=s.reduce(function(e,t){var n=t.attributes.role&&t.attributes.role.value||"main",r=t.attributes.lang||"",i="main";return r&&(i=t.attributes.lang+" ("+n+")"),e[i]&&e[i].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth?e:(e[i]={language:r,autoselect:!0,default:"main"===n,playlists:[c(t)],uri:""},e)},{})),l.length&&(d.mediaGroups.SUBTITLES.subs=function(e){return e.reduce(function(e,t){var n,r,i,o,a=t.attributes.lang||"text";return e[a]?e:(e[a]={language:a,default:!1,autoselect:!1,playlists:[(n=t,i=n.attributes,o=n.segments,void 0===o&&(o=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration),{attributes:(r={NAME:i.id,BANDWIDTH:i.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:o,mediaSequence:o.length?o[0].number:1})],uri:""},e)},{})}(l)),d};"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var f=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e,t){var n,r,i,o,a;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=r.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;u.path=a.normalizePath(h)}else u.path=s.path,o.params||(u.params=s.params,o.query||(u.query=s.query));return null===u.path&&(u.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(u)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a}),p=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=f.buildAbsoluteURL(i.a.location.href,e)),f.buildAbsoluteURL(e,t))},g=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.range,a=void 0===o?"":o,s={uri:i,resolvedUri:p(n||"",i)};if(a){var l=a.split("-"),u=parseInt(l[0],10),c=parseInt(l[1],10);s.byterange={length:c-u,offset:u}}return s},m=function(e,t,n){var r=e.NOW,i=e.clientOffset,o=e.availabilityStartTime,a=e.timescale,s=void 0===a?1:a,l=e.start,u=void 0===l?0:l,c=e.minimumUpdatePeriod,h=(r+i)/1e3+(void 0===c?0:c)-(o+u);return Math.ceil((h*s-t)/n)},v=function(e,t){for(var n=e.type,r=void 0===n?"static":n,i=e.minimumUpdatePeriod,o=void 0===i?0:i,a=e.media,s=void 0===a?"":a,l=e.sourceDuration,u=e.timescale,c=void 0===u?1:u,h=e.startNumber,d=void 0===h?1:h,f=e.periodIndex,p=[],g=-1,v=0;v<t.length;v++){var y=t[v],b=y.d,_=y.r||0,w=y.t||0;g<0&&(g=w),w&&w>g&&(g=w);var T=void 0;if(_<0){var S=v+1;T=S===t.length?"dynamic"===r&&o>0&&s.indexOf("$Number$")>0?m(e,g,b):(l*c-g)/b:(t[S].t-g)/b}else T=_+1;for(var E=d+p.length+T,x=d+p.length;x<E;)p.push({number:x,duration:b/c,time:g,timeline:f}),g+=b,x++}return p},y={static:function(e){var t=e.duration,n=e.timescale,r=void 0===n?1:n,i=e.sourceDuration;return{start:0,end:Math.ceil(i/(t/r))}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,r=e.availabilityStartTime,i=e.timescale,o=void 0===i?1:i,a=e.duration,s=e.start,l=void 0===s?0:s,u=e.minimumUpdatePeriod,c=void 0===u?0:u,h=e.timeShiftBufferDepth,d=void 0===h?1/0:h,f=(t+n)/1e3,p=r+l,g=f+c-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-d)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},b=function(e){var t=e.type,n=void 0===t?"static":t,r=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.sourceDuration,s=y[n](e),l=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t,n){var r=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.periodIndex,s=e.startNumber;return{number:(void 0===s?1:s)+t,duration:r/o,timeline:a,time:n*r}}}(e));if("static"===n){var u=l.length-1;l[u].duration=a-r/o*u}return l},_=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,w=function(e,t){return e.replace(_,function(e){return function(t,n,r,i){if("$$"===t)return"$";if(void 0===e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(i=r?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}}(t))},T=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,o=g({baseUrl:e.baseUrl,source:w(i.sourceURL,n),range:i.range});return function(e,t){return e.duration||t?e.duration?b(e):v(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map(function(t){n.Number=t.number,n.Time=t.time;var r=w(e.media||"",n);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:p(e.baseUrl||"",r),map:o,number:t.number}})},S="INVALID_NUMBER_OF_PERIOD",E="DASH_EMPTY_MANIFEST",x="DASH_INVALID_XML",k="NO_BASE_URL",C="SEGMENT_TIME_UNSPECIFIED",O="UNSUPPORTED_UTC_TIMING_SCHEME",P=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r;if(!n&&!t||n&&t)throw new Error(C);var o,a=i.map(function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,o=g({baseUrl:n,source:i.sourceURL,range:i.range}),a=g({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)});return n&&(o=b(e)),t&&(o=v(e,t)),o.map(function(e,t){if(a[t]){var n=a[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}}).filter(function(e){return e})},I=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,o=e.timescale,a=void 0===o?1:o,s=e.indexRange,l=void 0===s?"":s,u=e.duration;if(!t)throw new Error(k);var c=g({baseUrl:t,source:r.sourceURL,range:r.range}),h=g({baseUrl:t,source:t,range:l});if(h.map=c,u){var d=b(e);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else i&&(h.duration=i/a,h.timeline=0);return h.number=0,[h]},A=function(e){var t,n,r=e.attributes,i=e.segmentInfo;if(i.template?(n=T,t=a(r,i.template)):i.base?(n=I,t=a(r,i.base)):i.list&&(n=P,t=a(r,i.list)),!n)return{attributes:r};var o=n(t,i.timeline);if(t.duration){var s=t,l=s.duration,u=s.timescale,c=void 0===u?1:u;t.duration=l/c}else o.length?t.duration=o.reduce(function(e,t){return Math.max(e,Math.ceil(t.duration))},0):t.duration=0;return{attributes:t,segments:o}},R=function(e,t){return l(e.childNodes).filter(function(e){return e.tagName===t})},L=function(e){return e.textContent.trim()},M=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5];return 31536e3*parseFloat(r||0)+2592e3*parseFloat(i||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(l||0)},D={mediaPresentationDuration:function(e){return M(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return M(e)},timeShiftBufferDepth:function(e){return M(e)},start:function(e){return M(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?M(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},N=function(e){return e&&e.attributes?l(e.attributes).reduce(function(e,t){var n=D[t.name]||D.DEFAULT;return e[t.name]=n(t.value),e},{}):{}};var j={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},U=function(e,t){return t.length?s(e.map(function(e){return t.map(function(t){return p(e,L(t))})})):e},F=function(e){var t=R(e,"SegmentTemplate")[0],n=R(e,"SegmentList")[0],r=n&&R(n,"SegmentURL").map(function(e){return a({tag:"SegmentURL"},N(e))}),i=R(e,"SegmentBase")[0],o=n||t,s=o&&R(o,"SegmentTimeline")[0],l=n||i||t,u=l&&R(l,"Initialization")[0],c=t&&N(t);c&&u?c.initialization=u&&N(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var h={template:c,timeline:s&&R(s,"S").map(function(e){return N(e)}),list:n&&a(N(n),{segmentUrls:r,initialization:N(u)}),base:i&&a(N(i),{initialization:N(u)})};return Object.keys(h).forEach(function(e){h[e]||delete h[e]}),h},B=function(e){return e.reduce(function(e,t){var n=N(t),r=j[n.schemeIdUri];if(r){e[r]={attributes:n};var o=R(t,"cenc:pssh")[0];if(o){var a=L(o),s=a&&function(e){for(var t=i.a.atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(a);e[r].pssh=s}}return e},{})},z=function(e,t,n){return function(r){var i=N(r),o=U(t,R(r,"BaseURL")),l=R(r,"Role")[0],u={role:N(l)},c=a(e,i,u),h=B(R(r,"ContentProtection"));Object.keys(h).length&&(c=a(c,{contentProtection:h}));var d=F(r),f=R(r,"Representation"),p=a(n,d);return s(f.map(function(e,t,n){return function(r){var i=R(r,"BaseURL"),o=U(t,i),s=a(e,N(r)),l=F(r);return o.map(function(e){return{segmentInfo:a(n,l),attributes:a(s,{baseUrl:e})}})}}(c,o,p)))}},H=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,o=void 0===r?"":r,l=n.NOW,u=void 0===l?Date.now():l,c=n.clientOffset,h=void 0===c?0:c,d=R(e,"Period");if(!d.length)throw new Error(S);var f=N(e),p=U([o],R(e,"BaseURL"));return f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=u,f.clientOffset=h,s(d.map(function(e,t){return function(n,r){var o=U(t,R(n,"BaseURL")),l=N(n),u=parseInt(l.id,10),c=i.a.isNaN(u)?r:u,h=a(e,{periodIndex:c}),d=R(n,"AdaptationSet"),f=F(n);return s(d.map(z(h,o,f)))}}(f,p)))},V=function(e){if(""===e)throw new Error(E);var t=(new i.a.DOMParser).parseFromString(e,"application/xml"),n=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(x);return n},W=function(e,t){return d(H(V(e),t).map(A))},G=function(e){return function(e){var t=R(e,"UTCTiming")[0];if(!t)return null;var n=N(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(O)}return n}(V(e))}}).call(this,n(28))},,function(e,t,n){var r=n(25),i=n(10),o=n(182);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(102);e.exports=r("native-function-to-string",Function.toString)},function(e,t,n){var r=n(14),i=n(234),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i.call(o))},function(e,t,n){var r=n(36),i=n(184),o=n(52),a=n(29);e.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},function(e,t,n){var r=n(36),i=n(57),o=n(120).indexOf,a=n(119);e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){var r=n(10);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){var r=n(25),i=n(29),o=n(6),a=n(122);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(34);e.exports=r("document","documentElement")},function(e,t,n){var r=n(57),i=n(87).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){t.f=n(23)},function(e,t,n){"use strict";var r=n(30),i=n(79),o=n(24),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=o(n.length),l=i(e,s),u=i(t,s),c=arguments.length>2?arguments[2]:void 0,h=a((void 0===c?s:i(c,s))-u,s-l),d=1;for(u<l&&l<u+h&&(d=-1,u+=h-1,l+=h-1);h-- >0;)u in n?n[l]=n[u]:delete n[l],l+=d,u+=d;return n}},function(e,t,n){"use strict";var r=n(103),i=n(24),o=n(35);e.exports=function e(t,n,a,s,l,u,c,h){for(var d,f=l,p=0,g=!!c&&o(c,h,3);p<s;){if(p in a){if(d=g?g(a[p],p,n):a[p],u>0&&r(d))f=e(t,n,d,i(d.length),f,u-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=d}f++}p++}return f}},function(e,t,n){"use strict";var r=n(35),i=n(30),o=n(246),a=n(189),s=n(24),l=n(88),u=n(126);e.exports=function(e){var t,n,c,h,d=i(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(d);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&a(y))for(n=new f(t=s(d.length));t>v;v++)l(n,v,m?g(d[v],v):d[v]);else for(h=y.call(d),n=new f;!(c=h.next()).done;v++)l(n,v,m?o(h,g,[c.value,v],!0):c.value);return n.length=v,n}},function(e,t,n){var r=n(6);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";var r,i,o,a=n(53),s=n(37),l=n(36),u=n(23),c=n(11),h=u("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),c||l(r,h)||s(r,h,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(21);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(57),i=n(59),o=n(24),a=n(128),s=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");e.exports=u||c?function(e){if(u)return l.apply(this,arguments)||0;var t=r(this),n=o(t.length),a=n-1;for(arguments.length>1&&(a=s(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l},function(e,t,n){var r=n(59),i=n(24);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(29).f,i=n(68),o=n(91),a=n(35),s=n(72),l=n(16),u=n(190),c=n(90),h=n(25),d=n(92).fastKey,f=n(47),p=f.set,g=f.getterFor;e.exports={getConstructor:function(e,t,n,u){var c=e(function(e,r){s(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=r&&l(r,e[u],e,n)}),f=g(t),m=function(e,t,n){var r,i,o=f(e),a=v(e,t);return a?a.value=n:(o.last=a={index:i=d(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),h?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},v=function(e,t){var n,r=f(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(c.prototype,{clear:function(){for(var e=f(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=f(this),n=v(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),h?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=f(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(c.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),h&&r(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),o=g(r);u(e,t,function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),c(t)}}},function(e,t){var n=Math.log;e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}},function(e,t,n){var r=n(195),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),l=o(2,127)*(2-s),u=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=i(e),c=r(e);return o<u?c*(o/u/s+1/a-1/a)*u*s:(n=(t=(1+s/a)*o)-(t-o))>l||n!=n?c*(1/0):c*n}},function(e,t,n){var r=n(14).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,t,n){var r=n(21),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(14),i=n(104).trim,o=n(149),a=r.parseFloat,s=1/a(o+"-0")!=-1/0;e.exports=s?function(e){var t=i(String(e)),n=a(t);return 0===n&&"-"==t.charAt(0)?-0:n}:a},function(e,t,n){"use strict";var r=n(25),i=n(10),o=n(122),a=n(187),s=n(143),l=n(30),u=n(117),c=Object.assign;e.exports=!c||i(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||"abcdefghijklmnopqrst"!=o(c({},t)).join("")})?function(e,t){for(var n=l(e),i=arguments.length,c=1,h=a.f,d=s.f;i>c;)for(var f,p=u(arguments[c++]),g=h?o(p).concat(h(p)):o(p),m=g.length,v=0;m>v;)f=g[v++],r&&!d.call(p,f)||(n[f]=p[f]);return n}:c},function(e,t,n){var r=n(25),i=n(122),o=n(57),a=n(143).f,s=function(e){return function(t){for(var n,s=o(t),l=i(s),u=l.length,c=0,h=[];u>c;)n=l[c++],r&&!a.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}};e.exports={entries:s(!0),values:s(!1)}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r,i,o,a,s,l,u,c=n(14),h=n(52).f,d=n(65),f=n(198).set,p=n(199),g=c.MutationObserver||c.WebKitMutationObserver,m=c.process,v=c.Promise,y="process"==d(m),b=h(c,"queueMicrotask"),_=b&&b.value;_||(r=function(){var e,t;for(y&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},y?a=function(){m.nextTick(r)}:g&&!/(iphone|ipod|ipad).*applewebkit/i.test(p)?(s=!0,l=document.createTextNode(""),new g(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s}):v&&v.resolve?(u=v.resolve(void 0),a=function(){u.then(r)}):a=function(){f.call(c,r)}),e.exports=_||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,n){var r=n(6),i=n(21),o=n(131);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(14);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var r=n(147),i=n(251);e.exports=r("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},i)},function(e,t,n){"use strict";var r=n(106).charAt,i=n(47),o=n(190),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(e){a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(24),i=n(197),o=n(43),a=Math.ceil,s=function(e){return function(t,n,s){var l,u,c=String(o(t)),h=c.length,d=void 0===s?" ":String(s),f=r(n);return f<=h||""==d?c:(l=f-h,(u=i.call(d,a(l/d.length))).length>l&&(u=u.slice(0,l)),e?c+u:u+c)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){var r=n(199);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){var r=n(59);e.exports=function(e,t){var n=r(e);if(n<0||n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var r=n(30),i=n(24),o=n(126),a=n(189),s=n(35),l=n(27).aTypedArrayConstructor;e.exports=function(e){var t,n,u,c,h,d=r(e),f=arguments.length,p=f>1?arguments[1]:void 0,g=void 0!==p,m=o(d);if(null!=m&&!a(m))for(h=m.call(d),d=[];!(c=h.next()).done;)d.push(c.value);for(g&&f>2&&(p=s(p,arguments[2],2)),n=i(d.length),u=new(l(this))(n),t=0;n>t;t++)u[t]=g?p(d[t],t):d[t];return u}},function(e,t,n){var r=n(20),i=n(30),o=n(117),a=n(24),s=function(e){return function(t,n,s,l){r(n);var u=i(t),c=o(u),h=a(u.length),d=e?h-1:0,f=e?-1:1;if(s<2)for(;;){if(d in c){l=c[d],d+=f;break}if(d+=f,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=f)d in c&&(l=n(l,c[d],d,u));return l}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){"use strict";var r=n(91),i=n(92).getWeakData,o=n(6),a=n(21),s=n(72),l=n(16),u=n(50),c=n(36),h=n(47),d=h.set,f=h.getterFor,p=u.find,g=u.findIndex,m=0,v=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return p(e.entries,function(e){return e[0]===t})};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,u){var h=e(function(e,r){s(e,h,t),d(e,{type:t,id:m++,frozen:void 0}),null!=r&&l(r,e[u],e,n)}),p=f(t),g=function(e,t,n){var r=p(e),a=i(o(t),!0);return!0===a?v(r).set(t,n):a[r.id]=n,e};return r(h.prototype,{delete:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?v(t).delete(e):n&&c(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?v(t).has(e):n&&c(n,t.id)}}),r(h.prototype,n?{get:function(e){var t=p(this);if(a(e)){var n=i(e);return!0===n?v(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),h}}},function(e,t,n){var r=n(193),i=n(205),o=n(68),a=n(21),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(e,t){return this[e]||(this[e]=t())},s.prototype.next=function(e,t,n){var o=n?this.objectsByIndex[e]||(this.objectsByIndex[e]=new i):this.primitives||(this.primitives=new r),a=o.get(t);return a||o.set(t,a=new s),a};var l=new s;e.exports=function(){var e,t,n=l,r=arguments.length;for(e=0;e<r;e++)a(t=arguments[e])&&(n=n.next(e,t,!0));if(this===Object&&n===l)throw TypeError("Composite keys must contain a non-primitive component");for(e=0;e<r;e++)a(t=arguments[e])||(n=n.next(e,t,!1));return n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){"use strict";var r=n(6),i=n(20);e.exports=function(){for(var e=r(this),t=i(e.add),n=0,o=arguments.length;n<o;n++)t.call(e,arguments[n]);return e}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(10),i=n(23),o=n(11),a=i("iterator");e.exports=!r(function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",o&&!e.toJSON||!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash})},function(e,t,n){"use strict";n(146);var r=n(1),i=n(275),o=n(58),a=n(91),s=n(69),l=n(129),u=n(47),c=n(72),h=n(36),d=n(35),f=n(6),p=n(21),g=n(132),m=n(126),v=n(23)("iterator"),y=u.set,b=u.getterFor("URLSearchParams"),_=u.getterFor("URLSearchParamsIterator"),w=/\+/g,T=Array(4),S=function(e){return T[e-1]||(T[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},E=function(e){try{return decodeURIComponent(e)}catch(t){return e}},x=function(e){var t=e.replace(w," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(S(n--),E);return t}},k=/[!'()~]|%20/g,C={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=function(e){return C[e]},P=function(e){return encodeURIComponent(e).replace(k,O)},I=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:x(r.shift()),value:x(r.join("="))}))},A=function(e){this.entries.length=0,I(this.entries,e)},R=function(e,t){if(e<t)throw TypeError("Not enough arguments")},L=l(function(e,t){y(this,{type:"URLSearchParamsIterator",iterator:g(b(e).entries),kind:t})},"Iterator",function(){var e=_(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),M=function(){c(this,M,"URLSearchParams");var e,t,n,r,i,o,a,s=arguments.length>0?arguments[0]:void 0,l=this,u=[];if(y(l,{type:"URLSearchParams",entries:u,updateURL:function(){},updateSearchParams:A}),void 0!==s)if(p(s))if("function"==typeof(e=m(s)))for(t=e.call(s);!(n=t.next()).done;){if((i=(r=g(f(n.value))).next()).done||(o=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");u.push({key:i.value+"",value:o.value+""})}else for(a in s)h(s,a)&&u.push({key:a,value:s[a]+""});else I(u,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},D=M.prototype;a(D,{append:function(e,t){R(arguments.length,2);var n=b(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){R(arguments.length,1);for(var t=b(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){R(arguments.length,1);for(var t=b(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){R(arguments.length,1);for(var t=b(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){R(arguments.length,1);for(var t=b(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){R(arguments.length,1);for(var n,r=b(this),i=r.entries,o=!1,a=e+"",s=t+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=b(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=b(this).entries,r=d(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new L(this,"keys")},values:function(){return new L(this,"values")},entries:function(){return new L(this,"entries")}},{enumerable:!0}),o(D,v,D.entries),o(D,"toString",function(){for(var e,t=b(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(P(e.key)+"="+P(e.value));return n.join("&")},{enumerable:!0}),s(M,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:M}),e.exports={URLSearchParams:M,getState:b}},function(e,t,n){e.exports=!n(94)&&!n(75)(function(){return 7!=Object.defineProperty(n(278)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(76),i=n(54).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=n(136)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(66),i=n(634),o=n(206),a=n(80);e.exports=function(e,t){for(var n=i(t),s=a.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},function(e,t,n){var r=n(66),i=n(135),o=n(635)(!1),a=n(163);e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t,n){e.exports=!n(75)(function(){return!String(Symbol())})},function(e,t,n){t.f=n(62)},function(e,t,n){var r=n(96),i=n(640),o=n(216),a=n(641),s=n(278),l=n(162)("IE_PROTO"),u=function(){},c=function(){var e,t=s("iframe"),n=o.length;for(t.style.display="none",a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[o[n]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[l]=e):n=c(),void 0===t?n:i(n,t)},n(163)[l]=!0},function(e,t,n){"use strict";var r=n(160),i=n(80),o=n(134);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(208),i=n(62)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r,i,o,a=n(288),s=n(95),l=n(66),u=n(159),c=n(62)("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),u||l(r,c)||s(r,c,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(e,t,n){var r=n(66),i=n(220),o=n(162)("IE_PROTO"),a=n(675),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var r=n(682);function i(){}var o=null,a={};function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,e!==i&&f(e,this)}function l(e,t){for(;3===e._i;)e=e._j;if(s._l&&s._l(e),0===e._i)return 0===e._h?(e._h=1,void(e._k=t)):1===e._h?(e._h=2,void(e._k=[e._k,t])):void e._k.push(t);!function(e,t){r(function(){var n=1===e._i?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return o=e,a}}(n,e._j);r===a?c(t.promise,o):u(t.promise,r)}else 1===e._i?u(t.promise,e._j):c(t.promise,e._j)})}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return o=e,a}}(t);if(n===a)return c(e,o);if(n===e.then&&t instanceof s)return e._i=3,e._j=t,void h(e);if("function"==typeof n)return void f(n.bind(t),e)}e._i=1,e._j=t,h(e)}function c(e,t){e._i=2,e._j=t,s._m&&s._m(e,t),h(e)}function h(e){if(1===e._h&&(l(e,e._k),e._k=null),2===e._h){for(var t=0;t<e._k.length;t++)l(e,e._k[t]);e._k=null}}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return o=e,a}}(e,function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,c(t,e))});n||r!==a||(n=!0,c(t,o))}e.exports=s,s._l=null,s._m=null,s._n=i,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor(function(r,o){var a=new s(i);a.then(r,o),l(e,new d(t,n,a))})}(this,e,t);var n=new s(i);return l(this,new d(e,t,n)),n}},function(e,t,n){(function(t){var r;e.exports=function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof r&&r;if(!l&&u)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return o(n||e)},h,h.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,n,r){(function(e){var t,n;!function(e){e.CONTINUE=100,e.SWITCHING_PROTOCOLS=101,e.PROCESSING=102,e.OK=200,e.CREATED=201,e.ACCEPTED=202,e.NON_AUTHORITATIVE_INFORMATION=203,e.NO_CONTENT=204,e.RESET_CONTENT=205,e.PARTIAL_CONTENT=206,e.MULTI_STATUS=207,e.MULTIPLE_CHOICES=300,e.MOVED_PERMANENTLY=301,e.MOVED_TEMPORARILY=302,e.SEE_OTHER=303,e.NOT_MODIFIED=304,e.USE_PROXY=305,e.TEMPORARY_REDIRECT=307,e.BAD_REQUEST=400,e.UNAUTHORIZED=401,e.PAYMENT_REQUIRED=402,e.FORBIDDEN=403,e.NOT_FOUND=404,e.METHOD_NOT_ALLOWED=405,e.NOT_ACCEPTABLE=406,e.PROXY_AUTHENTICATION_REQUIRED=407,e.REQUEST_TIME_OUT=408,e.CONFLICT=409,e.GONE=410,e.LENGTH_REQUIRED=411,e.PRECONDITION_FAILED=412,e.REQUEST_ENTITY_TOO_LARGE=413,e.REQUEST_URI_TOO_LARGE=414,e.UNSUPPORTED_MEDIA_TYPE=415,e.REQUESTED_RANGE_NOT_SATISFIABLE=416,e.EXPECTATION_FAILED=417,e.IM_A_TEAPOT=418,e.UNPROCESSABLE_ENTITY=422,e.LOCKED=423,e.FAILED_DEPENDENCY=424,e.UNORDERED_COLLECTION=425,e.UPGRADE_REQUIRED=426,e.PRECONDITION_REQUIRED=428,e.TOO_MANY_REQUESTS=429,e.REQUEST_HEADER_FIELDS_TOO_LARGE=431,e.INTERNAL_SERVER_ERROR=500,e.NOT_IMPLEMENTED=501,e.BAD_GATEWAY=502,e.SERVICE_UNAVAILABLE=503,e.GATEWAY_TIME_OUT=504,e.HTTP_VERSION_NOT_SUPPORTED=505,e.VARIANT_ALSO_NEGOTIATES=506,e.INSUFFICIENT_STORAGE=507,e.BANDWIDTH_LIMIT_EXCEEDED=509,e.NOT_EXTENDED=510,e.NETWORK_AUTHENTICATION_REQUIRED=511}(t||(t={})),(n=e).HTTPStatusCode||(n.HTTPStatusCode=t)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1),function(e){var t=function(){function e(e){this.value="",e&&(this.value=e.toLowerCase())}return e.prototype.toString=function(){return this.value},e}();e.StringValue=t}(j||(j={})),function(e){var t=function(){function e(e,t){this.start=e,this.end=t}return e.prototype.getLength=function(){return this.end-this.start},e}();e.Duration=t}(j||(j={}));var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.bookmarking=function(){return new t(t.BOOKMARKING.toString())},t.prototype.classifying=function(){return new t(t.CLASSIFYING.toString())},t.prototype.commenting=function(){return new t(t.COMMENTING.toString())},t.prototype.describing=function(){return new t(t.DESCRIBING.toString())},t.prototype.editing=function(){return new t(t.EDITING.toString())},t.prototype.highlighting=function(){return new t(t.HIGHLIGHTING.toString())},t.prototype.identifying=function(){return new t(t.IDENTIFYING.toString())},t.prototype.linking=function(){return new t(t.LINKING.toString())},t.prototype.moderating=function(){return new t(t.MODERATING.toString())},t.prototype.painting=function(){return new t(t.PAINTING.toString())},t.prototype.questioning=function(){return new t(t.QUESTIONING.toString())},t.prototype.replying=function(){return new t(t.REPLYING.toString())},t.prototype.tagging=function(){return new t(t.TAGGING.toString())},t.prototype.transcribing=function(){return new t(t.TRANSCRIBING.toString())},t.BOOKMARKING=new t("oa:bookmarking"),t.CLASSIFYING=new t("oa:classifying"),t.COMMENTING=new t("oa:commenting"),t.DESCRIBING=new t("oa:describing"),t.EDITING=new t("oa:editing"),t.HIGHLIGHTING=new t("oa:highlighting"),t.IDENTIFYING=new t("oa:identifying"),t.LINKING=new t("oa:linking"),t.MODERATING=new t("oa:moderating"),t.PAINTING=new t("sc:painting"),t.QUESTIONING=new t("oa:questioning"),t.REPLYING=new t("oa:replying"),t.TAGGING=new t("oa:tagging"),t.TRANSCRIBING=new t("oad:transcribing"),t}(e.StringValue);e.AnnotationMotivation=t}(j||(j={}));var a;o=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.autoadvance=function(){return new t(t.AUTOADVANCE.toString())},t.prototype.nonav=function(){return new t(t.NONAV.toString())},t.prototype.paged=function(){return new t(t.PAGED.toString())},t.AUTOADVANCE=new t("auto-advance"),t.NONAV=new t("no-nav"),t.PAGED=new t("paged"),t}(e.StringValue);e.Behavior=t}(j||(j={}));var s;o=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.annotation=function(){return new t(t.ANNOTATION.toString())},t.prototype.canvas=function(){return new t(t.CANVAS.toString())},t.prototype.collection=function(){return new t(t.COLLECTION.toString())},t.prototype.manifest=function(){return new t(t.MANIFEST.toString())},t.prototype.range=function(){return new t(t.RANGE.toString())},t.prototype.sequence=function(){return new t(t.SEQUENCE.toString())},t.ANNOTATION=new t("annotation"),t.CANVAS=new t("canvas"),t.COLLECTION=new t("collection"),t.MANIFEST=new t("manifest"),t.RANGE=new t("range"),t.SEQUENCE=new t("sequence"),t}(e.StringValue);e.IIIFResourceType=t}(j||(j={}));var l;o=this&&this.__extends||(l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.empty=function(){return new t(t.EMPTY.toString())},t.prototype.manuscript=function(){return new t(t.MANUSCRIPT.toString())},t.prototype.monograph=function(){return new t(t.MONOGRAPH.toString())},t.EMPTY=new t(""),t.MANUSCRIPT=new t("manuscript"),t.MONOGRAPH=new t("monograph"),t}(e.StringValue);e.ManifestType=t}(j||(j={}));var u;o=this&&this.__extends||(u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.pdf=function(){return new t(t.PDF.toString())},t.prototype.doc=function(){return new t(t.DOC.toString())},t.prototype.docx=function(){return new t(t.DOCX.toString())},t.PDF=new t("application/pdf"),t.DOC=new t("application/msword"),t.DOCX=new t("application/vnd.openxmlformats-officedocument.wordprocessingml.document"),t}(e.StringValue);e.RenderingFormat=t}(j||(j={}));var c;o=this&&this.__extends||(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.jpg=function(){return new t(t.JPG.toString())},t.prototype.mp4=function(){return new t(t.MP4.toString())},t.prototype.pdf=function(){return new t(t.PDF.toString())},t.prototype.threejs=function(){return new t(t.THREEJS.toString())},t.prototype.webm=function(){return new t(t.WEBM.toString())},t.JPG=new t("image/jpeg"),t.MP4=new t("video/mp4"),t.PDF=new t("application/pdf"),t.THREEJS=new t("application/vnd.threejs+json"),t.WEBM=new t("video/webm"),t}(e.StringValue);e.MediaType=t}(j||(j={}));var h;o=this&&this.__extends||(h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.canvas=function(){return new t(t.CANVAS.toString())},t.prototype.choice=function(){return new t(t.CHOICE.toString())},t.prototype.document=function(){return new t(t.DOCUMENT.toString())},t.prototype.image=function(){return new t(t.IMAGE.toString())},t.prototype.movingimage=function(){return new t(t.MOVINGIMAGE.toString())},t.prototype.physicalobject=function(){return new t(t.PHYSICALOBJECT.toString())},t.prototype.sound=function(){return new t(t.SOUND.toString())},t.prototype.text=function(){return new t(t.TEXT.toString())},t.CANVAS=new t("canvas"),t.CHOICE=new t("choice"),t.DOCUMENT=new t("document"),t.IMAGE=new t("image"),t.MOVINGIMAGE=new t("movingimage"),t.PHYSICALOBJECT=new t("physicalobject"),t.SOUND=new t("sound"),t.TEXT=new t("textualbody"),t}(e.StringValue);e.ResourceType=t}(j||(j={}));var d;o=this&&this.__extends||(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.auth1Clickthrough=function(){return new t(t.AUTH1CLICKTHROUGH.toString())},t.prototype.auth1External=function(){return new t(t.AUTH1EXTERNAL.toString())},t.prototype.auth1Kiosk=function(){return new t(t.AUTH1KIOSK.toString())},t.prototype.auth1Login=function(){return new t(t.AUTH1LOGIN.toString())},t.prototype.auth1Logout=function(){return new t(t.AUTH1LOGOUT.toString())},t.prototype.auth1Probe=function(){return new t(t.AUTH1PROBE.toString())},t.prototype.auth1Token=function(){return new t(t.AUTH1TOKEN.toString())},t.prototype.autoComplete=function(){return new t(t.AUTOCOMPLETE.toString())},t.prototype.iiif1ImageLevel1=function(){return new t(t.IIIF1IMAGELEVEL1.toString())},t.prototype.iiif1ImageLevel2=function(){return new t(t.IIIF1IMAGELEVEL2.toString())},t.prototype.iiif2ImageLevel1=function(){return new t(t.IIIF2IMAGELEVEL1.toString())},t.prototype.iiif2ImageLevel2=function(){return new t(t.IIIF2IMAGELEVEL2.toString())},t.prototype.ixif=function(){return new t(t.IXIF.toString())},t.prototype.login=function(){return new t(t.AUTHLOGIN.toString())},t.prototype.clickThrough=function(){return new t(t.AUTHCLICKTHROUGH.toString())},t.prototype.restricted=function(){return new t(t.AUTHRESTRICTED.toString())},t.prototype.logout=function(){return new t(t.AUTHLOGOUT.toString())},t.prototype.otherManifestations=function(){return new t(t.OTHERMANIFESTATIONS.toString())},t.prototype.search=function(){return new t(t.SEARCH.toString())},t.prototype.stanfordIIIFImageCompliance1=function(){return new t(t.STANFORDIIIFIMAGECOMPLIANCE1.toString())},t.prototype.stanfordIIIFImageCompliance2=function(){return new t(t.STANFORDIIIFIMAGECOMPLIANCE2.toString())},t.prototype.stanfordIIIFImageConformance1=function(){return new t(t.STANFORDIIIFIMAGECONFORMANCE1.toString())},t.prototype.stanfordIIIFImageConformance2=function(){return new t(t.STANFORDIIIFIMAGECONFORMANCE2.toString())},t.prototype.stanfordIIIF1ImageCompliance1=function(){return new t(t.STANFORDIIIF1IMAGECOMPLIANCE1.toString())},t.prototype.stanfordIIIF1ImageCompliance2=function(){return new t(t.STANFORDIIIF1IMAGECOMPLIANCE2.toString())},t.prototype.stanfordIIIF1ImageConformance1=function(){return new t(t.STANFORDIIIF1IMAGECONFORMANCE1.toString())},t.prototype.stanfordIIIF1ImageConformance2=function(){return new t(t.STANFORDIIIF1IMAGECONFORMANCE2.toString())},t.prototype.token=function(){return new t(t.AUTHTOKEN.toString())},t.prototype.trackingExtensions=function(){return new t(t.TRACKINGEXTENSIONS.toString())},t.prototype.uiExtensions=function(){return new t(t.UIEXTENSIONS.toString())},t.prototype.printExtensions=function(){return new t(t.PRINTEXTENSIONS.toString())},t.prototype.shareExtensions=function(){return new t(t.SHAREEXTENSIONS.toString())},t.STANFORDIIIFIMAGECOMPLIANCE0=new t("http://library.stanford.edu/iiif/image-api/compliance.html#level0"),t.STANFORDIIIFIMAGECOMPLIANCE1=new t("http://library.stanford.edu/iiif/image-api/compliance.html#level1"),t.STANFORDIIIFIMAGECOMPLIANCE2=new t("http://library.stanford.edu/iiif/image-api/compliance.html#level2"),t.STANFORDIIIFIMAGECONFORMANCE0=new t("http://library.stanford.edu/iiif/image-api/conformance.html#level0"),t.STANFORDIIIFIMAGECONFORMANCE1=new t("http://library.stanford.edu/iiif/image-api/conformance.html#level1"),t.STANFORDIIIFIMAGECONFORMANCE2=new t("http://library.stanford.edu/iiif/image-api/conformance.html#level2"),t.STANFORDIIIF1IMAGECOMPLIANCE0=new t("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0"),t.STANFORDIIIF1IMAGECOMPLIANCE1=new t("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level1"),t.STANFORDIIIF1IMAGECOMPLIANCE2=new t("http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level2"),t.STANFORDIIIF1IMAGECONFORMANCE0=new t("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level0"),t.STANFORDIIIF1IMAGECONFORMANCE1=new t("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level1"),t.STANFORDIIIF1IMAGECONFORMANCE2=new t("http://library.stanford.edu/iiif/image-api/1.1/conformance.html#level2"),t.IIIF1IMAGELEVEL0=new t("http://iiif.io/api/image/1/level0.json"),t.IIIF1IMAGELEVEL0PROFILE=new t("http://iiif.io/api/image/1/profiles/level0.json"),t.IIIF1IMAGELEVEL1=new t("http://iiif.io/api/image/1/level1.json"),t.IIIF1IMAGELEVEL1PROFILE=new t("http://iiif.io/api/image/1/profiles/level1.json"),t.IIIF1IMAGELEVEL2=new t("http://iiif.io/api/image/1/level2.json"),t.IIIF1IMAGELEVEL2PROFILE=new t("http://iiif.io/api/image/1/profiles/level2.json"),t.IIIF2IMAGELEVEL0=new t("http://iiif.io/api/image/2/level0.json"),t.IIIF2IMAGELEVEL0PROFILE=new t("http://iiif.io/api/image/2/profiles/level0.json"),t.IIIF2IMAGELEVEL1=new t("http://iiif.io/api/image/2/level1.json"),t.IIIF2IMAGELEVEL1PROFILE=new t("http://iiif.io/api/image/2/profiles/level1.json"),t.IIIF2IMAGELEVEL2=new t("http://iiif.io/api/image/2/level2.json"),t.IIIF2IMAGELEVEL2PROFILE=new t("http://iiif.io/api/image/2/profiles/level2.json"),t.AUTHCLICKTHROUGH=new t("http://iiif.io/api/auth/0/login/clickthrough"),t.AUTHLOGIN=new t("http://iiif.io/api/auth/0/login"),t.AUTHLOGOUT=new t("http://iiif.io/api/auth/0/logout"),t.AUTHRESTRICTED=new t("http://iiif.io/api/auth/0/login/restricted"),t.AUTHTOKEN=new t("http://iiif.io/api/auth/0/token"),t.AUTH1CLICKTHROUGH=new t("http://iiif.io/api/auth/1/clickthrough"),t.AUTH1EXTERNAL=new t("http://iiif.io/api/auth/1/external"),t.AUTH1KIOSK=new t("http://iiif.io/api/auth/1/kiosk"),t.AUTH1LOGIN=new t("http://iiif.io/api/auth/1/login"),t.AUTH1LOGOUT=new t("http://iiif.io/api/auth/1/logout"),t.AUTH1PROBE=new t("http://iiif.io/api/auth/1/probe"),t.AUTH1TOKEN=new t("http://iiif.io/api/auth/1/token"),t.AUTOCOMPLETE=new t("http://iiif.io/api/search/0/autocomplete"),t.SEARCH=new t("http://iiif.io/api/search/0/search"),t.TRACKINGEXTENSIONS=new t("http://universalviewer.io/tracking-extensions-profile"),t.UIEXTENSIONS=new t("http://universalviewer.io/ui-extensions-profile"),t.PRINTEXTENSIONS=new t("http://universalviewer.io/print-extensions-profile"),t.SHAREEXTENSIONS=new t("http://universalviewer.io/share-extensions-profile"),t.OTHERMANIFESTATIONS=new t("http://iiif.io/api/otherManifestations.json"),t.IXIF=new t("http://wellcomelibrary.org/ld/ixif/0/alpha.json"),t}(e.StringValue);e.ServiceProfile=t}(j||(j={}));var f;o=this&&this.__extends||(f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.leftToRight=function(){return new t(t.LEFTTORIGHT.toString())},t.prototype.rightToLeft=function(){return new t(t.RIGHTTOLEFT.toString())},t.prototype.topToBottom=function(){return new t(t.TOPTOBOTTOM.toString())},t.prototype.bottomToTop=function(){return new t(t.BOTTOMTOTOP.toString())},t.LEFTTORIGHT=new t("left-to-right"),t.RIGHTTOLEFT=new t("right-to-left"),t.TOPTOBOTTOM=new t("top-to-bottom"),t.BOTTOMTOTOP=new t("bottom-to-top"),t}(e.StringValue);e.ViewingDirection=t}(j||(j={}));var p;o=this&&this.__extends||(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.continuous=function(){return new t(t.CONTINUOUS.toString())},t.prototype.empty=function(){return new t(t.EMPTY.toString())},t.prototype.individuals=function(){return new t(t.INDIVIDUALS.toString())},t.prototype.nonPaged=function(){return new t(t.NONPAGED.toString())},t.prototype.paged=function(){return new t(t.PAGED.toString())},t.prototype.top=function(){return new t(t.TOP.toString())},t.CONTINUOUS=new t("continuous"),t.EMPTY=new t(""),t.INDIVIDUALS=new t("individuals"),t.NONPAGED=new t("non-paged"),t.PAGED=new t("paged"),t.TOP=new t("top"),t}(e.StringValue);e.ViewingHint=t}(j||(j={})),function(e){var t=function(){function e(e){this.__jsonld=e,this.context=this.getProperty("context"),this.id=this.getProperty("id")}return e.prototype.getProperty=function(e){var t=null;return this.__jsonld&&((t=this.__jsonld[e])||(t=this.__jsonld["@"+e])),t},e}();e.JSONLDResource=t}(j||(j={}));var g;o=this&&this.__extends||(g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){var r=t.call(this,e)||this;return r.options=n,r}return o(n,t),n.prototype.getIIIFResourceType=function(){return new e.IIIFResourceType(e.Utils.normaliseType(this.getProperty("type")))},n.prototype.getLabel=function(){var t=this.getProperty("label");return t?e.LanguageMap.parse(t,this.options.locale):[]},n.prototype.getDefaultLabel=function(){return e.LanguageMap.getValue(this.getLabel())},n.prototype.getMetadata=function(){var t=this.getProperty("metadata"),n=[];if(!t)return n;for(var r=0;r<t.length;r++){var i=t[r],o=new e.LabelValuePair(this.options.locale);o.parse(i),n.push(o)}return n},n.prototype.getRendering=function(e){var t=this.getRenderings();"string"!=typeof e&&(e=e.toString());for(var n=0;n<t.length;n++){var r=t[n];if(r.getFormat().toString()===e)return r}return null},n.prototype.getRenderings=function(){var t,n=[];if(!(t=this.__jsonld?this.__jsonld.rendering:this.rendering))return n;Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];n.push(new e.Rendering(i,this.options))}return n},n.prototype.getService=function(t){return e.Utils.getService(this,t)},n.prototype.getServices=function(){return e.Utils.getServices(this)},n.prototype.getThumbnail=function(){var t=this.getProperty("thumbnail");return Array.isArray(t)&&(t=t[0]),t?new e.Thumbnail(t,this.options):null},n.prototype.isAnnotation=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.ANNOTATION.toString()},n.prototype.isCanvas=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.CANVAS.toString()},n.prototype.isCollection=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.COLLECTION.toString()},n.prototype.isManifest=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.MANIFEST.toString()},n.prototype.isRange=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.RANGE.toString()},n.prototype.isSequence=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.SEQUENCE.toString()},n}(e.JSONLDResource);e.ManifestResource=t}(j||(j={}));var m;o=this&&this.__extends||(m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){return t.call(this,e,n)||this}return o(n,t),n.prototype.getFormat=function(){var t=this.getProperty("format");return t?new e.MediaType(t.toLowerCase()):null},n.prototype.getResources=function(){var t=[];if(!this.__jsonld.resources)return t;for(var n=0;n<this.__jsonld.resources.length;n++){var r=this.__jsonld.resources[n],i=new e.Annotation(r,this.options);t.push(i)}return t},n.prototype.getType=function(){var t=this.getProperty("type");return t?new e.ResourceType(e.Utils.normaliseType(t)):null},n.prototype.getWidth=function(){return this.getProperty("width")},n.prototype.getHeight=function(){return this.getProperty("height")},n.prototype.getMaxWidth=function(){return this.getProperty("maxWidth")},n.prototype.getMaxHeight=function(){return this.getProperty("maxHeight")?null:this.getMaxWidth()},n}(e.ManifestResource);e.Resource=t}(j||(j={}));var v;o=this&&this.__extends||(v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){return t.call(this,e,n)||this}return o(n,t),n.prototype.getCanonicalImageUri=function(t){var n,r=null,i="default",o=t;if(this.externalResource&&this.externalResource.data&&this.externalResource.data["@id"])r=this.externalResource.data["@id"],o||(o=this.externalResource.data.width),this.externalResource.data["@context"]&&(this.externalResource.data["@context"].indexOf("/1.0/context.json")>-1||this.externalResource.data["@context"].indexOf("/1.1/context.json")>-1||this.externalResource.data["@context"].indexOf("/1/context.json")>-1)&&(i="native");else{var a=this.getImages();if(a&&a.length){var s=a[0].getResource(),l=s.getServices();if(o||(o=s.getWidth()),l.length){var u=l[0];r=u.id,i=e.Utils.getImageQuality(u.getProfile())}else if(o===s.getWidth())return s.id}if(!r){var c=this.getProperty("thumbnail");if(c){if("string"==typeof c)return c;if(c["@id"])return c["@id"];if(c.length)return c[0].id}}}return n=o+",",r&&r.endsWith("/")&&(r=r.substr(0,r.length-1)),[r,"full",n,0,i+".jpg"].join("/")},n.prototype.getMaxDimensions=function(){var t,n=null;return this.externalResource&&this.externalResource.data&&this.externalResource.data.profile&&(t=this.externalResource.data.profile,Array.isArray(t)&&(t=t.filter(function(e){return e.maxWidth})[0])&&(n=new e.Size(t.maxWidth,t.maxHeight?t.maxHeight:t.maxWidth))),n},n.prototype.getContent=function(){var t=[],n=this.__jsonld.items||this.__jsonld.content;if(!n)return t;var r=null;if(n.length&&(r=new e.AnnotationPage(n[0],this.options)),!r)return t;for(var i=r.getItems(),o=0;o<i.length;o++){var a=i[o],s=new e.Annotation(a,this.options);t.push(s)}return t},n.prototype.getDuration=function(){return this.getProperty("duration")},n.prototype.getImages=function(){var t=[];if(!this.__jsonld.images)return t;for(var n=0;n<this.__jsonld.images.length;n++){var r=this.__jsonld.images[n],i=new e.Annotation(r,this.options);t.push(i)}return t},n.prototype.getIndex=function(){return this.getProperty("index")},n.prototype.getOtherContent=function(){var t=this,n=Array.isArray(this.getProperty("otherContent"))?this.getProperty("otherContent"):[this.getProperty("otherContent")],r=n.filter(function(e){return e&&(t=e["@type"],n="sc:AnnotationList","string"==typeof t&&"string"==typeof n&&t.toLowerCase()==t.toLowerCase());var t,n}).map(function(n,r){return new e.AnnotationList(n.label||"Annotation list "+r,n,t.options)}).map(function(e){return e.load()});return Promise.all(r)},n.prototype.getWidth=function(){return this.getProperty("width")},n.prototype.getHeight=function(){return this.getProperty("height")},n}(e.Resource);e.Canvas=t}(j||(j={}));var y;o=this&&this.__extends||(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){var r=t.call(this,e,n)||this;r.index=-1,r.isLoaded=!1;var i={defaultLabel:"-",locale:"en-GB",resource:r,pessimisticAccessControl:!1};return r.options=Object.assign(i,n),r}return o(n,t),n.prototype.getAttribution=function(){console.warn("getAttribution will be deprecated, use getRequiredStatement instead.");var t=this.getProperty("attribution");return t?e.LanguageMap.parse(t,this.options.locale):[]},n.prototype.getDescription=function(){var t=this.getProperty("description");return t?e.LanguageMap.parse(t,this.options.locale):[]},n.prototype.getIIIFResourceType=function(){return new e.IIIFResourceType(e.Utils.normaliseType(this.getProperty("type")))},n.prototype.getLogo=function(){var e=this.getProperty("logo");return e?"string"==typeof e?e:(Array.isArray(e)&&e.length&&(e=e[0]),e["@id"]||e.id):null},n.prototype.getLicense=function(){return e.Utils.getLocalisedValue(this.getProperty("license"),this.options.locale)},n.prototype.getNavDate=function(){return new Date(this.getProperty("navDate"))},n.prototype.getRelated=function(){return this.getProperty("related")},n.prototype.getSeeAlso=function(){return this.getProperty("seeAlso")},n.prototype.getDefaultTree=function(){return this.defaultTree=new e.TreeNode("root"),this.defaultTree.data=this,this.defaultTree},n.prototype.getRequiredStatement=function(){var t=null,n=this.getProperty("requiredStatement");if(n)(t=new e.LabelValuePair(this.options.locale)).parse(n);else{var r=this.getAttribution();r&&((t=new e.LabelValuePair(this.options.locale)).value=r)}return t},n.prototype.isCollection=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.COLLECTION.toString()},n.prototype.isManifest=function(){return this.getIIIFResourceType().toString()===e.IIIFResourceType.MANIFEST.toString()},n.prototype.load=function(){var t=this;return new Promise(function(n,r){if(t.isLoaded)n(t);else{var i=t.options;i.navDate=t.getNavDate();var o=t.__jsonld.id;o||(o=t.__jsonld["@id"]),e.Utils.loadResource(o).then(function(r){t.parentLabel=e.LanguageMap.getValue(t.getLabel(),i.locale);var o=e.Deserialiser.parse(r,i);(t=Object.assign(t,o)).index=i.index,n(t)})}})},n}(e.ManifestResource);e.IIIFResource=t}(j||(j={}));var b;o=this&&this.__extends||(b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){var r=t.call(this,e,n)||this;if(r.index=0,r._allRanges=null,r.items=[],r._topRanges=[],r.__jsonld.structures&&r.__jsonld.structures.length)for(var i=r._getTopRanges(),o=0;o<i.length;o++){var a=i[o];r._parseRanges(a,String(o))}return r}return o(n,t),n.prototype.getPosterCanvas=function(){var t=this.getProperty("posterCanvas");return t&&(t=new e.Canvas(t,this.options)),t},n.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t?new e.Behavior(t):null},n.prototype.getDefaultTree=function(){if(t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=e.Utils.normaliseType(e.TreeNodeType.MANIFEST.toString()),!this.isLoaded)return this.defaultTree;var n=this.getTopRanges();return n.length&&n[0].getTree(this.defaultTree),e.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},n.prototype._getTopRanges=function(){var t=[];if(this.__jsonld.structures&&this.__jsonld.structures.length){for(var n=0;n<this.__jsonld.structures.length;n++){var r=this.__jsonld.structures[n];r.viewingHint===e.ViewingHint.TOP.toString()&&t.push(r)}if(!t.length){var i={};i.ranges=this.__jsonld.structures,t.push(i)}}return t},n.prototype.getTopRanges=function(){return this._topRanges},n.prototype._getRangeById=function(e){if(this.__jsonld.structures&&this.__jsonld.structures.length)for(var t=0;t<this.__jsonld.structures.length;t++){var n=this.__jsonld.structures[t];if(n["@id"]===e||n.id===e)return n}return null},n.prototype._parseRanges=function(t,n,r){var i,o=null;if("string"==typeof t&&(o=t,t=this._getRangeById(o)),t){(i=new e.Range(t,this.options)).parentRange=r,i.path=n,r?r.items.push(i):this._topRanges.push(i);var a=t.items||t.members;if(a)for(var s=0;s<a.length;s++){var l=a[s];if(l["@type"]&&"sc:range"===l["@type"].toLowerCase()||l.type&&"range"===l.type.toLowerCase())this._parseRanges(l,n+"/"+s,i);else if(l["@type"]&&"sc:canvas"===l["@type"].toLowerCase()||l.type&&"canvas"===l.type.toLowerCase()){i.canvases||(i.canvases=[]);var u=l.id||l["@id"];i.canvases.push(u)}}else if(t.ranges)for(s=0;s<t.ranges.length;s++)this._parseRanges(t.ranges[s],n+"/"+s,i)}else console.warn("Range:",o,"does not exist")},n.prototype.getAllRanges=function(){if(null!=this._allRanges)return this._allRanges;this._allRanges=[];for(var e=this.getTopRanges(),t=function(t){var r=e[t];r.id&&n._allRanges.push(r);var i=Array.from(r.getRanges().reduce(function e(t,n){t.add(n);var r=n.getRanges();return r.length?r.reduce(e,t):t},new Set));n._allRanges=n._allRanges.concat(i)},n=this,r=0;r<e.length;r++)t(r);return this._allRanges},n.prototype.getRangeById=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.id===e)return r}return null},n.prototype.getRangeByPath=function(e){for(var t=this.getAllRanges(),n=0;n<t.length;n++){var r=t[n];if(r.path===e)return r}return null},n.prototype.getSequences=function(){if(this.items.length)return this.items;var t=this.__jsonld.mediaSequences||this.__jsonld.sequences;if(t)for(var n=0;n<t.length;n++){var r=t[n],i=new e.Sequence(r,this.options);this.items.push(i)}else if(this.__jsonld.items){i=new e.Sequence(this.__jsonld.items,this.options);this.items.push(i)}return this.items},n.prototype.getSequenceByIndex=function(e){return this.getSequences()[e]},n.prototype.getTotalSequences=function(){return this.getSequences().length},n.prototype.getManifestType=function(){var t=this.getService(e.ServiceProfile.UIEXTENSIONS);return t?new e.ManifestType(t.getProperty("manifestType")):new e.ManifestType("")},n.prototype.getTrackingLabel=function(){var t=this.getService(e.ServiceProfile.TRACKINGEXTENSIONS);return t?t.getProperty("trackingLabel"):""},n.prototype.isMultiSequence=function(){return this.getTotalSequences()>1},n.prototype.isPagingEnabled=function(){var t=this.getViewingHint();if(t)return t.toString()===e.ViewingHint.PAGED.toString();var n=this.getBehavior();return!!n&&n.toString()===e.Behavior.PAGED.toString()},n.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new e.ViewingDirection(this.getProperty("viewingDirection")):null},n.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new e.ViewingHint(this.getProperty("viewingHint")):null},n}(e.IIIFResource);e.Manifest=t}(j||(j={}));var _;o=this&&this.__extends||(_=function(e,t){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.items=[],r._collections=null,r._manifests=null,e.__collection=r,r}return o(n,t),n.prototype.getCollections=function(){return this._collections?this._collections:this._collections=this.items.filter(function(e){return e.isCollection()})},n.prototype.getManifests=function(){return this._manifests?this._manifests:this._manifests=this.items.filter(function(e){return e.isManifest()})},n.prototype.getCollectionByIndex=function(e){var t=this.getCollections();if(!t[e])throw new Error("Collection index is outside range of array");var n=t[e];return n.options.index=e,n.load()},n.prototype.getManifestByIndex=function(e){var t=this.getManifests();if(!t[e])throw new Error("Manifest index is outside range of array");var n=t[e];return n.options.index=e,n.load()},n.prototype.getTotalCollections=function(){return this.getCollections().length},n.prototype.getTotalManifests=function(){return this.getManifests().length},n.prototype.getTotalItems=function(){return this.items.length},n.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new e.ViewingDirection(this.getProperty("viewingDirection")):e.ViewingDirection.LEFTTORIGHT},n.prototype.getDefaultTree=function(){return t.prototype.getDefaultTree.call(this),this.defaultTree.data.type=e.Utils.normaliseType(e.TreeNodeType.COLLECTION.toString()),this._parseManifests(this),this._parseCollections(this),e.Utils.generateTreeNodeIds(this.defaultTree),this.defaultTree},n.prototype._parseManifests=function(t){if(t.getManifests()&&t.getManifests().length)for(var n=0;n<t.getManifests().length;n++){var r=t.getManifests()[n],i=r.getDefaultTree();i.label=r.parentLabel||e.LanguageMap.getValue(r.getLabel(),this.options.locale)||"manifest "+(n+1),i.navDate=r.getNavDate(),i.data.id=r.id,i.data.type=e.Utils.normaliseType(e.TreeNodeType.MANIFEST.toString()),t.defaultTree.addNode(i)}},n.prototype._parseCollections=function(t){if(t.getCollections()&&t.getCollections().length)for(var n=0;n<t.getCollections().length;n++){var r=t.getCollections()[n],i=r.getDefaultTree();i.label=r.parentLabel||e.LanguageMap.getValue(r.getLabel(),this.options.locale)||"collection "+(n+1),i.navDate=r.getNavDate(),i.data.id=r.id,i.data.type=e.Utils.normaliseType(e.TreeNodeType.COLLECTION.toString()),t.defaultTree.addNode(i),this._parseCollections(r)}},n}(e.IIIFResource);e.Collection=t}(j||(j={}));var w;o=this&&this.__extends||(w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r._ranges=null,r.canvases=null,r.items=[],r}return o(n,t),n.prototype.getCanvasIds=function(){return this.__jsonld.canvases?this.__jsonld.canvases:this.canvases?this.canvases:[]},n.prototype.getDuration=function(){var t,n;if(this.canvases&&this.canvases.length)for(var r=0;r<this.canvases.length;r++){var i=this.canvases[r],o=e.Utils.getTemporalComponent(i);o&&o.length>1&&(0===r&&(t=Number(o[0])),r===this.canvases.length-1&&(n=Number(o[1])))}else{var a=this.getRanges();for(r=0;r<a.length;r++){var s=a[r].getDuration();s&&(0===r&&(t=s.start),r===a.length-1&&(n=s.end))}}if(void 0!==t&&void 0!==n)return new e.Duration(t,n)},n.prototype.getRanges=function(){return this._ranges?this._ranges:this._ranges=this.items.filter(function(e){return e.isRange()})},n.prototype.getBehavior=function(){var t=this.getProperty("behavior");return Array.isArray(t)&&(t=t[0]),t?new e.Behavior(t):null},n.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new e.ViewingDirection(this.getProperty("viewingDirection")):null},n.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new e.ViewingHint(this.getProperty("viewingHint")):null},n.prototype.getTree=function(t){t.data=this,this.treeNode=t;var n=this.getRanges();if(n&&n.length)for(var r=0;r<n.length;r++){var i=n[r],o=new e.TreeNode;t.addNode(o),this._parseTreeNode(o,i)}return e.Utils.generateTreeNodeIds(t),t},n.prototype.spansTime=function(e){var t=this.getDuration();return!!(t&&e>=t.start&&e<=t.end)},n.prototype._parseTreeNode=function(t,n){t.label=e.LanguageMap.getValue(n.getLabel(),this.options.locale),t.data=n,t.data.type=e.Utils.normaliseType(e.TreeNodeType.RANGE.toString()),n.treeNode=t;var r=n.getRanges();if(r&&r.length)for(var i=0;i<r.length;i++){var o=r[i],a=o.getBehavior();if(!a||a.toString()!==e.Behavior.NONAV.toString()){var s=new e.TreeNode;t.addNode(s),this._parseTreeNode(s,o)}}},n}(e.ManifestResource);e.Range=t}(j||(j={}));var T;o=this&&this.__extends||(T=function(e,t){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){return t.call(this,e,n)||this}return o(n,t),n.prototype.getFormat=function(){return new e.RenderingFormat(this.getProperty("format"))},n}(e.ManifestResource);e.Rendering=t}(j||(j={}));var S;o=this&&this.__extends||(S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.items=[],r._thumbnails=null,r}return o(n,t),n.prototype.getCanvases=function(){if(this.items.length)return this.items;var t=this.__jsonld.canvases||this.__jsonld.elements;if(t)for(var n=0;n<t.length;n++){var r=t[n];(i=new e.Canvas(r,this.options)).index=n,this.items.push(i)}else if(this.__jsonld)for(n=0;n<this.__jsonld.length;n++){var i;r=this.__jsonld[n];(i=new e.Canvas(r,this.options)).index=n,this.items.push(i)}return this.items},n.prototype.getCanvasById=function(t){for(var n=0;n<this.getTotalCanvases();n++){var r=this.getCanvasByIndex(n),i=e.Utils.normaliseUrl(r.id);if(e.Utils.normaliseUrl(t)===i)return r}return null},n.prototype.getCanvasByIndex=function(e){return this.getCanvases()[e]},n.prototype.getCanvasIndexById=function(e){for(var t=0;t<this.getTotalCanvases();t++){if(this.getCanvasByIndex(t).id===e)return t}return null},n.prototype.getCanvasIndexByLabel=function(t,n){t=t.trim(),isNaN(t)||(t=parseInt(t,10).toString(),n&&(t+="r"));for(var r,i,o,a=/(\d*)\D+(\d*)/,s=0;s<this.getTotalCanvases();s++){var l=this.getCanvasByIndex(s);if(e.LanguageMap.getValue(l.getLabel(),this.options.locale)===t)return s;if((r=a.exec(t))&&(i=r[1],(o=r[2])&&new RegExp("^"+i+"\\D+"+o+"$").test(l.getLabel().toString())))return s}return-1},n.prototype.getLastCanvasLabel=function(t){for(var n=this.getTotalCanvases()-1;n>=0;n--){var r=this.getCanvasByIndex(n),i=e.LanguageMap.getValue(r.getLabel(),this.options.locale);if(t){if(/^[a-zA-Z0-9]*$/.test(i))return i}else if(i)return i}return this.options.defaultLabel},n.prototype.getLastPageIndex=function(){return this.getTotalCanvases()-1},n.prototype.getNextPageIndex=function(t,n){var r;if(n){var i=this.getPagedIndices(t),o=this.getViewingDirection();r=o&&o.toString()===e.ViewingDirection.RIGHTTOLEFT.toString()?i[0]+1:i[i.length-1]+1}else r=t+1;return r>this.getLastPageIndex()?-1:r},n.prototype.getPagedIndices=function(t,n){var r=[];if(n){r=this.isFirstCanvas(t)||this.isLastCanvas(t)?[t]:t%2?[t,t+1]:[t-1,t];var i=this.getViewingDirection();i&&i.toString()===e.ViewingDirection.RIGHTTOLEFT.toString()&&(r=r.reverse())}else r.push(t);return r},n.prototype.getPrevPageIndex=function(t,n){var r;if(n){var i=this.getPagedIndices(t),o=this.getViewingDirection();r=o&&o.toString()===e.ViewingDirection.RIGHTTOLEFT.toString()?i[i.length-1]-1:i[0]-1}else r=t-1;return r},n.prototype.getStartCanvasIndex=function(){var e=this.getStartCanvas();if(e)for(var t=0;t<this.getTotalCanvases();t++){if(this.getCanvasByIndex(t).id===e)return t}return 0},n.prototype.getThumbs=function(t,n){console.warn("getThumbs will be deprecated, use getThumbnails instead");for(var r=[],i=this.getTotalCanvases(),o=0;o<i;o++){var a=this.getCanvasByIndex(o),s=new e.Thumb(t,a);r.push(s)}return r},n.prototype.getThumbnails=function(){if(null!=this._thumbnails)return this._thumbnails;this._thumbnails=[];for(var e=this.getCanvases(),t=0;t<e.length;t++){var n=e[t].getThumbnail();n&&this._thumbnails.push(n)}return this._thumbnails},n.prototype.getStartCanvas=function(){return this.getProperty("startCanvas")},n.prototype.getTotalCanvases=function(){return this.getCanvases().length},n.prototype.getViewingDirection=function(){return this.getProperty("viewingDirection")?new e.ViewingDirection(this.getProperty("viewingDirection")):this.options.resource.getViewingDirection?this.options.resource.getViewingDirection():null},n.prototype.getViewingHint=function(){return this.getProperty("viewingHint")?new e.ViewingHint(this.getProperty("viewingHint")):null},n.prototype.isCanvasIndexOutOfRange=function(e){return e>this.getTotalCanvases()-1},n.prototype.isFirstCanvas=function(e){return 0===e},n.prototype.isLastCanvas=function(e){return e===this.getTotalCanvases()-1},n.prototype.isMultiCanvas=function(){return this.getTotalCanvases()>1},n.prototype.isPagingEnabled=function(){var t=this.getViewingHint();return!!t&&t.toString()===e.ViewingHint.PAGED.toString()},n.prototype.isTotalCanvasesEven=function(){return this.getTotalCanvases()%2==0},n}(e.ManifestResource);e.Sequence=t}(j||(j={})),function(e){var t=function(){function t(){}return t.parse=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),this.parseJson(e,t)},t.parseJson=function(e,t){var n;if(t&&t.navDate&&!isNaN(t.navDate.getTime())&&(e.navDate=t.navDate.toString()),e["@type"])switch(e["@type"]){case"sc:Collection":n=this.parseCollection(e,t);break;case"sc:Manifest":n=this.parseManifest(e,t);break;default:return null}else switch(e.type){case"Collection":n=this.parseCollection(e,t);break;case"Manifest":n=this.parseManifest(e,t);break;default:return null}return n.isLoaded=!0,n},t.parseCollection=function(t,n){var r=new e.Collection(t,n);return r.index=n&&n.index||0,this.parseCollections(r,n),this.parseManifests(r,n),this.parseItems(r,n),r},t.parseCollections=function(e,t){var n;if(e.__jsonld.collections?n=e.__jsonld.collections:e.__jsonld.items&&(n=e.__jsonld.items.filter(function(e){return"collection"===e.type.toLowerCase()})),n)for(var r=0;r<n.length;r++){t&&(t.index=r);var i=this.parseCollection(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},t.parseManifest=function(t,n){return new e.Manifest(t,n)},t.parseManifests=function(e,t){var n;if(e.__jsonld.manifests?n=e.__jsonld.manifests:e.__jsonld.items&&(n=e.__jsonld.items.filter(function(e){return"manifest"===e.type.toLowerCase()})),n)for(var r=0;r<n.length;r++){var i=this.parseManifest(n[r],t);i.index=r,i.parentCollection=e,e.items.push(i)}},t.parseItem=function(e,t){if(e["@type"]){if("sc:manifest"===e["@type"].toLowerCase())return this.parseManifest(e,t);if("sc:collection"===e["@type"].toLowerCase())return this.parseCollection(e,t)}else if(e.type){if("manifest"===e.type.toLowerCase())return this.parseManifest(e,t);if("collection"===e.type.toLowerCase())return this.parseCollection(e,t)}return null},t.parseItems=function(e,t){var n=e.__jsonld.members||e.__jsonld.items;if(n)for(var r=function(r){t&&(t.index=r);var o=i.parseItem(n[r],t);return o?e.items.filter(function(e){return e.id===o.id})[0]?"continue":(o.index=r,o.parentCollection=e,void e.items.push(o)):{value:void 0}},i=this,o=0;o<n.length;o++){var a=r(o);if("object"==typeof a)return a.value}},t}();e.Deserialiser=t;var n=function(){function e(){}return e.serialise=function(e){return""},e}();e.Serialiser=n}(j||(j={}));var E;o=this&&this.__extends||(E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){return t.call(this,e,n)||this}return o(n,t),n.prototype.getProfile=function(){var t=this.getProperty("profile");return t||(t=this.getProperty("dcterms:conformsTo")),Array.isArray(t)?new e.ServiceProfile(t[0]):new e.ServiceProfile(t)},n.prototype.getConfirmLabel=function(){return e.Utils.getLocalisedValue(this.getProperty("confirmLabel"),this.options.locale)},n.prototype.getDescription=function(){return e.Utils.getLocalisedValue(this.getProperty("description"),this.options.locale)},n.prototype.getFailureDescription=function(){return e.Utils.getLocalisedValue(this.getProperty("failureDescription"),this.options.locale)},n.prototype.getFailureHeader=function(){return e.Utils.getLocalisedValue(this.getProperty("failureHeader"),this.options.locale)},n.prototype.getHeader=function(){return e.Utils.getLocalisedValue(this.getProperty("header"),this.options.locale)},n.prototype.getServiceLabel=function(){return e.Utils.getLocalisedValue(this.getProperty("label"),this.options.locale)},n.prototype.getInfoUri=function(){var e=this.id;return e.endsWith("/")||(e+="/"),e+="info.json"},n}(e.ManifestResource);e.Service=t}(j||(j={})),function(e){var t=function(t,n){this.data=n,this.index=n.index,this.width=t;var r=n.getHeight()/n.getWidth();this.height=r?Math.floor(this.width*r):t,this.uri=n.getCanonicalImageUri(t),this.label=e.LanguageMap.getValue(n.getLabel())};e.Thumb=t}(j||(j={})),function(e){var t=function(){function t(e,t){this.label=e,this.data=t||{},this.nodes=[]}return t.prototype.addNode=function(e){this.nodes.push(e),e.parentNode=this},t.prototype.isCollection=function(){return this.data.type===e.Utils.normaliseType(e.TreeNodeType.COLLECTION.toString())},t.prototype.isManifest=function(){return this.data.type===e.Utils.normaliseType(e.TreeNodeType.MANIFEST.toString())},t.prototype.isRange=function(){return this.data.type===e.Utils.normaliseType(e.TreeNodeType.RANGE.toString())},t}();e.TreeNode=t}(j||(j={}));var x;o=this&&this.__extends||(x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.collection=function(){return new t(t.COLLECTION.toString())},t.prototype.manifest=function(){return new t(t.MANIFEST.toString())},t.prototype.range=function(){return new t(t.RANGE.toString())},t.COLLECTION=new t("collection"),t.MANIFEST=new t("manifest"),t.RANGE=new t("range"),t}(e.StringValue);e.TreeNodeType=t}(j||(j={}));var k=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},C=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},O=n(291),P=n(708),I=n(223);!function(e){var t=function(){function t(){}return t.getMediaType=function(e){return(e=(e=e.toLowerCase()).split(";")[0]).trim()},t.getImageQuality=function(t){var n=t.toString();return n===e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString()||n===e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString()||n===e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE1.toString()||n===e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString()||n===e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString()||n===e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString()||n===e.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString()||n===e.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString()||n===e.ServiceProfile.IIIF1IMAGELEVEL1.toString()||n===e.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString()||n===e.ServiceProfile.IIIF1IMAGELEVEL2.toString()||n===e.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString()?"native":"default"},t.getInexactLocale=function(e){return-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},t.getLocalisedValue=function(e,t){if(!Array.isArray(e))return e;for(var n=0;n<e.length;n++){var r=e[n];if(t===r["@language"])return r["@value"]}var i=t.substr(0,t.indexOf("-"));for(n=0;n<e.length;n++){var o=e[n];if(o["@language"]===i)return o["@value"]}return null},t.generateTreeNodeIds=function(e,n){var r;void 0===n&&(n=0),r=e.parentNode?e.parentNode.id+"-"+n:"0",e.id=r;for(var i=0;i<e.nodes.length;i++){var o=e.nodes[i];t.generateTreeNodeIds(o,i)}},t.normaliseType=function(e){return-1!==(e=e.toLowerCase()).indexOf(":")?e.split(":")[1]:e},t.normaliseUrl=function(e){return-1!==(e=e.substr(e.indexOf("://"))).indexOf("#")&&(e=e.split("#")[0]),e},t.normalisedUrlsMatch=function(e,n){return t.normaliseUrl(e)===t.normaliseUrl(n)},t.isImageProfile=function(n){return"string"==typeof n&&(n=new e.ServiceProfile(n)),!!(t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL0PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL0PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL1PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL2PROFILE.toString()))},t.isLevel0ImageProfile=function(n){return"string"==typeof n&&(n=new e.ServiceProfile(n)),!!(t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL0PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL0.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL0PROFILE.toString()))},t.isLevel1ImageProfile=function(n){return"string"==typeof n&&(n=new e.ServiceProfile(n)),!!(t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL1PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL1.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL1PROFILE.toString()))},t.isLevel2ImageProfile=function(n){return"string"==typeof n&&(n=new e.ServiceProfile(n)),!!(t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECOMPLIANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECOMPLIANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIFIMAGECONFORMANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.STANFORDIIIF1IMAGECONFORMANCE2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF1IMAGELEVEL2PROFILE.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL2.toString())||t.normalisedUrlsMatch(n.toString(),e.ServiceProfile.IIIF2IMAGELEVEL2PROFILE.toString()))},t.loadResource=function(e){return new Promise(function(t,n){var r,i=I.parse(e),o={host:i.hostname,port:i.port,path:i.path,method:"GET",withCredentials:!1};switch(i.protocol){case"https:":(r=P.request(o,function(e){var n="";e.on("data",function(e){n+=e}),e.on("end",function(){t(n)})})).on("error",function(e){n(e)}),r.end();break;case"dat:":var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&t(a.response)},a.open("GET",e,!0),a.send();break;default:(r=O.request(o,function(e){var n="";e.on("data",function(e){n+=e}),e.on("end",function(){t(n)})})).on("error",function(e){n(e)}),r.end()}})},t.loadExternalResourcesAuth1=function(e,n,r,i,o,a,s,l){return new Promise(function(u,c){var h=e.map(function(e){return t.loadExternalResourceAuth1(e,n,r,i,o,a,s,l)});Promise.all(h).then(function(){u(e)}).catch(function(e){c(e)})})},t.loadExternalResourceAuth1=function(e,n,r,i,o,a,s,l){return k(this,void 0,void 0,function(){var u;return C(this,function(c){switch(c.label){case 0:return[4,i(e)];case 1:return(u=c.sent())?[4,e.getData(u)]:[3,6];case 2:return c.sent(),e.status!==HTTPStatusCode.OK?[3,3]:[2,e];case 3:return[4,t.doAuthChain(e,n,r,o,a,s,l)];case 4:c.sent(),c.label=5;case 5:if(e.status===HTTPStatusCode.OK||e.status===HTTPStatusCode.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError();case 6:return[4,e.getData()];case 7:return c.sent(),e.status!==HTTPStatusCode.MOVED_TEMPORARILY&&e.status!==HTTPStatusCode.UNAUTHORIZED?[3,9]:[4,t.doAuthChain(e,n,r,o,a,s,l)];case 8:c.sent(),c.label=9;case 9:if(e.status===HTTPStatusCode.OK||e.status===HTTPStatusCode.MOVED_TEMPORARILY)return[2,e];throw t.createAuthorizationFailedError()}})})},t.doAuthChain=function(e,n,r,i,o,a,s){return k(this,void 0,void 0,function(){var l,u,c,h,d,f,p,g;return C(this,function(m){switch(m.label){case 0:return e.isAccessControlled()?((l=e.externalService)&&(l.options=e.options),(u=e.kioskService)&&(u.options=e.options),(c=e.clickThroughService)&&(c.options=e.options),(h=e.loginService)&&(h.options=e.options),e.isResponseHandled||e.status!==HTTPStatusCode.MOVED_TEMPORARILY?[3,2]:[4,a(e)]):[2,e];case 1:return m.sent(),[2,e];case 2:return d=null,f=null,(d=l)?(f=d,[4,t.attemptResourceWithToken(e,r,d)]):[3,4];case 3:return m.sent(),[2,e];case 4:return(d=u)?(f=d,(p=n(d))?[4,i(p)]:[3,7]):[3,7];case 5:return m.sent(),[4,t.attemptResourceWithToken(e,r,d)];case 6:return m.sent(),[2,e];case 7:return(d=c)?(f=d,[4,o(e,d)]):[3,11];case 8:return(g=m.sent())?[4,i(g)]:[3,11];case 9:return m.sent(),[4,t.attemptResourceWithToken(e,r,d)];case 10:return m.sent(),[2,e];case 11:return(d=h)?(f=d,[4,o(e,d)]):[3,15];case 12:return(g=m.sent())?[4,i(g)]:[3,15];case 13:return m.sent(),[4,t.attemptResourceWithToken(e,r,d)];case 14:return m.sent(),[2,e];case 15:return f&&s(e,f),[2]}})})},t.attemptResourceWithToken=function(t,n,r){return k(this,void 0,void 0,function(){var i,o;return C(this,function(a){switch(a.label){case 0:return(i=r.getService(e.ServiceProfile.AUTH1TOKEN.toString()))?[4,n(t,i)]:[3,3];case 1:return(o=a.sent())&&o.accessToken?[4,t.getData(o)]:[3,3];case 2:return a.sent(),[2,t];case 3:return[2]}})})},t.loadExternalResourcesAuth09=function(e,n,r,i,o,a,s,l,u,c){return new Promise(function(h,d){var f=e.map(function(e){return t.loadExternalResourceAuth09(e,n,r,i,o,a,s,l,u,c)});Promise.all(f).then(function(){h(e)}).catch(function(e){d(e)})})},t.loadExternalResourceAuth09=function(e,n,r,i,o,a,s,l,u,c){return new Promise(function(h,d){c&&c.pessimisticAccessControl?e.getData().then(function(){e.isAccessControlled()?e.clickThroughService?(h(r(e)),h(i(e))):o(e).then(function(){a(e,!0).then(function(n){e.getData(n).then(function(){h(u(e))}).catch(function(e){d(t.createInternalServerError(e))})}).catch(function(e){d(t.createInternalServerError(e))})}).catch(function(e){d(t.createInternalServerError(e))}):h(e)}).catch(function(e){d(t.createInternalServerError(e))}):l(e,n).then(function(c){c?e.getData(c).then(function(){e.status===HTTPStatusCode.OK?h(u(e)):t.authorize(e,n,r,i,o,a,s,l).then(function(){h(u(e))}).catch(function(e){d(t.createAuthorizationFailedError())})}).catch(function(e){d(t.createAuthorizationFailedError())}):t.authorize(e,n,r,i,o,a,s,l).then(function(){h(u(e))}).catch(function(e){d(t.createAuthorizationFailedError())})}).catch(function(e){d(t.createAuthorizationFailedError())})})},t.createError=function(e,t){var n=new Error;return n.message=t,n.name=e,n},t.createAuthorizationFailedError=function(){return t.createError(manifesto.StatusCodes.AUTHORIZATION_FAILED.toString(),"Authorization failed")},t.createRestrictedError=function(){return t.createError(manifesto.StatusCodes.RESTRICTED.toString(),"Restricted")},t.createInternalServerError=function(e){return t.createError(manifesto.StatusCodes.INTERNAL_SERVER_ERROR.toString(),e)},t.authorize=function(e,n,r,i,o,a,s,l){return new Promise(function(u,c){e.getData().then(function(){e.isAccessControlled()?l(e,n).then(function(l){l?e.getData(l).then(function(){e.status===HTTPStatusCode.OK?u(e):t.showAuthInteraction(e,n,r,i,o,a,s,u,c)}).catch(function(e){c(t.createInternalServerError(e))}):a(e,!1).then(function(l){l?s(e,l,n).then(function(){e.getData(l).then(function(){e.status===HTTPStatusCode.OK?u(e):t.showAuthInteraction(e,n,r,i,o,a,s,u,c)}).catch(function(e){c(t.createInternalServerError(e))})}).catch(function(e){c(t.createInternalServerError(e))}):t.showAuthInteraction(e,n,r,i,o,a,s,u,c)})}).catch(function(e){c(t.createInternalServerError(e))}):u(e)})})},t.showAuthInteraction=function(e,n,r,i,o,a,s,l,u){e.status!==HTTPStatusCode.MOVED_TEMPORARILY||e.isResponseHandled?e.clickThroughService&&!e.isResponseHandled?r(e).then(function(){a(e,!0).then(function(r){s(e,r,n).then(function(){e.getData(r).then(function(){l(e)}).catch(function(e){u(t.createInternalServerError(e))})}).catch(function(e){u(t.createInternalServerError(e))})}).catch(function(e){u(t.createInternalServerError(e))})}):o(e).then(function(){a(e,!0).then(function(r){s(e,r,n).then(function(){e.getData(r).then(function(){l(e)}).catch(function(e){u(t.createInternalServerError(e))})}).catch(function(e){u(t.createInternalServerError(e))})}).catch(function(e){u(t.createInternalServerError(e))})}):l(e)},t.getService=function(e,t){var n=this.getServices(e);"string"!=typeof t&&(t=t.toString());for(var r=0;r<n.length;r++){var i=n[r];if(i.getProfile().toString()===t)return i}return null},t.getResourceById=function(e,n){return t.traverseAndFind(e.__jsonld,"@id",n)},t.traverseAndFind=function(e,n,r){if(e.hasOwnProperty(n)&&e[n]===r)return e;for(var i=0;i<Object.keys(e).length;i++)if("object"==typeof e[Object.keys(e)[i]]){var o=t.traverseAndFind(e[Object.keys(e)[i]],n,r);if(null!=o)return o}},t.getServices=function(t){var n,r=[];if(!(n=t.__jsonld?t.__jsonld.service:t.service))return r;Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o=n[i];if("string"==typeof o){var a=this.getResourceById(t.options.resource,o);a&&r.push(new e.Service(a.__jsonld||a,t.options))}else r.push(new e.Service(o,t.options))}return r},t.getTemporalComponent=function(e){var t=/t=([^&]+)/g.exec(e),n=null;return t&&t[1]&&(n=t[1].split(",")),n},t}();e.Utils=t}(j||(j={})),function(e){var t=function(e,t){Array.isArray(e)?1===e.length?this.value=e[0]:this.value=e.join("<br/>"):this.value=e,this.locale=t};e.Language=t}(j||(j={}));var A;o=this&&this.__extends||(A=function(e,t){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}A(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.parse=function(t,n){var r,i=[];if(!t)return i;if(Array.isArray(t))for(var o=0;o<t.length;o++){var a=t[o];r="string"==typeof a?new e.Language(a,n):new e.Language(a["@value"],a["@language"]||n),i.push(r)}else{if("string"==typeof t)return r=new e.Language(t,n),i.push(r),i;t["@value"]?(r=new e.Language(t["@value"],t["@language"]||n),i.push(r)):Object.keys(t).forEach(function(n){if(!t[n].length)throw new Error("language must have a value");r=new e.Language(t[n],n),i.push(r)})}return i},n.getValue=function(t,n){if(t.length){if(n){var r=t.filter(function(t){return t.locale===n||e.Utils.getInexactLocale(t.locale)===e.Utils.getInexactLocale(n)})[0];if(r)return r.value}return t[0].value}return null},n}(Array);e.LanguageMap=t}(j||(j={})),function(e){var t=function(){function t(e){this.defaultLocale=e}return t.prototype.parse=function(t){this.resource=t,this.label=e.LanguageMap.parse(this.resource.label,this.defaultLocale),this.value=e.LanguageMap.parse(this.resource.value,this.defaultLocale)},t.prototype.getLabel=function(){return this.label?e.LanguageMap.getValue(this.label,this.defaultLocale):null},t.prototype.setLabel=function(t){var n=this;if(this.label&&this.label.length){var r=this.label.filter(function(t){return t.locale===n.defaultLocale||t.locale===e.Utils.getInexactLocale(n.defaultLocale)})[0];r&&(r.value=t)}},t.prototype.getValue=function(){if(this.value){var t=this.defaultLocale;return this.label&&this.label.length&&this.label[0].locale&&(t=this.label[0].locale),e.LanguageMap.getValue(this.value,t)}return null},t.prototype.setValue=function(t){var n=this;if(this.value&&this.value.length){var r=this.value.filter(function(t){return t.locale===n.defaultLocale||t.locale===e.Utils.getInexactLocale(n.defaultLocale)})[0];r&&(r.value=t)}},t}();e.LabelValuePair=t}(j||(j={})),function(e){var t=function(e,t){this.width=e,this.height=t};e.Size=t}(j||(j={})),t.manifesto=t.Manifesto=e.exports={AnnotationMotivation:new j.AnnotationMotivation,Behavior:new j.Behavior,IIIFResourceType:new j.IIIFResourceType,LabelValuePair:j.LabelValuePair,Language:j.Language,LanguageMap:j.LanguageMap,ManifestType:new j.ManifestType,MediaType:new j.MediaType,RenderingFormat:new j.RenderingFormat,ResourceType:new j.ResourceType,ServiceProfile:new j.ServiceProfile,Size:j.Size,TreeNode:j.TreeNode,TreeNodeType:new j.TreeNodeType,Utils:j.Utils,ViewingDirection:new j.ViewingDirection,ViewingHint:new j.ViewingHint,Annotation:j.Annotation,AnnotationBody:j.AnnotationBody,AnnotationList:j.AnnotationList,AnnotationPage:j.AnnotationPage,Canvas:j.Canvas,Collection:j.Collection,Duration:j.Duration,Manifest:j.Manifest,Range:j.Range,Sequence:j.Sequence,Service:j.Service,Thumbnail:j.Thumbnail,Thumb:j.Thumb,StatusCodes:{AUTHORIZATION_FAILED:1,FORBIDDEN:2,INTERNAL_SERVER_ERROR:3,RESTRICTED:4},create:function(e,t){return j.Deserialiser.parse(e,t)},loadManifest:function(e){return j.Utils.loadResource(e)}};var R;o=this&&this.__extends||(R=function(e,t){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){return t.call(this,e,n)||this}return o(n,t),n.prototype.getBody=function(){var t=[],n=this.getProperty("body");if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++){if((a=n[r]).items)for(var i=0;i<a.items.length;i++){var o=a.items[i];t.push(new e.AnnotationBody(o,this.options))}else t.push(new e.AnnotationBody(a,this.options))}else if(n.items)for(r=0;r<n.items.length;r++){var a=n.items[r];t.push(new e.AnnotationBody(a,this.options))}else t.push(new e.AnnotationBody(n,this.options));return t},n.prototype.getMotivation=function(){var t=this.getProperty("motivation");return t?new e.AnnotationMotivation(t.toLowerCase()):null},n.prototype.getOn=function(){return this.getProperty("on")},n.prototype.getTarget=function(){return this.getProperty("target")},n.prototype.getResource=function(){return new e.Resource(this.getProperty("resource"),this.options)},n}(e.ManifestResource);e.Annotation=t}(j||(j={}));var L;o=this&&this.__extends||(L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n){return t.call(this,e,n)||this}return o(n,t),n.prototype.getFormat=function(){var t=this.getProperty("format");return t?new e.MediaType(e.Utils.getMediaType(t)):null},n.prototype.getType=function(){return this.getProperty("type")?new e.ResourceType(e.Utils.normaliseType(this.getProperty("type"))):null},n.prototype.getWidth=function(){return this.getProperty("width")},n.prototype.getHeight=function(){return this.getProperty("height")},n}(e.ManifestResource);e.AnnotationBody=t}(j||(j={}));var M;o=this&&this.__extends||(M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(t){function n(e,n,r){var i=t.call(this,n)||this;return i.label=e,i.options=r,i}return o(n,t),n.prototype.getIIIFResourceType=function(){return new e.IIIFResourceType(e.Utils.normaliseType(this.getProperty("type")))},n.prototype.getLabel=function(){return this.label},n.prototype.getResources=function(){var t=this;return this.getProperty("resources").map(function(n){return new e.Annotation(n,t.options)})},n.prototype.load=function(){var t=this;return new Promise(function(n,r){if(t.isLoaded)n(t);else{var i=t.__jsonld.id;i||(i=t.__jsonld["@id"]),e.Utils.loadResource(i).then(function(e){t.__jsonld=JSON.parse(e),t.context=t.getProperty("context"),t.id=t.getProperty("id"),t.isLoaded=!0,n(t)}).catch(r)}})},n}(e.JSONLDResource);e.AnnotationList=t}(j||(j={}));var D;o=this&&this.__extends||(D=function(e,t){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.prototype.getItems=function(){return this.getProperty("items")},t}(e.ManifestResource);e.AnnotationPage=t}(j||(j={}));var N,j;o=this&&this.__extends||(N=function(e,t){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}N(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});!function(e){var t=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t}(e.Resource);e.Thumbnail=t}(j||(j={}))}).call(this,n(28))},function(e,t,n){(function(e){var r=n(689),i=n(294),o=n(302),a=n(701),s=n(223),l=t;l.request=function(t,n){t="string"==typeof t?s.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||i,l=t.hostname||t.host,u=t.port,c=t.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),t.url=(l?a+"//"+l:"")+(u?":"+u:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},l.get=function(e,t){var n=l.request(e,t);return n.end(),n},l.ClientRequest=r,l.IncomingMessage=i.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=a,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(28))},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,a=o&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&i("arraybuffer"),t.msstream=!t.fetch&&a&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&s(r().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n(28))},function(e,t,n){(function(e,r,i){var o=n(293),a=n(97),s=n(295),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(t,n,a,l){var u=this;if(s.Readable.call(u),u._mode=a,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){e.nextTick(function(){u.emit("close")})}),"fetch"===a){if(u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach(function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)}),o.writableStream){var c=new WritableStream({write:function(e){return new Promise(function(t,n){u._destroyed?n():u.push(new i(e))?t():u._resumeFetch=t})},close:function(){r.clearTimeout(l),u._destroyed||u.push(null)},abort:function(e){u._destroyed||u.emit("error",e)}});try{return void n.body.pipeTo(c).catch(function(e){r.clearTimeout(l),u._destroyed||u.emit("error",e)})}catch(e){}}var h=n.body.getReader();!function e(){h.read().then(function(t){if(!u._destroyed){if(t.done)return r.clearTimeout(l),void u.push(null);u.push(new i(t.value)),e()}}).catch(function(e){r.clearTimeout(l),u._destroyed||u.emit("error",e)})}()}else{if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(t[2])):void 0!==u.headers[n]?u.headers[n]+=", "+t[2]:u.headers[n]=t[2],u.rawHeaders.push(t[1],t[2])}}),u._charset="x-user-defined",!o.overrideMimeType){var d=u.rawHeaders["mime-type"];if(d){var f=d.match(/;\s*charset=([^;])(;|$)/);f&&(u._charset=f[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};a(u,s.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new i(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new i(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response,e.push(new i(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==l.LOADING||!n)break;e.push(new i(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==l.LOADING)break;var u=new r.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(new i(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(108),n(28),n(107).Buffer)},function(e,t,n){(t=e.exports=n(296)).Stream=t,t.Readable=t,t.Writable=n(299),t.Duplex=n(109),t.Transform=n(301),t.PassThrough=n(699)},function(e,t,n){"use strict";(function(t,r){var i=n(165);e.exports=b;var o,a=n(292);b.ReadableState=y;n(166).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(297),u=n(222).Buffer,c=t.Uint8Array||function(){};var h=n(138);h.inherits=n(97);var d=n(692),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=n(693),m=n(298);h.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(o=o||n(109));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(300).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(109),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}(e,a)):(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):k(e,a)):w(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),k(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(300).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var T=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(x,e):x(e))}function x(e){f("emit readable"),e.emit("readable"),I(e)}function k(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){f("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=u.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function R(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?R(this):E(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&R(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&R(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,f("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:b;function u(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",h),e.removeListener("error",m),e.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",b),n.removeListener("data",g),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){f("onend"),e.end()}o.endEmitted?i.nextTick(l):n.once("end",l),e.on("unpipe",u);var h=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,I(e))}}(n);e.on("drain",h);var d=!1;var p=!1;function g(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==M(o.pipes,e))&&!d&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function m(t){f("onerror",t),b(),e.removeListener("error",m),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){f("onfinish"),e.removeListener("close",v),b()}function b(){f("unpipe"),n.unpipe(e)}return n.on("data",g),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",v),e.once("finish",y),e.emit("pipe",n),o.flowing||(f("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=M(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(P,e,t))}(this,e)),this},b.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=A}).call(this,n(28),n(108))},function(e,t,n){e.exports=n(166).EventEmitter},function(e,t,n){"use strict";var r=n(165);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,r,i){var o=n(165);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=v;var u=n(138);u.inherits=n(97);var c={deprecate:n(697)},h=n(297),d=n(222).Buffer,f=i.Uint8Array||function(){};var p,g=n(298);function m(){}function v(e,t){s=s||n(109),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,u=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,i);else{var a=T(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?l(_,e,n,a,i):_(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(109),!(p.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,l=!0;n;)i[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;i.allBuffers=l,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(b(e,t,!1,t.objectMode?1:u.length,u,c,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function E(e,t){var n=T(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}u.inherits(y,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof f);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=m),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,i,o);return l}(this,i,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(108),n(695).setImmediate,n(28))},function(e,t,n){"use strict";var r=n(698).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=a;var r=n(109),i=n(138);function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){l(e,t,n)}):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(97),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";var r=n(729),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,n,r){var i;t in e&&("function"!=typeof(i=r)||"[object Function]"!==o.call(i)||!r())||(l?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)u(e,o[s],t[o[s]],n[o[s]])};c.supportsDescriptors=!!l,e.exports=c},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(224),i=n(731),o=r.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return o(o(e,a,""),s,"")}},function(e,t,n){"use strict";var r=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=Object.getPrototypeOf||function(e){return e.__proto__},a=void 0,s="undefined"==typeof Uint8Array?void 0:o(Uint8Array),l={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":i?o([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":void 0,"$ %AsyncGeneratorFunction%":void 0,"$ %AsyncGeneratorPrototype%":void 0,"$ %AsyncIteratorPrototype%":a&&i&&Symbol.asyncIterator?a[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":void 0,"$ %GeneratorFunction%":void 0,"$ %GeneratorPrototype%":void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":i?o(o([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&i?o((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&i?o((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":i?o(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":i?Symbol:void 0,"$ %SymbolPrototype%":i?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":r,"$ %TypedArray%":s,"$ %TypedArrayPrototype%":s?s.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var n="$ "+e;if(!(n in l))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===l[n]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return l[n]}},function(e,t,n){"use strict";var r=n(224);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(305);e.exports=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:r}},function(e,t,n){"use strict";var r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,b,_,w,T,S,E,x,k,C,O,P,I,A,R,L,M,D,N,j,U,F,B,z,H,V,W=Math.pow(2,32)-1;!function(){var e;if(x={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in x)x.hasOwnProperty(e)&&(x[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),O=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),A={video:P,audio:I},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),L=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),N=D,j=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),U=D,R=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},i=function(){return r(x.dinf,r(x.dref,M))},o=function(e){return r(x.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},a=function(){return r(x.ftyp,k,C,k,O)},y=function(e){return r(x.hdlr,A[e])},s=function(e){return r(x.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),r(x.mdhd,t)},m=function(e){return r(x.mdia,v(e),y(e.type),u(e))},l=function(e){return r(x.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return r(x.minf,"video"===e.type?r(x.vmhd,R):r(x.smhd,L),i(),_(e))},c=function(e,t){for(var n=[],i=t.length;i--;)n[i]=T(t[i]);return r.apply(null,[x.moof,l(e)].concat(n))},h=function(e){for(var t=e.length,n=[];t--;)n[t]=p(e[t]);return r.apply(null,[x.moov,f(4294967295)].concat(n).concat(d(e)))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=S(e[t]);return r.apply(null,[x.mvex].concat(n))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(x.mvhd,t)},b=function(e){var t,n,i=e.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)t=i[n].flags,o[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return r(x.sdtp,o)},_=function(e){return r(x.stbl,w(e),r(x.stts,U),r(x.stsc,N),r(x.stsz,j),r(x.stco,D))},w=function(e){return r(x.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?F(e):B(e))},F=function(e){var t,n=e.sps||[],i=e.pps||[],o=[],a=[];for(t=0;t<n.length;t++)o.push((65280&n[t].byteLength)>>>8),o.push(255&n[t].byteLength),o=o.concat(Array.prototype.slice.call(n[t]));for(t=0;t<i.length;t++)a.push((65280&i[t].byteLength)>>>8),a.push(255&i[t].byteLength),a=a.concat(Array.prototype.slice.call(i[t]));return r(x.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(x.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(o).concat([i.length]).concat(a))),r(x.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},B=function(e){return r(x.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))},g=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return r(x.tkhd,t)},T=function(e){var t,n,i,o,a,s;return t=r(x.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(W+1)),s=Math.floor(e.baseMediaDecodeTime%(W+1)),n=r(x.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(i=E(e,92),r(x.traf,t,n,i)):(o=b(e),i=E(e,o.length+92),r(x.traf,t,n,i,o))},p=function(e){return e.duration=e.duration||4294967295,r(x.trak,g(e),m(e))},S=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),r(x.trex,t)},V=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},H=function(e,t){var n,i,o,a;for(t+=20+16*(i=e.samples||[]).length,n=V(i,t),a=0;a<i.length;a++)o=i[a],n=n.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return r(x.trun,new Uint8Array(n))},z=function(e,t){var n,i,o,a;for(t+=20+8*(i=e.samples||[]).length,n=V(i,t),a=0;a<i.length;a++)o=i[a],n=n.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return r(x.trun,new Uint8Array(n))},E=function(e,t){return"audio"===e.type?z(e,t):H(e,t)},e.exports={ftyp:a,mdat:s,moof:c,moov:h,initSegment:function(e){var t,n=a(),r=h(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t}}},function(e,t,n){"use strict";var r=n(81),i=n(311),o=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new c(0,0),new c(0,1),new c(1,0),new c(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};(o.prototype=new r).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=i.parseSei(e.escapedRBSP)).payloadType===i.USER_DATA_REGISTERED_ITU_T_T35&&(n=i.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=i.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},o.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},o.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},o.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},o.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},o.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],u=function(){for(var e=[],t=15;t--;)e.push("");return e},c=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=u();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=u();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=u()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))o=s((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=s((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=l.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=s(r),o+=s(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};c.prototype=new r,c.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},c.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=u(),this.nonDisplayed_=u(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},c.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},c.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},c.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},c.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},c.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},c.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},c.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},c.prototype.isNormalChar=function(e){return e>=32&&e<=127},c.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=u(),this.displayed_=u()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},c.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},c.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},c.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},c.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},c.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},c.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},e.exports={CaptionStream:o,Cea608Stream:c}},function(e,t,n){"use strict";e.exports={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}t+=i,r=0,i=0}return n},parseUserData:function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)o={type:3&t[2+(i=3*n)],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},discardEmulationPreventionBytes:function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},USER_DATA_REGISTERED_ITU_T_T35:4}},function(e,t,n){"use strict";var r=n(81),i=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},o=function e(t){var n,r;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===r&&(r=e.dts),e.dts=i(e.dts,r),e.pts=i(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.discontinuity=function(){r=void 0,n=void 0}};o.prototype=new r,e.exports={TimestampRolloverStream:o,handleRollover:i}},function(e,t,n){},function(e,t,n){"use strict";(function(e){var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n.n(u),h=n(341),d=n(319),f=n(339),p=n(324),g=n(112),m=n(340),v=n(335),y=n(337),b=n(42),_=n(141),w=n(338),T=n(4),S=n(773),E=n(774),x=n(775);n(776);var k=function(t){function n(t){var i;return Object(r.a)(this,n),i=Object(o.a)(this,Object(a.a)(n).call(this,t)),e.config=new w.a(i.props.config),_.a.use(b.c).init({lng:e.config.getLanguage(),fallbackLng:e.config.getFallbackLanguage(),interpolation:{escapeValue:!1},resources:{de:{common:E},en:{common:S},nl:{common:x}}}),i.state={treeViewWidth:e.config.getDefaultNavBarWith()},i.treeViewWidthChanged=i.treeViewWidthChanged.bind(Object(s.a)(i)),i.toggleNavBar=i.toggleNavBar.bind(Object(s.a)(i)),i}return Object(l.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t={left:this.state.treeViewWidth+e.config.getSplitterWidth(0===this.state.treeViewWidth)};return c.a.createElement(b.a,{i18n:_.a},c.a.createElement(y.a,null),c.a.createElement("div",{id:"app"},c.a.createElement(p.a,null),c.a.createElement(m.a,null),c.a.createElement("div",{id:"main"},c.a.createElement(v.a,{width:this.state.treeViewWidth,widthChangedFunc:this.treeViewWidthChanged}),c.a.createElement("div",{id:"content",style:t},c.a.createElement(f.a,null),c.a.createElement("div",{id:"folder-and-info",style:{left:this.state.folderAndInfoLeft,top:this.state.folderAndInfoTop}},c.a.createElement(h.a,null),c.a.createElement(d.a,null))))))}},{key:"treeViewWidthChanged",value:function(t){t<e.config.getMinimalNavBarWidth()&&(t=0),this.setState({treeViewWidth:t})}},{key:"toggleNavBar",value:function(){var t=this.state.treeViewWidth>0?0:e.config.getDefaultNavBarWith();this.setState({treeViewWidth:t})}},{key:"componentDidMount",value:function(){window.addEventListener("popstate",function(e){g.a.goBack()}),T.a.ee.addListener("toggle-nav-bar",this.toggleNavBar)}},{key:"componentWillUnmount",value:function(){T.a.ee.removeListener("toggle-nav-bar",this.toggleNavBar)}}]),n}(c.a.Component);t.a=k}).call(this,n(28))},function(e,t,n){"use strict";(function(t){!function(t){var n=/^(b|B)$/,r={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},i={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};function o(e){var t,o,a,s,l,u,c,h,d,f,p,g,m,v,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=[],_=0,w=void 0,T=void 0;if(isNaN(e))throw new TypeError("Invalid number");return o=!0===y.bits,f=!0===y.unix,t=y.base||2,d=void 0!==y.round?y.round:f?1:2,u=void 0!==y.locale?y.locale:"",p=void 0!==y.separator?y.separator:"",g=void 0!==y.spacer?y.spacer:f?"":" ",v=y.symbols||{},m=2===t&&y.standard||"jedec",h=y.output||"string",s=!0===y.fullform,l=y.fullforms instanceof Array?y.fullforms:[],w=void 0!==y.exponent?y.exponent:-1,a=t>2?1e3:1024,(c=(T=Number(e))<0)&&(T=-T),(-1===w||isNaN(w))&&(w=Math.floor(Math.log(T)/Math.log(a)))<0&&(w=0),w>8&&(w=8),"exponent"===h?w:(0===T?(b[0]=0,b[1]=f?"":r[m][o?"bits":"bytes"][w]):(_=T/(2===t?Math.pow(2,10*w):Math.pow(1e3,w)),o&&(_*=8)>=a&&w<8&&(_/=a,w++),b[0]=Number(_.toFixed(w>0?d:0)),b[1]=10===t&&1===w?o?"kb":"kB":r[m][o?"bits":"bytes"][w],f&&(b[1]="jedec"===m?b[1].charAt(0):w>0?b[1].replace(/B$/,""):b[1],n.test(b[1])&&(b[0]=Math.floor(b[0]),b[1]=""))),c&&(b[0]=-b[0]),b[1]=v[b[1]]||b[1],!0===u?b[0]=b[0].toLocaleString():u.length>0?b[0]=b[0].toLocaleString(u):p.length>0&&(b[0]=b[0].toString().replace(".",p)),"array"===h?b:(s&&(b[1]=l[w]?l[w]:i[m][w]+(o?"bit":"byte")+(1===b[0]?"":"s")),"object"===h?{value:b[0],symbol:b[1]}:b.join(g)))}o.partial=function(e){return function(t){return o(t,e)}},e.exports=o}("undefined"!=typeof window&&window)}).call(this,n(28))},function(e,t,n){"use strict";var r=n(8);t.a=function e(){Object(r.a)(this,e),this.id=void 0,this.type=void 0,this.label=void 0,this.logo=void 0,this.attribution=void 0,this.manifestations=void 0,this.parentId=void 0,this.collections=void 0,this.manifests=void 0,this.resource=void 0,this.restricted=void 0,this.metadata=void 0,this.license=void 0,this.description=void 0,this.thumbnail=void 0,this.id="",this.type="",this.label="",this.logo="",this.attribution="",this.manifestations="",this.parentId="",this.collections="",this.manifests="",this.resource="",this.restricted=!1,this.metadata="",this.license="",this.description=""}},function(e,t,n){"use strict";var r=n(8);t.a=function e(){Object(r.a)(this,e),this.id=void 0,this.service=void 0,this.id=""}},function(e,t,n){e.exports={parse:n(713),stringify:n(716)}},function(e,t,n){"use strict";(function(e){var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n(142),h=n(4),d=n(42),f=n(720);n(721),n(722);var p=function(t){function n(e){var t;return Object(r.a)(this,n),(t=Object(o.a)(this,Object(a.a)(n).call(this,e))).state={data:null},t.updateFileInfo=t.updateFileInfo.bind(Object(s.a)(t)),t.showManifestationsModal=t.showManifestationsModal.bind(Object(s.a)(t)),t}return Object(l.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){if(null===this.state.data||this.state.data.restricted)return"";if("string"==typeof this.state.data)return u.createElement("div",{id:"file-info"},this.state.data);var t=this.state.data,n=[];if(c.addHook("afterSanitizeAttributes",function(e){"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))}),void 0!==t.description&&n.push(u.createElement("div",{key:"description"},u.createElement("div",{className:"label"},u.createElement(d.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("description"))})),u.createElement("div",{className:"value",dangerouslySetInnerHTML:{__html:c.sanitize(t.description,e.config.getSanitizeRulesSet())}}))),void 0!==t.metadata)for(var r in t.metadata)if(t.metadata.hasOwnProperty(r)){var i=t.metadata[r];n.push(u.createElement("div",{key:r},u.createElement("div",{className:"label"},i.label),u.createElement("div",{className:"value",dangerouslySetInnerHTML:{__html:c.sanitize(i.value,e.config.getSanitizeRulesSet())}})))}t.attribution&&n.push(u.createElement("div",{key:"attribution"},u.createElement("div",{className:"label"},u.createElement(d.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("attribution"))})),u.createElement("div",{className:"value",dangerouslySetInnerHTML:{__html:c.sanitize(t.attribution,e.config.getSanitizeRulesSet())}}))),void 0!==t.license&&n.push(u.createElement("div",{key:"termsOfUsage"},u.createElement("div",{className:"label"},u.createElement(d.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("license"))})),u.createElement("div",{className:"value"},u.createElement("a",{href:t.license},t.license))));var o=t.logo;return o&&n.push(u.createElement("img",{key:"providerLogo",id:"provider-logo",src:o,alt:"Logo",title:"Logo"})),t.manifestations.length>0&&n.push(u.createElement("div",{key:"manifestation"},u.createElement("div",{id:"show-manifestation",onClick:this.showManifestationsModal},u.createElement(d.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("showFile"))})))),u.createElement("div",{id:"file-info"},u.createElement("h3",null,t.label),n,u.createElement("a",{id:"iiif-logo",href:t.id,target:"_blank",rel:"noopener noreferrer"},u.createElement("img",{src:f,title:"IIIF-Manifest",alt:"IIIF-Manifest"})))}},{key:"componentDidMount",value:function(){h.a.ee.addListener("update-file-info",this.updateFileInfo)}},{key:"componentWillUnmount",value:function(){h.a.ee.removeListener("update-file-info",this.updateFileInfo)}},{key:"addBlankTarget",value:function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=0;n<t.children.length;n++){var r=t.children[n];"A"===r.nodeName&&(r.target="_blank")}return t.innerHTML}},{key:"updateFileInfo",value:function(e){this.setState({data:e})}},{key:"showManifestationsModal",value:function(){var e=this,t=[];if(null!==this.state.data){var n=this.state.data.manifestations;for(var r in n)n.hasOwnProperty(r)&&function(){var i=n[r];t.push(u.createElement("div",{key:r,className:"file-manifestation",onClick:function(){return e.openFile(i.url)}},i.label))}()}var i={titleJsx:u.createElement(d.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("license"))}),bodyJsx:t};h.a.ee.emit("alert",i)}},{key:"openFile",value:function(e){var t=window.open(e,"_target");t&&t.focus()}}]),n}(u.Component);t.a=p}).call(this,n(28))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,$,fullScreenApi;function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}!function(e){e.version={versionStr:"2.4.1",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("1",10)};var t,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null==e?String(e):n[r.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in t)n=r;return void 0===n||i.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(t=document.createElement("canvas"),!(!e.isFunction(t.getContext)||!t.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/r}return 1}()}(OpenSeadragon),function($){$.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=arguments.length,l=!1,u=1;for("boolean"==typeof a&&(l=a,a=arguments[1]||{},u=2),"object"==typeof a||OpenSeadragon.isFunction(a)||(a={}),s===u&&(a=this,--u);u<s;u++)if(null!==(e=arguments[u])||void 0!==e)for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(OpenSeadragon.isPlainObject(r)||(i=OpenSeadragon.isArray(r)))?(i?(i=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},a[t]=OpenSeadragon.extend(l,o,r)):void 0!==r&&(a[t]=r));return a};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,n,r=new $.Point;for(n=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);n;)r.x+=e.offsetLeft,r.y+=e.offsetTop,t&&(r=r.plus($.getPageScroll())),n=getOffsetParent(e=n,t="fixed"==$.getElementStyle(e).position);return r},getElementOffset:function(e){var t,n,r=(e=$.getElement(e))&&e.ownerDocument,i={top:0,left:0};return r?(t=r.documentElement,void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect()),n=r==r.window?r:9===r.nodeType&&(r.defaultView||r.parentWindow),new $.Point(i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0),i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var n=document.createElement("div").style,r=null;if(void 0!==n[e])r=e;else for(var i=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),a=0;a<i.length;a++){var s=i[a]+o;if(void 0!==n[s]){r=s;break}}return t[e]=r,r},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(e,t){e=$.getElement(e);var n=$.getElementOffset(e),r=$.getElementSize(e);return t.x>=n.x&&t.x<n.x+r.x&&t.y<n.y+r.y&&t.y>=n.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if(void 0!==window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var n=$.getPageScroll();if(n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(n=$.getPageScroll()).x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),n=null;return(n=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t.onload=null,t=null},t.src=e,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",n}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,n){var r;e=$.getElement(e),n&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(r="alpha(opacity="+Math.round(100*t)+")",e.style.filter=r):e.style.filter=""},setElementTouchActionNone:function(e){void 0!==(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":void 0!==e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var r,i,o=n||0;if(!e)throw new TypeError;if(0===(i=e.length)||o>=i)return-1;for(o<0&&(o=i-Math.abs(o)),r=o;r<i;r++)if(e[r]===t)return r;return-1},this.indexOf(e,t,n)},removeClass:function(e,t){var n,r,i=[];for(n=(e=$.getElement(e)).className.split(/\s+/),r=0;r<n.length;r++)n[r]&&n[r]!==t&&i.push(n[r]);e.className=i.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,n,r){(e=$.getElement(e)).addEventListener(t,n,r)};if(window.attachEvent)return function(e,t,n,r){(e=$.getElement(e)).attachEvent("on"+t,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,n,r){(e=$.getElement(e)).removeEventListener(t,n,r)};if(window.detachEvent)return function(e,t,n,r){(e=$.getElement(e)).detachEvent("on"+t,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var n,r=[];for(n=2;n<arguments.length;n++)r.push(arguments[n]);return function(){var n,i=r.concat([]);for(n=0;n<arguments.length;n++)i.push(arguments[n]);return t.apply(e,i)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,n){var r,i,o;$.isPlainObject(e)&&(t=e.success,n=e.error,r=e.withCredentials,i=e.headers,o=e.responseType||null,e=e.url);var a=$.getUrlProtocol(e),s=$.createAjaxRequest("file:"===a);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");s.onreadystatechange=function(){4==s.readyState&&(s.onreadystatechange=function(){},s.status>=200&&s.status<300||0===s.status&&"http:"!==a&&"https:"!==a?t(s):($.console.log("AJAX request returned %d: %s",s.status,e),$.isFunction(n)&&n(s)))};try{if(s.open("GET",e,!0),o&&(s.responseType=o),i)for(var l in i)i.hasOwnProperty(l)&&i[l]&&s.setRequestHeader(l,i[l]);r&&(s.withCredentials=!0),s.send(null)}catch(r){var u=r.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==r.number&&-2147024891==r.number&&(u+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",r.name,u),s.onreadystatechange=function(){},window.XDomainRequest){var c=new XDomainRequest;if(c){c.onload=function(e){$.isFunction(t)&&t({responseText:c.responseText,status:200,statusText:"OK"})},c.onerror=function(e){$.isFunction(n)&&n({responseText:c.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{c.open("GET",e),c.send()}catch(e){$.isFunction(n)&&n(s,r)}}}else $.isFunction(n)&&n(s,r)}return s},jsonp:function(e){var t,n=e.url,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=e.callbackName||"openseadragon"+$.now(),o=window[i],a="$1"+i+"$2",s=e.param||"callback",l=e.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+s+"="+i,window[i]=function(e){if(o)window[i]=o;else try{delete window[i]}catch(e){}l&&$.isFunction(l)&&l(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=n,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,r&&t.parentNode&&r.removeChild(t),t=void 0)},r.insertBefore(t,r.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function parseJSON(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(t.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):t.indexOf("Safari")>=0?($.Browser.vendor=t.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var n,r,i,o=window.location.search.substring(1).split("&");for(i=0;i<o.length;i++)(r=(n=o[i]).indexOf("="))>0&&(URLPARAMS[n.substring(0,r)]=decodeURIComponent(n.substring(r+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&n)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return n.apply(e,arguments)};else{var r,i=[],o=[],a=0;$.requestAnimationFrame=function(e){return i.push([++a,e]),r||(r=setInterval(function(){if(i.length){var e=$.now(),t=o;for(o=i,i=t;o.length;)o.shift()[1](e)}else clearInterval(r),r=void 0},20)),a},$.cancelAnimationFrame=function(e){var t,n;for(t=0,n=i.length;t<n;t+=1)if(i[t][0]===e)return void i.splice(t,1);for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return OpenSeadragon})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),$=OpenSeadragon,fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.fullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.requestFullscreen()},fullScreenApi.exitFullScreen=function(){document.exitFullscreen()},fullScreenApi.fullScreenEventName="fullscreenchange",fullScreenApi.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.msFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.msRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.msExitFullscreen()},fullScreenApi.fullScreenEventName="MSFullscreenChange",fullScreenApi.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.webkitExitFullscreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.webkitCancelFullScreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.mozFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.mozRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.mozCancelFullScreen()},fullScreenApi.fullScreenEventName="mozfullscreenchange",fullScreenApi.fullScreenErrorEventName="mozfullscreenerror"),fullScreenApi.isFullScreen=function(){return null!==fullScreenApi.getFullScreenElement()},fullScreenApi.cancelFullScreen=function(){$.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),fullScreenApi.exitFullScreen()},$.extend($,fullScreenApi),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,r){var i=this;r=r||1;var o=0;this.addHandler(e,function n(a){++o===r&&i.removeHandler(e,n),t(a)},n)},addHandler:function(t,n,r){var i=this.events[t];i||(this.events[t]=i=[]),n&&e.isFunction(n)&&(i[i.length]={handler:n,userData:r||null})},removeHandler:function(t,n){var r,i=this.events[t],o=[];if(i&&e.isArray(i)){for(r=0;r<i.length;r++)i[r].handler!==n&&o.push(i[r]);this.events[t]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var r,i=t.length;for(r=0;r<i;r++)t[r]&&(n.eventSource=e,n.userData=t[r].userData,t[r].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}}}(OpenSeadragon),function(e){var t,n,r,i,o,a,s=[],l={};function u(t){var n,r=l[t.hash],i=r.activePointersLists.length;for(n=0;n<i;n++)r.activePointersLists[n].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",r.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",r.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",r.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",r.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",r.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",r.touchendcaptured,!0),r.activePointersLists[n].captureCount=0);for(n=0;n<i;n++)r.activePointersLists.pop()}function c(t){var n,r,i=l[t.hash];if(i.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)n=e.MouseTracker.subscribeEvents[r],e.removeEvent(t.element,n,i[n],!1);u(t),i.tracking=!1}}function h(t,n){var r=l[t.hash];if("pointerevent"===n)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:r.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:r.pointermovecaptured};if("mouse"===n)return{upName:"mouseup",upHandler:r.mouseupcaptured,moveName:"mousemove",moveHandler:r.mousemovecaptured};if("touch"===n)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function d(t,n,r){var i,o=t.getActivePointersListByType(n);o.captureCount+=r||1,1===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(i=h(t,e.MouseTracker.havePointerEvents?"pointerevent":n),ye&&be(window.top)&&e.addEvent(window.top,i.upName,i.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,i.upName,i.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,i.moveName,i.moveHandler,!0)))}function f(t,n,r){var i,o=t.getActivePointersListByType(n);o.captureCount-=r||1,0===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(i=h(t,e.MouseTracker.havePointerEvents?"pointerevent":n),ye&&be(window.top)&&e.removeEvent(window.top,i.upName,i.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,i.moveName,i.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,i.upName,i.upHandler,!0)))}function p(t){var n;if(e.MouseTracker.unprefixedPointerEvents)n=t.pointerType;else switch(t.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function g(t){return e.getMousePosition(t)}function m(e,t){return v(g(e),t)}function v(t,n){var r=e.getElementOffset(n);return t.minus(r)}function y(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function b(t,n){t.clickHandler&&e.cancelEvent(n)}function _(t,n){t.dblClickHandler&&e.cancelEvent(n)}function w(t,n){t.keyDownHandler&&(n=e.getEvent(n),t.keyDownHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function T(t,n){t.keyUpHandler&&(n=e.getEvent(n),t.keyUpHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function S(t,n){t.keyHandler&&(n=e.getEvent(n),t.keyHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}function E(t,n){t.focusHandler&&(n=e.getEvent(n),!1===t.focusHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}function x(t,n){t.blurHandler&&(n=e.getEvent(n),!1===t.blurHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}function k(e,t){O(e,t,t)}function C(t,n){var r={target:(n=e.getEvent(n)).target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?r.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:r.deltaY=n.detail,O(t,r,n)}function O(t,n,r){var i;i=n.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:m(n,t.element),scroll:i,shift:n.shiftKey,isTouchEvent:!1,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r)}function P(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function I(t,n){R(t,n=e.getEvent(n))}function A(t,n){(n=e.getEvent(n)).currentTarget===n.relatedTarget||P(n.currentTarget,n.relatedTarget)||R(t,n)}function R(t,n){fe(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}])}function L(t,n){D(t,n=e.getEvent(n))}function M(t,n){(n=e.getEvent(n)).currentTarget===n.relatedTarget||P(n.currentTarget,n.relatedTarget)||D(t,n)}function D(t,n){pe(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}])}function N(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function j(t,n){ge(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}],N(n.button))&&(e.stopEvent(n),d(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(n)}function U(e,t){B(e,t)}function F(t,n){B(t,n),e.stopEvent(n)}function B(t,n){me(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}],N(n.button))&&f(t,"mouse")}function z(e,t){V(e,t)}function H(t,n){V(t,n),e.stopEvent(n)}function V(t,n){ve(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}])}function W(e,t,n){var r,i=n.getLength(),o=[];if("touch"===n.type||n.contacts>0){for(r=0;r<i;r++)o.push(n.getByIndex(r));o.length>0&&(me(e,t,o,0),n.captureCount=1,f(e,n.type),pe(e,t,o))}}function G(t,n){var r,i,o,a,l=n.changedTouches.length,u=[],c=t.getActivePointersListByType("touch");for(r=e.now(),c.getLength()>n.touches.length-l&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),W(t,n,c)),i=0;i<l;i++)u.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:g(n.changedTouches[i]),currentTime:r});for(fe(t,n,u),i=0;i<s.length;i++)if(s[i]!==t&&s[i].isTracking()&&P(s[i].element,t.element)){for(a=[],o=0;o<l;o++)a.push({id:n.changedTouches[o].identifier,type:"touch",currentPos:g(n.changedTouches[o]),currentTime:r});fe(s[i],n,a)}ge(t,n,u,0)&&(e.stopEvent(n),d(t,"touch",l)),e.cancelEvent(n)}function q(e,t){X(e,t)}function $(t,n){X(t,n),e.stopEvent(n)}function X(t,n){var r,i,o,a,l=n.changedTouches.length,u=[];for(r=e.now(),i=0;i<l;i++)u.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:g(n.changedTouches[i]),currentTime:r});for(me(t,n,u,0)&&f(t,"touch",l),pe(t,n,u),i=0;i<s.length;i++)if(s[i]!==t&&s[i].isTracking()&&P(s[i].element,t.element)){for(a=[],o=0;o<l;o++)a.push({id:n.changedTouches[o].identifier,type:"touch",currentPos:g(n.changedTouches[o]),currentTime:r});pe(s[i],n,a)}e.cancelEvent(n)}function K(e,t){Z(e,t)}function Y(t,n){Z(t,n),e.stopEvent(n)}function Z(t,n){var r,i=n.changedTouches.length,o=[];for(r=0;r<i;r++)o.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:g(n.changedTouches[r]),currentTime:e.now()});ve(t,n,o),e.cancelEvent(n)}function Q(e,t){var n=e.getActivePointersListByType("touch");W(e,t,n)}function J(e,t){return t.stopPropagation(),t.preventDefault(),!1}function ee(e,t){return t.stopPropagation(),t.preventDefault(),!1}function te(t,n){n.currentTarget===n.relatedTarget||P(n.currentTarget,n.relatedTarget)||fe(t,n,[{id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}])}function ne(t,n){n.currentTarget===n.relatedTarget||P(n.currentTarget,n.relatedTarget)||pe(t,n,[{id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}])}function re(t,n){var r;ge(t,n,[r={id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}],n.button)&&(e.stopEvent(n),d(t,r.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(n)}function ie(e,t){ae(e,t)}function oe(t,n){t.getActivePointersListByType(p(n)).getById(n.pointerId)&&ae(t,n),e.stopEvent(n)}function ae(t,n){var r;me(t,n,[r={id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}],n.button)&&f(t,r.type)}function se(e,t){ue(e,t)}function le(t,n){t.getActivePointersListByType(p(n)).getById(n.pointerId)&&ue(t,n),e.stopEvent(n)}function ue(t,n){ve(t,n,[{id:n.pointerId,type:p(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}])}function ce(e,t){!function(e,t,n){me(e,t,n,0),pe(e,t,n)}(e,t,[{id:t.pointerId,type:p(t)}])}function he(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function de(e,t){var n,r;return e.getById(t.id)?(n=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(r=e.getPrimary())||(r=e.getByIndex(0))&&(r.isPrimary=!0)):n=e.getLength(),n}function fe(t,n,r){var i,o,a,s=t.getActivePointersListByType(r[0].type),l=r.length;for(i=0;i<l;i++)o=r[i],(a=s.getById(o.id))?(a.insideElement=!0,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,he(s,o)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:o.type,position:v(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function pe(t,n,r){var i,o,a,s=t.getActivePointersListByType(r[0].type),l=r.length;for(i=0;i<l;i++)o=r[i],(a=s.getById(o.id))&&(a.captured?(a.insideElement=!1,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):de(s,a),o=a),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:o.type,position:v(o.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!a&&a.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function ge(t,n,r,i){var o,a,s,u=l[t.hash],c=t.getActivePointersListByType(r[0].type),h=r.length;void 0!==n.buttons?c.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===i?c.buttons+=1:1===i?c.buttons+=4:2===i?c.buttons+=2:3===i?c.buttons+=8:4===i?c.buttons+=16:5===i&&(c.buttons+=32):0===i?c.buttons|=1:1===i?c.buttons|=4:2===i?c.buttons|=2:3===i?c.buttons|=8:4===i?c.buttons|=16:5===i&&(c.buttons|=32);var d=t.getActivePointersListsExceptType(r[0].type);for(o=0;o<d.length;o++)W(t,n,d[o]);if(0!==i)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:r[0].type,position:v(r[0].currentPos,t.element),button:i,buttons:c.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),!1;for(o=0;o<h;o++)a=r[o],(s=c.getById(a.id))?(s.captured=!0,s.insideElementPressed=!0,s.insideElement=!0,s.contactPos=a.currentPos,s.contactTime=a.currentTime,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=a.currentPos,s.currentTime=a.currentTime,a=s):(a.captured=!0,a.insideElementPressed=!0,a.insideElement=!0,he(c,a)),c.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,a),1===c.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:a.type,position:v(a.contactPos,t.element),buttons:c.buttons,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):2===c.contacts&&t.pinchHandler&&"touch"===a.type&&(u.pinchGPoints=c.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=y(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos));return!0}function me(t,n,r,i){var o,a,s,u,c,h,d=l[t.hash],f=t.getActivePointersListByType(r[0].type),p=r.length,g=!1,m=!1;if(void 0!==n.buttons?f.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===i?f.buttons-=1:1===i?f.buttons-=4:2===i?f.buttons-=2:3===i?f.buttons-=8:4===i?f.buttons-=16:5===i&&(f.buttons-=32):0===i?f.buttons^=-2:1===i?f.buttons^=-5:2===i?f.buttons^=-3:3===i?f.buttons^=-9:4===i?f.buttons^=-17:5===i&&(f.buttons^=-33),0!==i){t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:r[0].type,position:v(r[0].currentPos,t.element),button:i,buttons:f.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);var b=t.getActivePointersListByType("mouse");return W(t,n,b),!1}for(s=0;s<p;s++)u=r[s],(c=f.getById(u.id))&&(c.captured&&(c.captured=!1,g=!0,m=!0),c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=u.currentPos,c.currentTime=u.currentTime,c.insideElement||de(f,c),o=c.currentPos,a=c.currentTime,m?(f.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,c),0===f.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:v(o,t.element),buttons:f.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dragEndHandler&&!c.currentPos.equals(c.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:c.type,position:v(c.currentPos,t.element),speed:c.speed,direction:c.direction,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),(t.clickHandler||t.dblClickHandler)&&c.insideElement&&(h=a-c.contactTime<=t.clickTimeThreshold&&c.contactPos.distanceTo(o)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:c.type,position:v(c.currentPos,t.element),quick:h,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dblClickHandler&&h&&(f.clicks++,1===f.clicks?(d.lastClickPos=o,d.dblClickTimeOut=setTimeout(function(){f.clicks=0},t.dblClickTimeThreshold)):2===f.clicks&&(clearTimeout(d.dblClickTimeOut),f.clicks=0,d.lastClickPos.distanceTo(o)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:c.type,position:v(c.currentPos,t.element),shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),d.lastClickPos=null)))):2===f.contacts&&t.pinchHandler&&"touch"===c.type&&(d.pinchGPoints=f.asArray(),d.lastPinchDist=d.currentPinchDist=d.pinchGPoints[0].currentPos.distanceTo(d.pinchGPoints[1].currentPos),d.lastPinchCenter=d.currentPinchCenter=y(d.pinchGPoints[0].currentPos,d.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:v(o,t.element),buttons:f.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n));return g}function ve(t,n,r){var i,o,a,s,u,c=l[t.hash],h=t.getActivePointersListByType(r[0].type),d=r.length;for(void 0!==n.buttons&&(h.buttons=n.buttons),i=0;i<d;i++)o=r[i],(a=h.getById(o.id))?(o.hasOwnProperty("isPrimary")&&(a.isPrimary=o.isPrimary),a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,he(h,o));t.stopHandler&&"mouse"===r[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){!function(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:m(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}(t,n,r[0].type)},t.stopDelay)),0===h.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:r[0].type,position:v(r[0].currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):1===h.contacts?(t.moveHandler&&(a=h.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:a.type,position:v(a.currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.dragHandler&&(u=(a=h.asArray()[0]).currentPos.minus(a.lastPos),!1===t.dragHandler({eventSource:t,pointerType:a.type,position:v(a.currentPos,t.element),buttons:h.buttons,delta:u,speed:a.speed,direction:a.direction,shift:n.shiftKey,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))):2===h.contacts&&(t.moveHandler&&(s=h.asArray(),!1===t.moveHandler({eventSource:t,pointerType:s[0].type,position:v(y(s[0].currentPos,s[1].currentPos),t.element),buttons:h.buttons,isTouchEvent:"touch"===s[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.pinchHandler&&"touch"===r[0].type&&(u=c.pinchGPoints[0].currentPos.distanceTo(c.pinchGPoints[1].currentPos))!=c.currentPinchDist&&(c.lastPinchDist=c.currentPinchDist,c.currentPinchDist=u,c.lastPinchCenter=c.currentPinchCenter,c.currentPinchCenter=y(c.pinchGPoints[0].currentPos,c.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:c.pinchGPoints,lastCenter:v(c.lastPinchCenter,t.element),center:v(c.currentPinchCenter,t.element),lastDistance:c.lastPinchDist,distance:c.currentPinchDist,shift:n.shiftKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)))}e.MouseTracker=function(t){s.push(this);var n=arguments;e.isPlainObject(t)||(t={element:n[0],clickTimeThreshold:n[1],clickDistThreshold:n[2]}),this.hash=Math.random(),this.element=e.getElement(t.element),this.clickTimeThreshold=t.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=t.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=t.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=t.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=t.userData||null,this.stopDelay=t.stopDelay||50,this.enterHandler=t.enterHandler||null,this.exitHandler=t.exitHandler||null,this.pressHandler=t.pressHandler||null,this.nonPrimaryPressHandler=t.nonPrimaryPressHandler||null,this.releaseHandler=t.releaseHandler||null,this.nonPrimaryReleaseHandler=t.nonPrimaryReleaseHandler||null,this.moveHandler=t.moveHandler||null,this.scrollHandler=t.scrollHandler||null,this.clickHandler=t.clickHandler||null,this.dblClickHandler=t.dblClickHandler||null,this.dragHandler=t.dragHandler||null,this.dragEndHandler=t.dragEndHandler||null,this.pinchHandler=t.pinchHandler||null,this.stopHandler=t.stopHandler||null,this.keyDownHandler=t.keyDownHandler||null,this.keyUpHandler=t.keyUpHandler||null,this.keyHandler=t.keyHandler||null,this.focusHandler=t.focusHandler||null,this.blurHandler=t.blurHandler||null;var r=this;l[this.hash]={click:function(e){b(r,e)},dblclick:function(e){_(r,e)},keydown:function(e){w(r,e)},keyup:function(e){T(r,e)},keypress:function(e){S(r,e)},focus:function(e){E(r,e)},blur:function(e){x(r,e)},wheel:function(e){k(r,e)},mousewheel:function(e){C(r,e)},DOMMouseScroll:function(e){C(r,e)},MozMousePixelScroll:function(e){C(r,e)},mouseenter:function(e){I(r,e)},mouseleave:function(e){L(r,e)},mouseover:function(e){A(r,e)},mouseout:function(e){M(r,e)},mousedown:function(e){j(r,e)},mouseup:function(e){U(r,e)},mouseupcaptured:function(e){F(r,e)},mousemove:function(e){z(r,e)},mousemovecaptured:function(e){H(r,e)},touchstart:function(e){G(r,e)},touchend:function(e){q(r,e)},touchendcaptured:function(e){$(r,e)},touchmove:function(e){K(r,e)},touchmovecaptured:function(e){Y(r,e)},touchcancel:function(e){Q(r,e)},gesturestart:function(e){J(r,e)},gesturechange:function(e){ee(r,e)},pointerover:function(e){te(r,e)},MSPointerOver:function(e){te(r,e)},pointerout:function(e){ne(r,e)},MSPointerOut:function(e){ne(r,e)},pointerdown:function(e){re(r,e)},MSPointerDown:function(e){re(r,e)},pointerup:function(e){ie(r,e)},MSPointerUp:function(e){ie(r,e)},pointermove:function(e){se(r,e)},MSPointerMove:function(e){se(r,e)},pointercancel:function(e){ce(r,e)},MSPointerCancel:function(e){ce(r,e)},pointerupcaptured:function(e){oe(r,e)},pointermovecaptured:function(e){le(r,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},t.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(c(this),this.element=null,e=0;e<s.length;e++)if(s[e]===this){s.splice(e,1);break}l[this.hash]=null,delete l[this.hash]},isTracking:function(){return l[this.hash].tracking},setTracking:function(t){return t?function(t){var n,r,i=l[t.hash];if(!i.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)n=e.MouseTracker.subscribeEvents[r],e.addEvent(t.element,n,i[n],!1);u(t),i.tracking=!0}}(this):c(this),this},getActivePointersListsExceptType:function(e){for(var t=l[this.hash],n=[],r=0;r<t.activePointersLists.length;++r)t.activePointersLists[r].type!==e&&n.push(t.activePointersLists[r]);return n},getActivePointersListByType:function(t){var n,r,i=l[this.hash],o=i.activePointersLists.length;for(n=0;n<o;n++)if(i.activePointersLists[n].type===t)return i.activePointersLists[n];return r=new e.MouseTracker.GesturePointList(t),i.activePointersLists.push(r),r},getActivePointerCount:function(){var e,t=l[this.hash],n=t.activePointersLists.length,r=0;for(e=0;e<n;e++)r+=t.activePointersLists[e].getLength();return r},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<s.length;e++)s[e].isTracking()&&(s[e].setTracking(!1),s[e].setTracking(!0))},e.MouseTracker.gesturePointVelocityTracker=(t=[],n=0,r=0,i=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var n,i,o,a,s,l,u=t.length,c=e.now();for(a=c-r,r=c,n=0;n<u;n++)(o=(i=t[n]).gPoint).direction=Math.atan2(o.currentPos.y-i.lastPos.y,o.currentPos.x-i.lastPos.x),s=i.lastPos.distanceTo(o.currentPos),i.lastPos=o.currentPos,l=1e3*s/(a+1),o.speed=.75*l+.25*o.speed},{addPoint:function(a,s){var l=i(a,s);t.push({guid:l,gPoint:s,lastPos:s.currentPos}),1===t.length&&(r=e.now(),n=window.setInterval(o,50))},removePoint:function(e,r){var o,a=i(e,r),s=t.length;for(o=0;o<s;o++)if(t[o].guid===a){t.splice(o,1),0==--s&&window.clearInterval(n);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=(a=document.createElement("div"),e.isFunction(a.setCapture)&&e.isFunction(a.releaseCapture)),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var ye=function(){try{return window.self!==window.top}catch(e){return!0}}();function be(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,r){var i=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=r,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function t(e,t){var n,r=e.controls;for(n=r.length-1;n>=0;n--)if(r[n].element==t)return n;return-1}e.ControlDock=function(t){var n,r,i=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),r=0;r<i.length;r++)n=i[r],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,r){var i=null;if(!(t(this,n=e.getElement(n))>=0)){switch(r.anchor){case e.ControlAnchor.TOP_RIGHT:i=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:i=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:i=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case e.ControlAnchor.NONE:i=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,r,i)),n.style.display="inline-block"}},removeControl:function(n){var r=t(this,n=e.getElement(n));return r>=0&&(this.controls[r].destroy(),this.controls.splice(r,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){var t={},n=1;function r(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function i(t,n){if(n instanceof e.Overlay)return n;var r=null;if(n.element)r=e.getElement(n.element);else{var i=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(r=e.getElement(n.id))||((r=document.createElement("a")).href="#/overlay/"+i),r.id=i,e.addClass(r,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,s=n.height;if(!o){var l=n.x,u=n.y;if(void 0!==n.px){var c=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,s||0));l=c.x,u=c.y,a=void 0!==a?c.width:void 0,s=void 0!==s?c.height:void 0}o=new e.Point(l,u)}var h=n.placement;return h&&"string"===e.type(h)&&(h=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:r,location:o,placement:h,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:s,rotationMode:n.rotationMode})}function o(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function a(t,n){return e.requestAnimationFrame(function(){n(t)})}function s(t){e.requestAnimationFrame(function(){!function(t){var n,r,i,o;if(t.controlsShouldFade){for(n=e.now(),r=n-t.controlsFadeBeginTime,i=1-r/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),o=t.controls.length-1;o>=0;o--)t.controls[o].autoFade&&t.controls[o].setOpacity(i);i>0&&s(t)}}(t)})}function l(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){s(t)},t.controlsFadeDelay))}function u(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function c(){u(this)}function h(){l(this)}function d(t){var n={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function f(t){var n={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(e.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(e.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function p(e){var t;document.activeElement==this.canvas||this.canvas.focus(),this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",n),!n.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType)).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function g(e){var t,n={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function m(e){var t,n={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var r=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=r.x,this.viewport.centerSpringY.target.value+=r.y;var i=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=r.x,this.viewport.centerSpringY.target.value-=r.y,i.x!=o.x&&(e.delta.x=0),i.y!=o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function v(t){if(!t.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var r=0;this.panHorizontal&&(r=n.flickMomentum*t.speed*Math.cos(t.direction));var i=0;this.panVertical&&(i=n.flickMomentum*t.speed*Math.sin(t.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),a=this.viewport.pointFromPixel(new e.Point(o.x-r,o.y-i));this.viewport.panTo(a,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function y(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function b(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function _(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function w(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function T(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function S(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function E(e){var t,n,r;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(n=this.viewport.pointFromPixel(e.center,!0),r=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(r.x=0),this.panVertical||(r.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),t.zoomToRefPoint&&this.viewport.panBy(r,!0),this.viewport.applyConstraints()),t.pinchRotate)){var i=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),o=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(i-o)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function x(t){var n,r,i;if((i=e.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=i,this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),!t.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(r=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(r,n.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),n&&n.scrollToZoom)return!1}else if((n=this.gestureSettingsByDeviceType(t.pointerType))&&n.scrollToZoom)return!1}function k(e){t[this.hash].mouseInside=!0,u(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function C(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||l(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function O(e){!function(e){if(e._opening)return;if(e.autoResize){var n=r(e.container),i=t[e.hash].prevContainerSize;if(!n.equals(i)){var o=e.viewport;if(e.preserveImageSizeOnResize){var a=i.x/n.x,s=o.getZoom()*a,c=o.getCenter();o.resize(n,!1),o.zoomTo(s,null,!0),o.panTo(c,!0)}else{var h=o.getBounds();o.resize(n,!0),o.fitBoundsWithConstraints(h,!0)}t[e.hash].prevContainerSize=n,t[e.hash].forceRedraw=!0}}var d=e.viewport.update(),f=e.world.update()||d;d&&e.raiseEvent("viewport-change");e.referenceStrip&&(f=e.referenceStrip.update(e.viewport)||f);!t[e.hash].animating&&f&&(e.raiseEvent("animation-start"),u(e));(f||t[e.hash].forceRedraw||e.world.needsDraw())&&(!function(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,f&&e.raiseEvent("animation"));t[e.hash].animating&&!f&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||l(e));t[e.hash].animating=f}(e),e.isOpen()?e._updateRequestId=a(e,O):e._updateRequestId=!1}function P(e,t){return e?e+t:t}function I(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,L(this)}function A(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,L(this)}function R(){t[this.hash].zooming=!1}function L(t){e.requestAnimationFrame(e.delegate(t,M))}function M(){var n,r,i;t[this.hash].zooming&&this.viewport&&(r=(n=e.now())-t[this.hash].lastZoomTime,i=Math.pow(t[this.hash].zoomFactor,r/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,L(this))}function D(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function N(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function j(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function U(){this.viewport&&this.viewport.goHome()}function F(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function B(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t+this.rotationIncrement,360):e.positiveModulo(t-this.rotationIncrement,360),this.viewport.setRotation(t)}}function z(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t-this.rotationIncrement,360):e.positiveModulo(t+this.rotationIncrement,360),this.viewport.setRotation(t)}}function H(){this.viewport.toggleFlip()}function V(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function W(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}e.Viewer=function(i){var o,s,u=arguments,c=this;if(e.isPlainObject(i)||(i={id:u[0],xmlPath:u.length>1?u[1]:void 0,prefixUrl:u.length>2?u[2]:void 0,controls:u.length>3?u[3]:void 0,overlays:u.length>4?u[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config),e.extend(!0,this,{id:i.id,hash:i.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,i),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);c._showMessage(n)}),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(s=this.canvas.style).width="100%",s.height="100%",s.overflow="hidden",s.position="absolute",s.top="0px",s.left="0px",e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,d),keyHandler:e.delegate(this,f),clickHandler:e.delegate(this,p),dblClickHandler:e.delegate(this,g),dragHandler:e.delegate(this,m),dragEndHandler:e.delegate(this,v),enterHandler:e.delegate(this,y),exitHandler:e.delegate(this,b),pressHandler:e.delegate(this,_),releaseHandler:e.delegate(this,w),nonPrimaryPressHandler:e.delegate(this,T),nonPrimaryReleaseHandler:e.delegate(this,S),scrollHandler:e.delegate(this,x),pinchHandler:e.delegate(this,E)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,k),exitHandler:e.delegate(this,C)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=r(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(e){c.source=c.world.getItemAt(0).source,t[c.hash].forceRedraw=!0,c._updateRequestId||(c._updateRequestId=a(c,O))}),this.world.addHandler("remove-item",function(e){c.world.getItemCount()?c.source=c.world.getItemAt(0).source:c.source=null,t[c.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){c.viewport&&c.viewport._setContentBounds(c.world.getHomeBounds(),c.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){c.source=c.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:i.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame(function(){l(c)}),void 0===this.imageSmoothingEnabled||this.imageSmoothingEnabled||this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,n){var r=this;if(this.close(),t){if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===n||isNaN(n)||(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var o,a=t.length,s=0,l=0,u=function(){if(s+l===a)if(s){!r._firstOpen&&r.preserveViewport||(r.viewport.goHome(!0),r.viewport.update()),r._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),r.overlays&&!r.preserveOverlays)for(var n=0;n<r.overlays.length;n++)r.currentOverlays[n]=i(r,r.overlays[n]);r._drawOverlays(),r._opening=!1,r.raiseEvent("open",{source:e})}else r._opening=!1,r.raiseEvent("open-failed",o)},c=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(s++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)r.addOverlay(t.tileSource.overlays[i]);n&&n(e),u()};var i=t.error;t.error=function(e){l++,o||(o=e),i&&i(e),u()},r.addTiledImage(t)},h=0;h<t.length;h++)c(t[h]);return this}}},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisible();return t},setControlsEnabled:function(e){return e?u(this):l(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(n){var r,i,o=document.body,a=o.style,s=document.documentElement.style,l=this;if(n==this.isFullPage())return this;var u={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",u),u.preventDefaultAction)return this;if(n){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=s.margin,a.margin="0",s.margin="0",this.bodyPadding=a.padding,this.docPadding=s.padding,a.padding="0",s.padding="0",this.bodyWidth=a.width,this.docWidth=s.width,a.width="100%",s.width="100%",this.bodyHeight=a.height,this.docHeight=s.height,a.height="100%",s.height="100%",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,r=o.childNodes.length,i=0;i<r;i++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,k)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,s.margin=this.docMargin,a.padding=this.bodyPadding,s.padding=this.docPadding,a.width=this.bodyWidth,s.width=this.docWidth,a.height=this.bodyHeight,s.height=this.docHeight,o.removeChild(this.element),r=this.previousBody.length,i=0;i<r;i++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var c=0;e.requestAnimationFrame(function t(){e.setPageScroll(l.pageScroll);var n=e.getPageScroll();++c<10&&(n.x!==l.pageScroll.x||n.y!==l.pageScroll.y)&&e.requestAnimationFrame(t)}),t[this.hash].fullPage=!1,e.delegate(this,C)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var r={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",r),r.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function t(){var r=e.isFullScreen();r||(e.removeEvent(document,e.fullScreenEventName,t),e.removeEvent(document,e.fullScreenErrorEventName,t),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&setTimeout(function(){n.navigator.update(n.viewport)}),n.raiseEvent("full-screen",{fullScreen:r})};e.addEvent(document,e.fullScreenEventName,i),e.addEvent(document,e.fullScreenErrorEventName,i),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var r={options:t};function i(e){for(var i=0;i<n._loadQueue.length;i++)if(n._loadQueue[i]===r){n._loadQueue.splice(i,1);break}0===n._loadQueue.length&&o(r),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function o(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function a(){for(var t,r,i;n._loadQueue.length&&(t=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),t.options.replace){var a=n.world.getIndexOfItem(t.options.replaceItem);-1!=a&&(t.options.index=a),n.world.removeItem(t.options.replaceItem)}r=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(r,{index:t.options.index}),0===n._loadQueue.length&&o(t),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(i=e.extend({},t.options,{replace:!1,originalTiledImage:r,tileSource:t.tileSource}),n.navigator.addTiledImage(i)),t.options.success&&t.options.success({item:r})}}e.isArray(t.tileSource)?setTimeout(function(){i({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})}):(this._loadQueue.push(r),function(t,n,r,i,o){var a=t;if("string"==e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var s=e.parseJSON(n);n=s}catch(e){}function l(e,t){e.ready?i(e):(e.addHandler("ready",function(){i(e)}),e.addHandler("open-failed",function(e){o({message:e.message,source:t})}))}setTimeout(function(){if("string"==e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){i(e.tileSource)}})).addHandler("open-failed",function(e){o(e)});else if(e.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===r.crossOriginPolicy&&void 0===t.crossOriginPolicy||(n.crossOriginPolicy=void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var s=new e.TileSource(n);s.getTileUrl=n.getTileUrl,i(s)}else{var u=e.TileSource.determineType(a,n);if(!u)return void o({message:"Unable to load TileSource",source:n});var c=u.prototype.configure.apply(a,[n]);l(new u(c),n)}else l(n,n)})}(this,t.tileSource,t,function(e){r.tileSource=e,a()},function(e){e.options=t,i(e),a()}))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var r=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(r),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,c),n=e.delegate(this,h),r=e.delegate(this,W),i=e.delegate(this,V),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:P(this.prefixUrl,o.previous.REST),srcGroup:P(this.prefixUrl,o.previous.GROUP),srcHover:P(this.prefixUrl,o.previous.HOVER),srcDown:P(this.prefixUrl,o.previous.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:P(this.prefixUrl,o.next.REST),srcGroup:P(this.prefixUrl,o.next.GROUP),srcHover:P(this.prefixUrl,o.next.HOVER),srcDown:P(this.prefixUrl,o.next.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,I),n=e.delegate(this,R),r=e.delegate(this,D),i=e.delegate(this,A),o=e.delegate(this,N),a=e.delegate(this,U),s=e.delegate(this,F),l=e.delegate(this,B),u=e.delegate(this,z),d=e.delegate(this,H),f=e.delegate(this,c),p=e.delegate(this,h),g=this.navImages,m=[],v=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(v=!1),this.showZoomControl&&(m.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:P(this.prefixUrl,g.zoomIn.REST),srcGroup:P(this.prefixUrl,g.zoomIn.GROUP),srcHover:P(this.prefixUrl,g.zoomIn.HOVER),srcDown:P(this.prefixUrl,g.zoomIn.DOWN),onPress:t,onRelease:n,onClick:r,onEnter:t,onExit:n,onFocus:f,onBlur:p})),m.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:P(this.prefixUrl,g.zoomOut.REST),srcGroup:P(this.prefixUrl,g.zoomOut.GROUP),srcHover:P(this.prefixUrl,g.zoomOut.HOVER),srcDown:P(this.prefixUrl,g.zoomOut.DOWN),onPress:i,onRelease:n,onClick:o,onEnter:i,onExit:n,onFocus:f,onBlur:p}))),this.showHomeControl&&m.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:P(this.prefixUrl,g.home.REST),srcGroup:P(this.prefixUrl,g.home.GROUP),srcHover:P(this.prefixUrl,g.home.HOVER),srcDown:P(this.prefixUrl,g.home.DOWN),onRelease:a,onFocus:f,onBlur:p})),this.showFullPageControl&&m.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:P(this.prefixUrl,g.fullpage.REST),srcGroup:P(this.prefixUrl,g.fullpage.GROUP),srcHover:P(this.prefixUrl,g.fullpage.HOVER),srcDown:P(this.prefixUrl,g.fullpage.DOWN),onRelease:s,onFocus:f,onBlur:p})),this.showRotationControl&&(m.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:P(this.prefixUrl,g.rotateleft.REST),srcGroup:P(this.prefixUrl,g.rotateleft.GROUP),srcHover:P(this.prefixUrl,g.rotateleft.HOVER),srcDown:P(this.prefixUrl,g.rotateleft.DOWN),onRelease:l,onFocus:f,onBlur:p})),m.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:P(this.prefixUrl,g.rotateright.REST),srcGroup:P(this.prefixUrl,g.rotateright.GROUP),srcHover:P(this.prefixUrl,g.rotateright.HOVER),srcDown:P(this.prefixUrl,g.rotateright.DOWN),onRelease:u,onFocus:f,onBlur:p}))),this.showFlipControl&&m.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:P(this.prefixUrl,g.flip.REST),srcGroup:P(this.prefixUrl,g.flip.GROUP),srcHover:P(this.prefixUrl,g.flip.HOVER),srcDown:P(this.prefixUrl,g.flip.DOWN),onRelease:d,onFocus:f,onBlur:p})),v&&(this.buttons=new e.ButtonGroup({buttons:m,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,j)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,n,r,a){var s;if(s=e.isPlainObject(t)?t:{element:t,location:n,placement:r,onDraw:a},t=e.getElement(s.element),o(this.currentOverlays,t)>=0)return this;var l=i(this,s);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:s.location,placement:s.placement}),this},updateOverlay:function(n,r,i){var a;return n=e.getElement(n),(a=o(this.currentOverlays,n))>=0&&(this.currentOverlays[a].update(r,i),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:r,placement:i})),this},removeOverlay:function(n){var r;return n=e.getElement(n),(r=o(this.currentOverlays,n))>=0&&(this.currentOverlays[r].destroy(),this.currentOverlays.splice(r,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),(n=o(this.currentOverlays,t))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function r(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function i(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function o(e,t){a(e,"rotate("+t+"deg)")}function a(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(a){var s,l,u,c,h=a.viewer,d=this;function f(e){o(d.displayRegionContainer,e),o(d.displayRegion,-e),d.viewport.setRotation(e)}(a.id?(this.element=document.getElementById(a.id),a.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),a.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==a.position&&(a.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",(a=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:a.autoResize,minZoomImageRatio:1,background:a.background,opacity:a.opacity,borderColor:a.borderColor,displayRegionColor:a.displayRegionColor})).minPixelRatio=this.minPixelRatio=h.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!=e.ControlAnchor.NONE&&(u=this.element.style,c=this.borderWidth,u.margin="0px",u.border=c+"px solid "+a.borderColor,u.padding="0px",u.background=a.background,u.opacity=a.opacity,u.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+a.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",h.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!=e.ControlAnchor.NONE,this._resizeWithViewer&&(a.width&&a.height?(this.element.style.height="number"==typeof a.height?a.height+"px":a.height,this.element.style.width="number"==typeof a.width?a.width+"px":a.width):(s=e.getElementSize(h.element),this.element.style.height=Math.round(s.y*a.sizeRatio)+"px",this.element.style.width=Math.round(s.x*a.sizeRatio)+"px",this.oldViewerSize=s),l=e.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate)&&(f(a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0),a.viewer.addHandler("rotate",function(e){f(e.degrees)}));this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,r),scrollHandler:e.delegate(this,i)}),this.addHandler("reset-size",function(){d.viewport&&d.viewport.goHome(!0)}),h.world.addHandler("item-index-change",function(e){window.setTimeout(function(){var t=d.world.getItemAt(e.previousIndex);d.world.setItemIndex(t,e.newIndex)},1)}),h.world.addHandler("remove-item",function(e){var t=e.item,n=d._getMatchingItem(t);n&&d.world.removeItem(n)}),this.update(h.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){a(this.displayRegion,e),a(this.canvas,e),a(this.element,e)},update:function(t){var n,r,i,o,a,s;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(r=n.x*this.sizeRatio,i=n.y*this.sizeRatio):(r=Math.sqrt(this.elementArea*(n.x/n.y)),i=this.elementArea/r),this.element.style.width=Math.round(r)+"px",this.element.style.height=Math.round(i)+"px",this.elementArea||(this.elementArea=r*i),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),s=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(a.y)+"px",l.left=Math.round(a.x)+"px";var u=Math.abs(a.x-s.x),c=Math.abs(a.y-s.y);l.width=Math.round(Math.max(u,0))+"px",l.height=Math.round(Math.max(c,0))+"px"}},addTiledImage:function(t){var n=this,r=t.originalTiledImage;delete t.original;var i=e.extend({},t,{success:function(e){var t=e.item;function i(){n._matchBounds(t,r)}t._originalForNavigator=r,n._matchBounds(t,r,!0),r.addHandler("bounds-change",i),r.addHandler("clip-change",i),r.addHandler("opacity-change",function(){n._matchOpacity(t,r)}),r.addHandler("composite-operation-change",function(){n._matchCompositeOperation(t,r)})}});return e.Viewer.prototype.addTiledImage.apply(this,[i])},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),r=0;r<n;r++)if((t=this.world.getItemAt(r))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var r=t.getBoundsNoRotate();e.setPosition(r.getTopLeft(),n),e.setWidth(r.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(n){var r,i=n.split("."),o=null,a=arguments,s=t;for(r=0;r<i.length-1;r++)s=s[i[r]]||{};return"string"!=typeof(o=s[i[r]])&&(e.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""})},setString:function(e,n){var r,i=e.split("."),o=t;for(r=0;r<i.length-1;r++)o[i[r]]||(o[i[r]]={}),o=o[i[r]];o[i[r]]=n}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){var r,i;if(n=n||new e.Point(0,0),t%90==0){switch(e.positiveModulo(t,360)){case 0:r=1,i=0;break;case 90:r=0,i=1;break;case 180:r=-1,i=0;break;case 270:r=0,i=-1}}else{var o=t*Math.PI/180;r=Math.cos(o),i=Math.sin(o)}var a=r*(this.x-n.x)-i*(this.y-n.y)+n.x,s=i*(this.x-n.x)+r*(this.y-n.y)+n.y;return new e.Point(a,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){e.TileSource=function(t,n,r,i,o,a){var s,l,u=this,c=arguments;if(s=e.isPlainObject(t)?t:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},e.EventSource.call(this),e.extend(!0,this,s),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",function(e){u.success(e)}),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new e.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,n={};for(t=0;t<=this.maxLevel;t++)n[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return n[e]},this.getLevelScale(e)},getNumTiles:function(t){var n=this.getLevelScale(t),r=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(r,i)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),r=1/n.x,i=1/n.y;return new e.Point(r,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,n){var r=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(r,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),o=n.x*i,a=n.y*i,s=Math.floor(o/this.getTileWidth(t)),l=Math.floor(a/this.getTileHeight(t));n.x>=1&&(s=this.getNumTiles(t).x-1);return n.y>=1/this.aspectRatio-1e-15&&(l=this.getNumTiles(t).y-1),new e.Point(s,l)},getTileBounds:function(t,n,r,i){var o=this.dimensions.times(this.getLevelScale(t)),a=this.getTileWidth(t),s=this.getTileHeight(t),l=0===n?0:a*n-this.tileOverlap,u=0===r?0:s*r-this.tileOverlap,c=a+(0===n?1:2)*this.tileOverlap,h=s+(0===r?1:2)*this.tileOverlap,d=1/o.x;return c=Math.min(c,o.x-l),h=Math.min(h,o.y-u),i?new e.Rect(0,0,c,h):new e.Rect(l*d,u*d,c*d,h*d)},getImageInfo:function(t){var n,r,i,o,a,s,l,u=this;t&&(l=(s=(a=t.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=s.slice(0,l)),r=function(n){"string"==typeof n&&(n=e.parseXml(n));var r=e.TileSource.determineType(u,n,t);r?(void 0===(o=r.prototype.configure.apply(u,[n,t])).ajaxWithCredentials&&(o.ajaxWithCredentials=u.ajaxWithCredentials),i=new r(o),u.ready=!0,u.raiseEvent("ready",{tileSource:i})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:r})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=function(t){var n,r,i=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,n=404==o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(i.match(/\s*<.*/))try{r=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(i)}catch(e){r=t.responseText}else if(i.match(/\s*[\{\[].*/))try{r=e.parseJSON(i)}catch(e){r=i}else r=i;return r}(t);r(n)},error:function(e,n){var r;try{r="HTTP "+e.status+" attempting to load TileSource"}catch(e){r=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource"}u.raiseEvent("open-failed",{message:r,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,n){return{}},tileExists:function(e,t,n){var r=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<r.x&&n<r.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,r){var i;for(i in OpenSeadragon)if(i.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[i])&&e.isFunction(OpenSeadragon[i].prototype.supports)&&OpenSeadragon[i].prototype.supports.call(t,n,r))return OpenSeadragon[i];e.console.error("No TileSource was able to open %s %s",r,n)}}(OpenSeadragon),function(e){function t(t,n){var r,i,o=n.Image,a=o.Url,s=o.Format,l=o.Size,u=o.DisplayRect||[],c=parseInt(l.Width,10),h=parseInt(l.Height,10),d=parseInt(o.TileSize,10),f=parseInt(o.Overlap,10),p=[];for(i=0;i<u.length;i++)r=u[i].Rect,p.push(new e.DisplayRect(parseInt(r.X,10),parseInt(r.Y,10),parseInt(r.Width,10),parseInt(r.Height,10),parseInt(r.MinLevel,10),parseInt(r.MaxLevel,10)));return e.extend(!0,{width:c,height:h,tileSize:d,tileOverlap:f,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:s,displayRects:p},n)}e.DziTileSource=function(t,n,r,i,o,a,s,l,u){var c,h,d,f;if(f=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=f.tilesUrl,this.fileFormat=f.fileFormat,this.displayRects=f.displayRects,this.displayRects)for(c=this.displayRects.length-1;c>=0;c--)for(d=(h=this.displayRects[c]).minLevel;d<=h.maxLevel;d++)this._levelRects[d]||(this._levelRects[d]=[]),this._levelRects[d].push(h);e.TileSource.apply(this,[f])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(n=e.documentElement.namespaceURI)),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,r){var i;return i=e.isPlainObject(n)?t(this,n):function(n,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a,s,l,u=r.documentElement,c=u.localName||u.tagName,h=r.documentElement.namespaceURI,d=null,f=[];if("Image"==c)try{if(void 0===(s=u.getElementsByTagName("Size")[0])&&(s=u.getElementsByTagNameNS(h,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:u.getAttribute("Url"),Format:u.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(u.getAttribute("Overlap"),10),TileSize:parseInt(u.getAttribute("TileSize"),10),Size:{Height:parseInt(s.getAttribute("Height"),10),Width:parseInt(s.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(void 0===(i=u.getElementsByTagName("DisplayRect"))&&(i=u.getElementsByTagNameNS(h,"DisplayRect")[0]),l=0;l<i.length;l++)o=i[l],void 0===(a=o.getElementsByTagName("Rect")[0])&&(a=o.getElementsByTagNameNS(h,"Rect")[0]),f.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return f.length&&(d.Image.DisplayRect=f),t(n,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==c)throw new Error(e.getString("Errors.Dzc"));if("Error"==c){var p=u.getElementsByTagName("Message")[0],g=p.firstChild.nodeValue;throw new Error(g)}}throw new Error(e.getString("Errors.Dzi"))}(this,n),r&&!i.tilesUrl&&(i.tilesUrl=r.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=r.search(/\.(dzi|xml|js)\?/)?i.queryParams=r.match(/\?.*/):i.queryParams=""),i},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var r,i,o,a,s,l,u,c=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!c||!c.length)return!0;for(u=c.length-1;u>=0;u--)if(!(e<(r=c[u]).minLevel||e>r.maxLevel)&&(i=this.getLevelScale(e),o=r.x*i,a=r.y*i,s=o+r.width*i,l=a+r.height*i,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),s=Math.ceil(s/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<s&&a<=n&&n<l))return!0;return!1}})}(OpenSeadragon),function(e){e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var r=0;r<this.tiles[n].scaleFactors.length;r++){var i=this.tiles[n].scaleFactors[r];this.scale_factors.push(i),t.tileSizePerScaleFactor[i]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(function(e){var t=-1!==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(e[0]),n=!1;e.length>1&&e[1].supports&&(n=-1!==e[1].supports.indexOf("sizeByW"));return!t||n}(t.profile)){for(var o=Math.min(this.height,this.width),a=[256,512,1024],s=[],l=0;l<a.length;l++)a[l]<=o&&s.push(a[l]);s.length>0?t.tileSize=Math.max.apply(null,s):t.tileSize=o}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=function(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+",/0/default."+e.tileFormat,width:e.sizes[n].width,height:e.sizes[n].height});return t.sort(function(e,t){return e.width-t.width})}(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");if(!t.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var u=Math.max.apply(null,this.scale_factors);t.maxLevel=Math.round(Math.log(u)*Math.LOG2E)}else t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!=e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=e["@context"]&&"http://iiif.io/api/image/1/context.json"!=e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!=e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=e.documentElement.namespaceURI))))},configure:function(t,n){if(e.isPlainObject(t)){if(t["@context"]||(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json","")),t.preferredFormats)for(var r=0;r<t.preferredFormats.length;r++)if(OpenSeadragon.imageFormatSupported(t.preferredFormats[r])){t.tileFormat=t.preferredFormats[r];break}return t}var i=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,r=n.tagName,i=null;if("info"==r)try{return function t(n,r,i){var o,a;if(3==n.nodeType&&i)(a=n.nodeValue.trim()).match(/^\d*$/)&&(a=Number(a)),r[i]?(e.isArray(r[i])||(r[i]=[r[i]]),r[i].push(a)):r[i]=a;else if(1==n.nodeType)for(o=0;o<n.childNodes.length;o++)t(n.childNodes[o],r,n.nodeName)}(n,i={}),i}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(t);return i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=n.replace("/info.xml",""),i},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}var i,o,a,s,l,u,c,h,d,f,p,g,m,v=Math.pow(.5,this.maxLevel-e),y=Math.ceil(this.width*v),b=Math.ceil(this.height*v);return i=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(i/v),s=Math.ceil(o/v),g=(m=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1)?"native."+this.tileFormat:"default."+this.tileFormat,y<i&&b<o?(f=m||y!==this.width?y+",":"max",l="full"):(u=t*a,c=n*s,h=Math.min(a,this.width-u),d=Math.min(s,this.height-c),l=0===t&&0===n&&h===this.width&&d===this.height?"full":[u,c,h,d].join(","),p=Math.ceil(h*v),f=m||p!==this.width?p+",":"max"),[this["@id"],l,f,"0",g].join("/")}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t,n,r,i,o){var a;(a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t,n,r,i,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var s,l=256*Math.ceil(a.width/256),u=256*Math.ceil(a.height/256);s=l>u?l/256:u/256,a.maxLevel=Math.ceil(Math.log(s)/Math.log(2))-1,a.tileSize=256,a.width=l,a.height=u,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(r-n)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var r=0,i={},o=0;o<e;o++)r+=(i=this.gridSize[o]).x*i.y;return r+=(i=this.gridSize[e]).x*n+t},supports:function(e,t){return e.type&&"zoomifytileservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r,i=this._calculateAbsoluteTileNumber(e,t,n);return r=Math.floor(i/256),this.tilesUrl+"TileGroup"+r+"/"+e+"-"+t+"-"+n+".jpg"}})}(OpenSeadragon),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var n,r,i;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=function(t){var n,r,i=[];for(r=0;r<t.length;r++)(n=t[r]).height&&n.width&&n.url?i.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return i.sort(function(e,t){return e.height-t.height})}(n.levels),n.levels.length>0?(r=n.levels[n.levels.length-1].width,i=n.levels[n.levels.length-1].height):(r=0,i=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:r,height:i,tileSize:Math.max(i,r),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(n,r){return e.isPlainObject(n)?t(this,n):function(n,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a=r.documentElement,s=a.tagName,l=null,u=[];if("image"==s)try{for(l={type:a.getAttribute("type"),levels:[]},u=a.getElementsByTagName("level"),o=0;o<u.length;o++)i=u[o],l.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return t(n,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==s)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==s)throw new Error("Error: "+r)}throw new Error("Unknown element "+s)}(this,n)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,r=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",function(){r.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,r.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,r.aspectRatio=r.width/r.height,r.dimensions=new e.Point(r.width,r.height),r._tileWidth=r.width,r._tileHeight=r.height,r.tileOverlap=0,r.minLevel=0,r.levels=r._buildLevels(),r.maxLevel=r.levels.length-1,r.ready=!0,r.raiseEvent("ready",{tileSource:r})}),e.addEvent(n,"error",function(){r.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r},getContext2D:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].context2D),r},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,r=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,i=document.createElement("canvas"),o=i.getContext("2d");if(i.width=n,i.height=r,o.drawImage(this._image,0,0,n,r),t[0].context2D=o,delete this._image,e.isCanvasTainted(i))return t;for(;n>=2&&r>=2;){n=Math.floor(n/2),r=Math.floor(r/2);var a=document.createElement("canvas"),s=a.getContext("2d");a.width=n,a.height=r,s.drawImage(i,0,0,n,r),t.splice(0,0,{context2D:s,width:n,height:r}),i=a,o=s}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(t,n,r,i){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function t(n){e.requestAnimationFrame(function(){!function(n){var r,i,o;n.shouldFade&&(r=e.now(),i=r-n.fadeBeginTime,o=1-i/n.fadeLength,o=Math.min(1,o),o=Math.max(0,o),n.imgGroup&&e.setElementOpacity(n.imgGroup,o,!0),o>0&&t(n))}(n)})}function n(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(!function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function r(n,r){n.element.disabled||(r<=e.ButtonState.HOVER&&n.currentState==e.ButtonState.DOWN&&(n.imgDown&&(n.imgDown.style.visibility="hidden"),n.currentState=e.ButtonState.HOVER),r<=e.ButtonState.GROUP&&n.currentState==e.ButtonState.HOVER&&(n.imgHover&&(n.imgHover.style.visibility="hidden"),n.currentState=e.ButtonState.GROUP),r<=e.ButtonState.REST&&n.currentState==e.ButtonState.GROUP&&(!function(n){n.shouldFade=!0,n.fadeBeginTime=e.now()+n.fadeDelay,window.setTimeout(function(){t(n)},n.fadeDelay)}(n),n.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var i=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(n(i,e.ButtonState.DOWN),i.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||n(i,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),i.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){r(i,e.ButtonState.GROUP),t.insideElementPressed&&i.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),i.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){n(i,e.ButtonState.DOWN),i.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(r(i,e.ButtonState.HOVER),i.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?r(i,e.ButtonState.GROUP):n(i,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&i.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(i.raiseEvent("click",{originalEvent:e.originalEvent}),i.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),r(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){n(this,e.ButtonState.GROUP)},notifyGroupExit:function(){r(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,r=this.buttons.concat([]),i=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.element.style.display="inline-block",n=0;n<r.length;n++)this.element.appendChild(r[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(t,n,r,i,o){var a,s;this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.width="number"==typeof r?r:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},e.Rect.fromSummits=function(t,n,r){var i=t.distanceTo(n),o=t.distanceTo(r),a=n.minus(t),s=Math.atan(a.y/a.x);return a.x<0?s+=Math.PI:a.y<0&&(s+=2*Math.PI),new e.Rect(t.x,t.y,i,o,s/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),r=t.getBoundingBox(),i=Math.min(n.x,r.x),o=Math.min(n.y,r.y),a=Math.max(n.x+n.width,r.x+r.width),s=Math.max(n.y+n.height,r.y+r.height);return new e.Rect(i,o,a-i,s-o)},intersection:function(t){var n=1e-10,r=[],i=this.getTopLeft();t.containsPoint(i,n)&&r.push(i);var o=this.getTopRight();t.containsPoint(o,n)&&r.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&r.push(a);var s=this.getBottomRight();t.containsPoint(s,n)&&r.push(s);var l=t.getTopLeft();this.containsPoint(l,n)&&r.push(l);var u=t.getTopRight();this.containsPoint(u,n)&&r.push(u);var c=t.getBottomLeft();this.containsPoint(c,n)&&r.push(c);var h=t.getBottomRight();this.containsPoint(h,n)&&r.push(h);for(var d=this._getSegments(),f=t._getSegments(),p=0;p<d.length;p++)for(var g=d[p],m=0;m<f.length;m++){var v=f[m],y=b(g[0],g[1],v[0],v[1]);y&&r.push(y)}function b(t,r,i,o){var a=r.minus(t),s=o.minus(i),l=-s.x*a.y+a.x*s.y;if(0===l)return null;var u=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/l,c=(s.x*(t.y-i.y)-s.y*(t.x-i.x))/l;return-n<=u&&u<=1-n&&-n<=c&&c<=1-n?new e.Point(t.x+c*a.x,t.y+c*a.y):null}if(0===r.length)return null;for(var _=r[0].x,w=r[0].x,T=r[0].y,S=r[0].y,E=1;E<r.length;E++){var x=r[E];x.x<_&&(_=x.x),x.x>w&&(w=x.x),x.y<T&&(T=x.y),x.y>S&&(S=x.y)}return new e.Rect(_,T,w-_,S-T)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),r=this.getBottomRight();return[[e,t],[t,r],[r,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var r=this.getTopLeft().rotate(t,n),i=this.getTopRight().rotate(t,n).minus(r);i=i.apply(function(e){return Math.abs(e)<1e-15?0:e});var o=Math.atan(i.y/i.x);return i.x<0?o+=Math.PI:i.y<0&&(o+=2*Math.PI),new e.Rect(r.x,r.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),r=this.getBottomLeft(),i=this.getBottomRight(),o=Math.min(t.x,n.x,r.x,i.x),a=Math.max(t.x,n.x,r.x,i.x),s=Math.min(t.y,n.y,r.y,i.y),l=Math.max(t.y,n.y,r.y,i.y);return new e.Rect(o,s,a-o,l-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),r=Math.floor(t.y),i=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-r);return new e.Rect(n,r,i,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),r=this.getTopRight(),i=this.getBottomLeft(),o=r.minus(n),a=i.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-r.x)*o.x+(e.y-r.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-i.x)*a.x+(e.y-i.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){var t={};function n(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?n>-(o-s.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",i(this,s.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",i(this,s.x,n+2*t.delta.x)):-t.delta.y>0?r>-(a-s.y)&&(this.element.style.marginTop=r+2*t.delta.y+"px",i(this,s.y,r+2*t.delta.y)):-t.delta.y<0&&r<0&&(this.element.style.marginTop=r+2*t.delta.y+"px",i(this,s.y,r+2*t.delta.y))),!1}function r(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),s=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?n>-(o-s.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",i(this,s.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",i(this,s.x,n-60*t.scroll)):t.scroll<0?r>s.y-a&&(this.element.style.marginTop=r+60*t.scroll+"px",i(this,s.y,r+60*t.scroll)):t.scroll>0&&r<0&&(this.element.style.marginTop=r+60*t.scroll+"px",i(this,s.y,r+60*t.scroll))),!1}function i(t,n,r){var i,o,a,s,l,u,c;for(i="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/i)+5,u=o=(o=(a=Math.ceil((Math.abs(r)+n)/i)+1)-o)<0?0:o;u<a&&u<t.panels.length;u++)if(!(c=t.panels[u]).activePanel){var h,d=t.viewer.tileSources[u];h=d.referenceStripThumbnailUrl?{type:"image",url:d.referenceStripThumbnailUrl}:d,(s=new e.Viewer({id:c.id,tileSources:[h],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=e.makeNeutralElement("div"),s.displayRegion.id=c.id+"-displayregion",s.displayRegion.className="displayregion",(l=s.displayRegion.style).position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=t.panelWidth-4+"px",l.height=t.panelHeight-4+"px",s.displayRegion.innerTracker=new e.MouseTracker({element:s.displayRegion,startDisabled:!0}),c.getElementsByTagName("div")[0].appendChild(s.displayRegion),t.miniViewers[c.id]=s,c.activePanel=!0}}function o(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function a(t){var n=t.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px",!1}function s(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function l(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}e.ReferenceStrip=function(u){var c,h,d,f=u.viewer,p=e.getElementSize(f.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(h=this.element.style).marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=f,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),scrollHandler:e.delegate(this,r),enterHandler:e.delegate(this,o),exitHandler:e.delegate(this,a),keyDownHandler:e.delegate(this,s),keyHandler:e.delegate(this,l)}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",f.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==u.scroll?(this.element.style.width=p.x*u.sizeRatio*f.tileSources.length+12*f.tileSources.length+"px",this.element.style.height=p.y*u.sizeRatio+"px",f.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=p.y*u.sizeRatio*f.tileSources.length+12*f.tileSources.length+"px",this.element.style.width=p.x*u.sizeRatio+"px",f.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=p.x*this.sizeRatio+8,this.panelHeight=p.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},d=0;d<f.tileSources.length;d++)(c=e.makeNeutralElement("div")).id=this.element.id+"-"+d,c.style.width=this.panelWidth+"px",c.style.height=this.panelHeight+"px",c.style.display="inline",c.style.float="left",c.style.cssFloat="left",c.style.styleFloat="left",c.style.padding="2px",e.setElementTouchActionNone(c),c.innerTracker=new e.MouseTracker({element:c,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var n=t.eventSource,r=n.element.id,i=Number(r.split("-")[2]),o=e.now();t.insideElementPressed&&t.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,f.goToPage(i))}}),this.element.appendChild(c),c.activePanel=!1,this.panels.push(c);i(this,"vertical"==this.scroll?p.y:p.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var n,r=e.getElement(this.element.id+"-"+t),a=e.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),u=-Number(this.element.style.marginLeft.replace("px","")),c=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==r&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=r,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(t)*(this.panelWidth+3))>u+a.x-this.panelWidth?(n=Math.min(n,s-a.x),this.element.style.marginLeft=-n+"px",i(this,a.x,-n)):n<u&&(n=Math.max(0,n-a.x/2),this.element.style.marginLeft=-n+"px",i(this,a.x,-n)):(n=Number(t)*(this.panelHeight+3))>c+a.y-this.panelHeight?(n=Math.min(n,l-a.y),this.element.style.marginTop=-n+"px",i(this,a.y,-n)):n<c&&(n=Math.max(0,n-a.y/2),this.element.style.marginTop=-n+"px",i(this,a.y,-n)),this.currentPage=t,o.call(this,{eventSource:this.innerTracker}))},update:function(){return!!t[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,n,r,i,o,a){e.Rect.apply(this,[t,n,r,i]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,n;this.current.time=e.now(),this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value);var r,i,o=this.current.time>=this.target.time?n:t+(n-t)*(r=this.springStiffness,i=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(r*-i))/(1-Math.exp(-r))),a=this.current.value;return this._exponential?this.current.value=Math.exp(o):this.current.value=o,a!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}t.prototype={errorMsg:null,start:function(){var t=this,n=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout(function(){t.errorMsg="Image load exceeded timeout ("+t.timeout+" ms)",t.finish(!1)},this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(t){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&r){var i=new r;i.append(e.response),n=i.getBlob()}}0===n.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var n=this,r=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(t){!function(e,t,n){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++),n(t.image,t.errorMsg,t.request)}(n,t,e.callback)},abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(r.start(),this.jobsInProgress++):this.jobQueue.push(r)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,n,r,i,o,a,s,l,u){this.level=e,this.x=t,this.y=n,this.bounds=r,this.sourceBounds=u,this.exists=i,this.url=o,this.context2D=a,this.loadWithAjax=s,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,r,i){var o,a,s,l=this.position.times(e.pixelDensityRatio),u=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"==typeof r&&1!==r&&(l=l.times(r),u=u.times(r)),i instanceof e.Point&&(l=l.plus(i)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(l.x,l.y,u.x,u.y),n({context:t,tile:this,rendered:o}),this.sourceBounds?(a=Math.min(this.sourceBounds.width,o.canvas.width),s=Math.min(this.sourceBounds.height,o.canvas.height)):(a=o.canvas.width,s=o.canvas.height),t.drawImage(o.canvas,0,0,a,s,l.x,l.y,u.x,u.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,r){var i=Math.max(1,Math.ceil((r.x-n.x)/2)),o=Math.max(1,Math.ceil((r.y-n.y)/2));return new e.Point(i,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,r){var i;i=e.isPlainObject(t)?t:{element:t,location:n,placement:r},this.element=i.element,this.style=i.element.style,this._init(i)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var r=e.Placement.properties[this.placement];r&&(r.isHorizontallyCentered?t.x-=n.x/2:r.isRight&&(t.x-=n.x),r.isVerticallyCentered?t.y-=n.y/2:r.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var r=e.getCssPropertyWithVendorPrefix("transformOrigin"),i=e.getCssPropertyWithVendorPrefix("transform");r&&i&&(n[r]="",n[i]="")},drawHTML:function(t,n){var r=this.element;r.parentNode!==t&&(r.prevElementParent=r.parentNode,r.prevNextSibling=r.nextSibling,t.appendChild(r),this.style.position="absolute",this.size=e.getElementSize(r));var i=this._getOverlayPositionAndSize(n),o=i.position,a=this.size=i.size,s=i.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=a.x+"px"),null!==this.height&&(l.height=a.y+"px");var u=e.getCssPropertyWithVendorPrefix("transformOrigin"),c=e.getCssPropertyWithVendorPrefix("transform");u&&c&&(s?(l[u]=this._getTransformOrigin(),l[c]="rotate("+s+"deg)"):(l[u]="",l[c]="")),"none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),r=this._getSizeInPixels(t);this.adjust(n,r);var i=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,r.x,r.y),a=this._getBoundingBox(o,t.degrees);n=a.getTopLeft(),r=a.getSize()}else i=t.degrees;return{position:n,size:r,rotate:i}},_getSizeInPixels:function(t){var n=this.size.x,r=this.size.y;if(null!==this.width||null!==this.height){var i=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=i.x),null!==this.height&&(r=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(r=o.y)}return new e.Point(n,r)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),r=e.Placement.properties[this.placement];return r&&(r.isHorizontallyCentered?n.x+=t.width/2:r.isRight&&(n.x+=t.width),r.isVerticallyCentered?n.y+=t.height/2:r.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var r=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:r.location||this.location,placement:void 0!==r.placement?r.placement:this.placement,onDraw:r.onDraw||this.onDraw,checkResize:r.checkResize||this.checkResize,width:void 0!==r.width?r.width:this.width,height:void 0!==r.height?r.height:this.height,rotationMode:r.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,r=this.height;if(null===n||null===r){var i=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=i.x),null===r&&(r=i.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,r)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,r))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var r=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(r.position.x,r.position.y,r.size.x,r.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var r=this._calculateCanvasSize();this.canvas.width=r.x,this.canvas.height=r.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},e.Drawer.prototype={addOverlay:function(t,n,r,i){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,r,i),this},updateOverlay:function(t,n,r){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,r),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,r=0;r<n.getItemCount();r++)n.getItemAt(r).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,r=0;r<t.getItemCount();r++){var i=t.getItemAt(r).getOpacity();i>n&&(n=i)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,this._updateImageSmoothingEnabled(this.context),null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var r=n.canvas;n.clearRect(0,0,r.width,r.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),r=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)},drawTile:function(t,n,r,i,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(r);i=i||1,t.drawCanvas(a,n,i,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var r=this;this.viewer.addHandler("rotate",function e(){if(0!==r.viewport.getRotation()){r.viewer.removeHandler("rotate",e);var t=r._calculateSketchCanvasSize();r.sketchCanvas.width=t.x,r.sketchCanvas.height=t.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var r=this._getContext(n);r.save(),r.fillStyle=t,r.fillRect(e.x,e.y,e.width,e.height),r.restore()}},blendSketch:function(t,n,r,i){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:r,compositeOperation:i}),this.useCanvas&&this.sketchCanvas){t=o.opacity,i=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1;var s=(r=o.translate)instanceof e.Point?r:new e.Point(0,0),l=0,u=0;if(r){var c=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;l=Math.round(c/2),u=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,s.x-l*n,s.y-u*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*u)*n,-l,-u,this.canvas.width+2*l,this.canvas.height+2*u)}this.context.restore()}},drawDebugInfo:function(t,n,r,i){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),i.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:i.getRotation(!0),point:i.viewport.pixelFromPointNoRotate(i._getRotationPoint(!0),!0)}),0===i.viewport.degrees&&i.getRotation(!0)%360==0&&i._drawer.viewer.viewport.getFlip()&&i._drawer._flip(),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(s,l),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-s,-l),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+r+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),i.getRotation(!0)%360!=0&&this._restoreRotationChanges(),0===i.viewport.degrees&&i.getRotation(!0)%360==0&&i._drawer.viewer.viewport.getFlip()&&i._drawer._flip(),a.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},setImageSmoothingEnabled:function(e){this.useCanvas&&(this._imageSmoothingEnabled=e,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(e){e.mozImageSmoothingEnabled=this._imageSmoothingEnabled,e.webkitImageSmoothingEnabled=this._imageSmoothingEnabled,e.msImageSmoothingEnabled=this._imageSmoothingEnabled,e.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),r=this._getContext(t.useSketch);r.save(),r.translate(n.x,n.y),this.viewer.viewport.flipped?(r.rotate(Math.PI/180*-t.degrees),r.scale(-1,1)):r.rotate(Math.PI/180*t.degrees),r.translate(-n.x,-n.y)},_flip:function(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),r=this._getContext(t.useSketch);r.translate(n.x,0),r.scale(-1,1),r.translate(-n.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:Math.round(n.x*t),y:Math.round(n.y*t)}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),r=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-r/2,n,r)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),r=1/this.getZoom(t),i=r/this.getAspectRatio();return new e.Rect(n.x-r/2,n.y-i/2,r,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,r,i,o,a,s,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),o=(i=1/(r=this.getZoom()))/this.getAspectRatio(),a=new e.Rect(l.x-i/2,l.y-o/2,i,o),s=this._pixelFromPoint(this.zoomPoint,a).minus(n).divide(this._containerInnerSize.x*r),u.plus(s)):u},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var n=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var r=this.visibilityRatio*n.width,i=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-i+r,s=o-n.x-r;r>this._contentBoundsNoRotate.width?n.x+=(a+s)/2:s<0?n.x+=s:a>0&&(n.x+=a)}if(this.wrapVertical);else{var l=this.visibilityRatio*n.height,u=n.y+n.height,c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-u+l,d=c-n.y-l;l>this._contentBoundsNoRotate.height?n.y+=(h+d)/2:d<0?n.y+=d:h>0&&(n.y+=h)}return n},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var r=this.getBoundsNoRotate(),i=this._applyBoundaryConstraints(r);return this._raiseConstraintsEvent(e),(r.x!==i.x||r.y!==i.y||e)&&this.fitBounds(i.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){var r=(n=n||{}).immediately||!1,i=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),s=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=o?s.height=s.width/o:s.width=s.height*o,s.x=a.x-s.width/2,s.y=a.y-s.height/2;var l=1/s.width;if(i){var u=s.getAspectRatio(),c=this._applyZoomConstraints(l);l!==c&&(l=c,s.width=1/l,s.x=a.x-s.width/2,s.height=s.width/u,s.y=a.y-s.height/2),a=(s=this._applyBoundaryConstraints(s)).getCenter(),this._raiseConstraintsEvent(r)}if(r)return this.panTo(a,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var h=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8)return this.zoomTo(l,!0),this.panTo(a,r);var f=(s=s.rotate(-this.getRotation())).getTopLeft().times(l).minus(h.getTopLeft().times(d)).divide(l-d);return this.zoomTo(l,f,r)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var r=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(r.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,r){var i=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,r?this._adjustCenterSpringsForZoomPoint(function(){i.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:r}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,r=this.getBoundsNoRotate(),i=r;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,i.width=r.width*n,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(i,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),r=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var r=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/r.width).plus(r.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/r,n*this._contentSizeNoRotate.x/r)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===r){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,n,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*r,n/this._contentSizeNoRotate.x*r)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===r){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,n,!0)}}var i=this._imageToViewportDelta(t,n);return i.x+=this._contentBoundsNoRotate.x,i.y+=this._contentBoundsNoRotate.y,i},imageToViewportRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a){return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,n,r,i,!0)}}var s=this.imageToViewportCoordinates(o.x,o.y),l=this._imageToViewportDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewportToImageRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a){return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,n,r,i,!0)}}var s=this.viewportToImageCoordinates(o.x,o.y),l=this._viewportToImageDelta(o.width,o.height);return new e.Rect(s.x,s.y,l.x,l.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}}var r=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/r*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e?this:(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e}),this)}}}(OpenSeadragon),function(e){function t(e,t,r,i,o,a,l,u,c){var h=l.getBoundingBox().getTopLeft(),d=l.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:i,opacity:o,visibility:a,drawArea:l,topleft:h,bottomright:d,currenttime:u,best:c}),s(e.coverage,i),s(e.loadingCoverage,i);for(var f=e._getCornerTiles(i,h,d),p=f.topLeft,g=f.bottomRight,m=e.source.getNumTiles(i),v=e.viewport.pixelFromPoint(e.viewport.getCenter()),y=p.x;y<=g.x;y++)for(var b=p.y;b<=g.y;b++){if(!e.wrapHorizontal&&!e.wrapVertical){var _=e.source.getTileBounds(i,y,b);if(null===l.intersection(_))continue}c=n(e,r,t,y,b,i,o,a,v,m,u,c)}return c}function n(t,n,i,s,l,u,c,h,d,f,p,g){var m=function(t,n,r,i,o,a,s,l,u,c){var h,d,f,p,g,m,v,y,b;a[r]||(a[r]={});a[r][t]||(a[r][t]={});a[r][t][n]||(h=(l.x+t%l.x)%l.x,d=(l.y+n%l.y)%l.y,f=o.getTileBounds(r,h,d),p=o.getTileBounds(r,h,d,!0),g=o.tileExists(r,h,d),m=o.getTileUrl(r,h,d),i.loadTilesWithAjax?(v=o.getTileAjaxHeaders(r,h,d),e.isPlainObject(i.ajaxHeaders)&&(v=e.extend({},i.ajaxHeaders,v))):v=null,y=o.getContext2D?o.getContext2D(r,h,d):void 0,f.x+=(t-h)/l.x,f.y+=c/u*((n-d)/l.y),b=new e.Tile(r,t,n,f,g,m,y,i.loadTilesWithAjax,v,p),h===l.x-1&&(b.isRightMost=!0),d===l.y-1&&(b.isBottomMost=!0),a[r][t][n]=b);return(b=a[r][t][n]).lastTouchTime=s,b}(s,l,u,t,t.source,t.tilesMatrix,p,f,t._worldWidthCurrent,t._worldHeightCurrent),v=i;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:m}),a(t.coverage,u,s,l,!1);var y=m.loaded||m.loading||o(t.loadingCoverage,u,s,l);if(a(t.loadingCoverage,u,s,l,y),!m.exists)return g;if(n&&!v&&(o(t.coverage,u,s,l)?a(t.coverage,u,s,l,!0):v=!0),!v)return g;if(function(t,n,r,i,o,a){var s=t.bounds.getTopLeft();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value,s.x+=a._xSpring.current.value,s.y+=a._ySpring.current.value;var l=t.bounds.getSize();l.x*=a._scaleSpring.current.value,l.y*=a._scaleSpring.current.value;var u=r.pixelFromPointNoRotate(s,!0),c=r.pixelFromPointNoRotate(s,!1),h=r.deltaPixelsFromPointsNoRotate(l,!0),d=r.deltaPixelsFromPointsNoRotate(l,!1),f=c.plus(d.divide(2)),p=i.squaredDistanceTo(f);n||(h=h.plus(new e.Point(1,1)));t.isRightMost&&a.wrapHorizontal&&(h.x+=.75);t.isBottomMost&&a.wrapVertical&&(h.y+=.75);t.position=u,t.size=h,t.squaredDistance=p,t.visibility=o}(m,t.source.tileOverlap,t.viewport,d,h,t),!m.loaded)if(m.context2D)r(t,m);else{var b=t._tileCache.getImageRecord(m.cacheKey);if(b)r(t,m,b.getImage())}m.loaded?function(e,t,n,r,i,o,s){var l,u,c=1e3*e.blendTime;t.blendStart||(t.blendStart=s);l=s-t.blendStart,u=c?Math.min(1,l/c):1,e.alwaysBlend&&(u*=o);if(t.opacity=u,e.lastDrawn.push(t),1===u)a(e.coverage,i,n,r,!0),e._hasOpaqueTile=!0;else if(l<c)return!0;return!1}(t,m,s,l,u,c,p)&&(t._needsDraw=!0):m.loading?t._tilesLoading++:y||(g=function(e,t){if(!e)return t;if(t.visibility>e.visibility)return t;if(t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance)return t;return e}(g,m));return g}function r(e,t,n,r,i){var o=0;function a(){return o++,s}function s(){0===--o&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:r,tiledImage:e}),e._needsDraw=!0)}e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:i,image:n,getCompletionCallback:a}),a()()}function i(e,t,n,r){var i,o,a,s;if(!e[t])return!1;if(void 0===n||void 0===r){for(a in i=e[t])if(i.hasOwnProperty(a))for(s in o=i[a])if(o.hasOwnProperty(s)&&!o[s])return!1;return!0}return void 0===e[t][n]||void 0===e[t][n][r]||!0===e[t][n][r]}function o(e,t,n,r){return void 0===n||void 0===r?i(e,t+1):i(e,t+1,2*n,2*r)&&i(e,t+1,2*n,2*r+1)&&i(e,t+1,2*n+1,2*r)&&i(e,t+1,2*n+1,2*r+1)}function a(t,n,r,i,o){t[n]?(t[n][r]||(t[n][r]={}),t[n][r][i]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function s(e,t){e[t]={}}e.TiledImage=function(t){var n=this;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var r=t.x||0;delete t.x;var i=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var o=1;t.width?(o=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(o=t.height/this.normHeight,delete t.height);var a=t.fitBounds;delete t.fitBounds;var s=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var l=t.degrees||0;delete t.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,s,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),n=this._scaleSpring.update(),r=this._degreesSpring.update();return!!(e||t||n||r)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var r=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,i=this._clip.times(r);n=new e.Rect(n.x+i.x,n.y+i.y,i.width,i.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/i),n*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,n,r){var i;return t instanceof e.Point?(r=n,i=t):i=new e.Point(t,n),i=i.rotate(-this.getRotation(r),this._getRotationPoint(r)),r?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*i,n/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,n,r){t instanceof e.Point&&(r=n,n=t.y,t=t.x);var i=this._imageToViewportDelta(t,n);return r?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(r),this._getRotationPoint(r))},imageToViewportRectangle:function(t,n,r,i,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.imageToViewportCoordinates(a.getTopLeft(),o),l=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,r,i,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var s=this.viewportToImageCoordinates(a.getTopLeft(),o),l=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(s.x,s.y,l.x,l.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,n,r){n=n||e.Placement.CENTER;var i=e.Placement.properties[n],o=this.contentAspectX,a=0,s=0,l=1,u=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,u=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,s=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,s=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var c=t.height/u,h=0;i.isHorizontallyCentered?h=(t.width-t.height*o)/2:i.isRight&&(h=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+h,t.y-s),r),this.setHeight(c,r)}else{var d=t.width/l,f=0;i.isVerticallyCentered?f=(t.height-t.width/o)/2:i.isBottom&&(f=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-s+f),r),this.setWidth(d,r)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),{lowestLevel:e=Math.min(e,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var n=this.viewport,o=this._viewportToTiledImageRectangle(n.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var a=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(o=o.intersection(a)))return}for(var s=this._getLevelsInterval(),l=s.lowestLevel,u=s.highestLevel,c=null,h=!1,d=e.now(),f=u;f>=l;f--){var p=!1,g=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(f),!0).x*this._scaleSpring.current.value;if(f===l||!h&&g>=this.minPixelRatio)p=!0,h=!0;else if(!h)continue;var m=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(f),!1).x*this._scaleSpring.current.value,v=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,y=this.immediateRender?1:v;if(c=t(this,h,p,f,Math.min(1,(g-.5)/.5),y/Math.abs(y-m),o,d,c),i(this.coverage,f))break}!function(t,n){if(0===t.opacity||0===n.length&&!t.placeholderFillStyle)return;var r,i,o,a=n[0];a&&(r=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&a._hasTransparencyChannel());var s,l=t.viewport.getZoom(!0),u=t.viewportToImageZoom(l);n.length>1&&u>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas&&(r=!0,i=a.getScaleForEdgeSmoothing(),o=a.getTranslationForEdgeSmoothing(i,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0)));r&&(i||(s=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio),t._drawer.viewer.viewport.getFlip()&&(0===t.viewport.degrees&&t.getRotation(!0)%360==0||(s.x=t._drawer.viewer.container.clientWidth-(s.x+s.width)))),t._drawer._clear(!0,s));i||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:r}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:r}),0===t.viewport.degrees&&t.getRotation(!0)%360==0&&t._drawer.viewer.viewport.getFlip()&&t._drawer._flip());var c=!1;if(t._clip){t._drawer.saveContext(r);var h=t.imageToViewportRectangle(t._clip,!0);h=h.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var d=t._drawer.viewportToDrawerRectangle(h);i&&(d=d.times(i)),o&&(d=d.translate(o)),t._drawer.setClip(d,r),c=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var f=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));i&&(f=f.times(i)),o&&(f=f.translate(o));var p=null;p="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(f,p,r)}for(var g=n.length-1;g>=0;g--)a=n[g],t._drawer.drawTile(a,t._drawingHandler,r,i,o),a.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:a});c&&t._drawer.restoreContext(r);i||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(r),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(r));r&&(i&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:i,translate:o,compositeOperation:t.compositeOperation,bounds:s}),i&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1)));i||0===t.viewport.degrees&&t.getRotation(!0)%360==0&&t._drawer.viewer.viewport.getFlip()&&t._drawer._flip();!function(t,n){if(t.debugMode)for(var r=n.length-1;r>=0;r--){var i=n[r];try{t._drawer.drawDebugInfo(i,n.length,r,t)}catch(t){e.console.error(t)}}}(t,n)}(this,this.lastDrawn),c&&!c.context2D?(!function(t,n,i){n.loading=!0,t._imageLoader.addJob({src:n.url,loadWithAjax:n.loadWithAjax,ajaxHeaders:n.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(o,a,s){!function(t,n,i,o,a,s){if(!o)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,a),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:i,message:a,tileRequest:s}),n.loading=!1,void(n.exists=!1);if(i<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var l=function(){var e=t.source.getClosestLevel();r(t,n,o,e,s)};t._midDraw?window.setTimeout(l,1):l()}(t,n,i,o,a,s)},abort:function(){n.loading=!1}})}(this,c,d),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,n,r){var i,o,a,s;this.wrapHorizontal?(i=e.positiveModulo(n.x,1),o=e.positiveModulo(r.x,1)):(i=Math.max(0,n.x),o=Math.min(1,r.x));var l=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(n.y,l),s=e.positiveModulo(r.y,l)):(a=Math.max(0,n.y),s=Math.min(l,r.y));var u=this.source.getTileAtPoint(t,new e.Point(i,a)),c=this.source.getTileAtPoint(t,new e.Point(o,s)),h=this.source.getNumTiles(t);return this.wrapHorizontal&&(u.x+=h.x*Math.floor(n.x),c.x+=h.x*Math.floor(r.x)),this.wrapVertical&&(u.y+=h.y*Math.floor(n.y/l),c.y+=h.y*Math.floor(r.y/l)),{topLeft:u,bottomRight:c}}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},n=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(r){e.console.assert(r,"[TileCache.cacheTile] options is required"),e.console.assert(r.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(r.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(r.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=r.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[r.tile.cacheKey];if(a||(e.console.assert(r.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[r.tile.cacheKey]=new n({image:r.image}),this._imagesLoadedCount++),a.addTile(r.tile),r.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,l,u,c,h,d,f=null,p=-1,g=null,m=this._tilesLoaded.length-1;m>=0;m--)(s=(d=this._tilesLoaded[m]).tile).level<=i||s.beingDrawn||(f?(c=s.lastTouchTime,l=f.lastTouchTime,h=s.level,u=f.level,(c<l||c==l&&h>u)&&(f=s,p=m,g=d)):(f=s,p=m,g=d));f&&p>=0&&(this._unloadTile(g),o=p)}this._tilesLoaded[o]=new t({tile:r.tile,tiledImage:r.tiledImage})},clearTilesFor:function(t){var n;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var r=0;r<this._tilesLoaded.length;++r)(n=this._tilesLoaded[r]).tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(r,1),r--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,r=t.tiledImage;n.unload(),n.cacheImageRecord=null;var i=this._imagesLoaded[n.cacheKey];i.removeTile(n),i.getTileCount()||(i.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),r.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:r})}}}(OpenSeadragon),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var r=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(r,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var r=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==r&&-1!==r&&(this._items.splice(r,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:r,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var n,r=(t=t||{}).immediately||!1,i=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=s+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);n=!t.rows&&a?a:Math.ceil(this._items.length/o);var u,c,h,d,f,p=0,g=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%n==0&&("horizontal"===i?(g+=l,p=0):(p+=l,g=0)),d=(h=(c=(u=this._items[m]).getBounds()).width>c.height?s:s*(c.width/c.height))*(c.height/c.width),f=new e.Point(p+(s-h)/2,g+(s-d)/2),u.setPosition(f,r),u.setWidth(h,r),"horizontal"===i?p+=l:g+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,r=this._contentFactor||0;if(this._items.length){var i=this._items[0],o=i.getBounds();this._contentFactor=i.getContentSize().x/o.width;for(var a=i.getClippedBounds().getBoundingBox(),s=a.x,l=a.y,u=a.x+a.width,c=a.y+a.height,h=1;h<this._items.length;h++)o=(i=this._items[h]).getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/o.width),a=i.getClippedBounds().getBoundingBox(),s=Math.min(s,a.x),l=Math.min(l,a.y),u=Math.max(u,a.x+a.width),c=Math.max(c,a.y+a.height);this._homeBounds=new e.Rect(s,l,u-s,c-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===r&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon)},function(e,t){e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]}},function(e,t,n){e.exports={generator:n(309),probe:n(82),Transmuxer:n(226).Transmuxer,AudioSegmentStream:n(226).AudioSegmentStream,VideoSegmentStream:n(226).VideoSegmentStream,CaptionParser:n(756)}},function(e,t,n){"use strict";var r=n(139),i=n(312).handleRollover,o={};o.ts=n(758),o.aac=n(227);var a=function(e,t,n){for(var r,i,a,s,l=0,u=188,c=!1;u<=e.byteLength;)if(71!==e[l]||71!==e[u]&&u!==e.byteLength)l++,u++;else{switch(r=e.subarray(l,u),o.ts.parseType(r,t.pid)){case"pes":i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),c=!0)}if(c)break;l+=188,u+=188}for(l=(u=e.byteLength)-188,c=!1;l>=0;)if(71!==e[l]||71!==e[u]&&u!==e.byteLength)l--,u--;else{switch(r=e.subarray(l,u),o.ts.parseType(r,t.pid)){case"pes":i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),c=!0)}if(c)break;l-=188,u-=188}},s=function(e,t,n){for(var r,i,a,s,l,u,c,h=0,d=188,f=!1,p={data:[],size:0};d<e.byteLength;)if(71!==e[h]||71!==e[d])h++,d++;else{switch(r=e.subarray(h,d),o.ts.parseType(r,t.pid)){case"pes":if(i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!f&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),f=!0),!n.firstKeyFrame)){if(a&&0!==p.size){for(l=new Uint8Array(p.size),u=0;p.data.length;)c=p.data.shift(),l.set(c,u),u+=c.byteLength;o.ts.videoPacketContainsKeyFrame(l)&&(n.firstKeyFrame=o.ts.parsePesTime(l),n.firstKeyFrame.type="video"),p.size=0}p.data.push(r),p.size+=r.byteLength}}if(f&&n.firstKeyFrame)break;h+=188,d+=188}for(h=(d=e.byteLength)-188,f=!1;h>=0;)if(71!==e[h]||71!==e[d])h--,d--;else{switch(r=e.subarray(h,d),o.ts.parseType(r,t.pid)){case"pes":i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),f=!0)}if(f)break;h-=188,d-=188}},l=function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,r=0,i=188;i<e.byteLength;)if(71!==e[r]||71!==e[i])r++,i++;else{switch(n=e.subarray(r,i),o.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=o.ts.parsePat(n));break;case"pmt":t.table||(t.table=o.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=188,i+=188}}(e,t),t.table){if(t.table.hasOwnProperty(i))switch(t.table[i]){case r.H264_STREAM_TYPE:n.video=[],s(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],a(e,t,n),0===n.audio.length&&delete n.audio}}return n};e.exports={inspect:function(e,t){var n;return(n=o.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,a=null,s=0,l=0;e.length-l>=3;){switch(o.aac.parseType(e,l)){case"timed-metadata":if(e.length-l<10){n=!0;break}if((s=o.aac.parseId3TagSize(e,l))>e.length){n=!0;break}null===a&&(t=e.subarray(l,l+s),a=o.aac.parseAacTimestamp(t)),l+=s;break;case"audio":if(e.length-l<7){n=!0;break}if((s=o.aac.parseAdtsSize(e,l))>e.length){n=!0;break}null===i&&(t=e.subarray(l,l+s),i=o.aac.parseSampleRate(t)),r++,l+=s;break;default:l++}if(n)return null}if(null===i||null===a)return null;var u=9e4/i;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*r*u,pts:a+1024*r*u}]}}(e):l(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;void 0===n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var r=t;if(void 0===r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var o=e.firstKeyFrame;o.dts=i(o.dts,r),o.pts=i(o.pts,r),o.dtsTime=o.dts/9e4,o.ptsTime=o.dts/9e4}}}(n,t),n):null},parseAudioPes_:a}},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n(4),h=n(332),d=n.n(h),f=n(333),p=n.n(f),g=n(334),m=n.n(g),v=n(331),y=n.n(v),b=n(325),_=n(42);n(770);var w=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).state={logoutButtonIsVisible:!1},n.tokenReceived=n.tokenReceived.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return u.createElement("div",{id:"topbar"},u.createElement("div",{className:"icon-button",onClick:function(){return e.toggleNavigationBar()}},u.createElement(y.a,null),u.createElement(_.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("navBar"))})),u.createElement("div",{className:"icon-button",onClick:function(){return e.showIconView()}},u.createElement(d.a,null),u.createElement(_.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("iconView"))})),u.createElement("div",{className:"icon-button",onClick:function(){return e.showListView()}},u.createElement(p.a,null),u.createElement(_.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("listView"))})),u.createElement(b.a,null),this.renderLogin())}},{key:"renderLogin",value:function(){var e=this;if(this.state.logoutButtonIsVisible)return u.createElement("div",{className:"icon-button",onClick:function(){return e.logout()}},u.createElement(m.a,null),u.createElement(_.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("logout"))}))}},{key:"showListView",value:function(){c.a.ee.emit("show-list-view")}},{key:"logout",value:function(){c.a.ee.emit("logout")}},{key:"toggleNavigationBar",value:function(){c.a.ee.emit("toggle-nav-bar")}},{key:"showIconView",value:function(){c.a.ee.emit("show-icon-view")}},{key:"tokenReceived",value:function(){this.setState({logoutButtonIsVisible:!0})}},{key:"componentDidMount",value:function(){c.a.ee.addListener("token-received",this.tokenReceived)}},{key:"componentWillUnmount",value:function(){c.a.ee.removeListener("token-received",this.tokenReceived)}}]),t}(u.Component);t.a=w},function(e,t,n){"use strict";(function(e){var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n(42),h=n(326),d=n.n(h),f=n(782),p=n(784),g=n(141),m=function(t){function n(e){var t;return Object(r.a)(this,n),(t=Object(o.a)(this,Object(a.a)(n).call(this,e))).state={anchorEl:null},t.open=t.open.bind(Object(s.a)(t)),t.close=t.close.bind(Object(s.a)(t)),t}return Object(l.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement("div",{className:"icon-button",onClick:this.open,"aria-controls":"language-switch-menu","aria-haspopup":"true"},u.createElement(d.a,null),u.createElement(c.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("language"))})),this.renderPopUp())}},{key:"open",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"close",value:function(){this.setState({anchorEl:null})}},{key:"renderPopUp",value:function(){var t=this,n=[],r=e.config.getTranslations(),i=function(e){if(!r.hasOwnProperty(e))return"continue";n.push(u.createElement(p.a,{key:e,onClick:function(){return t.changeLanguage(e)}},r[e]))};for(var o in r)i(o);return u.createElement(f.a,{id:"language-switch-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.close},n)}},{key:"changeLanguage",value:function(e){this.close(),g.a.changeLanguage(e)}}]),n}(u.Component);t.a=m}).call(this,n(28))},function(e,t,n){"use strict";var r=n(110);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(140)).default)(i.default.createElement("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}),"Language");t.default=o},function(e,t,n){"use strict";var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!(o[v]||r&&r[v]||g&&g[v]||s&&s[v])){var y=d(n,v);try{u(t,v,y)}catch(e){}}}return t}return t}},function(e,t,n){var r=n(98),i=n(768);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(769);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){"use strict";var r=n(110);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(140)).default)(i.default.createElement(i.default.Fragment,null,i.default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),i.default.createElement("path",{d:"M3 15h8v-2H3v2zm0 4h8v-2H3v2zm0-8h8V9H3v2zm0-6v2h8V5H3zm10 0h8v14h-8V5z"})),"VerticalSplit");t.default=o},function(e,t,n){"use strict";var r=n(110);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(140)).default)(i.default.createElement("path",{d:"M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z"}),"ViewComfy");t.default=o},function(e,t,n){"use strict";var r=n(110);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(140)).default)(i.default.createElement("path",{d:"M4 14h4v-4H4v4zm0 5h4v-4H4v4zM4 9h4V5H4v4zm5 5h12v-4H9v4zm0 5h12v-4H9v4zM9 5v4h12V5H9z"}),"ViewList");t.default=o},function(e,t,n){"use strict";var r=n(110);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,r(n(140)).default)(i.default.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.default=o},function(e,t,n){"use strict";(function(e){var r=n(8),i=n(9),o=n(18),a=n(17),s=n(19),l=n(0),u=n(342),c=n(336),h=function(t){function n(t){var i;return Object(r.a)(this,n),(i=Object(o.a)(this,Object(a.a)(n).call(this,t))).state={width:e.config.getDefaultNavBarWith()},i}return Object(s.a)(n,t),Object(i.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.width!==this.state.width&&this.setState({width:e.width})}},{key:"render",value:function(){return l.createElement(l.Fragment,null,l.createElement(u.a,{width:this.props.width}),l.createElement(c.a,{left:this.state.width,widthChangedFunc:this.props.widthChangedFunc}))}}]),n}(l.Component);t.a=h}).call(this,n(28))},function(e,t,n){"use strict";(function(e){var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0);n(771);var c=function(t){function n(e){var t;Object(r.a)(this,n),(t=Object(o.a)(this,Object(a.a)(n).call(this,e))).isMoving=!1,t.state={left:t.props.left};var i=Object(s.a)(t);return t.globalMoveStart=t.globalMoveStart.bind(Object(s.a)(t)),t.globalMoveEnd=t.globalMoveEnd.bind(Object(s.a)(t)),document.addEventListener("mousemove",function(e){i.globalMoveStart(e.clientX)}),document.addEventListener("touchmove",function(e){i.globalMoveStart(e.touches[0].clientX)}),document.addEventListener("mouseup",t.globalMoveEnd),document.addEventListener("touchend",t.globalMoveEnd),t}return Object(l.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t=this,n=e.config.getSplitterWidth(0===this.state.left),r={maxWidth:n,minWidth:n,left:this.state.left};return u.createElement("div",{className:"splitter",onMouseDown:function(){return t.movingStart()},onTouchStart:function(){return t.movingStart()},onDoubleClick:function(){return t.splitterDoubleClick()},style:r})}},{key:"globalMoveStart",value:function(e){this.isMoving&&this.props.widthChangedFunc(e)}},{key:"globalMoveEnd",value:function(){this.isMoving=!1,document.body.classList.remove("no-select")}},{key:"movingStart",value:function(){document.body.classList.add("no-select"),this.isMoving=!0}},{key:"splitterDoubleClick",value:function(){this.state.left>0?this.props.widthChangedFunc(0):this.props.widthChangedFunc(e.config.getDefaultNavBarWith())}},{key:"componentWillReceiveProps",value:function(e){e.left!==this.state.left&&this.setState({left:e.left})}}]),n}(u.Component);t.a=c}).call(this,n(28))},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n(4),h=n(783),d=n(780),f=n(781),p=n(779),g=n(170);n(772);var m=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).state={visible:!1},n.open=n.open.bind(Object(s.a)(n)),n.close=n.close.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.createElement(h.a,{open:this.state.visible,onClose:this.close,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0},u.createElement(p.a,null,this.renderTitle(),u.createElement("span",{className:"close",onClick:this.close},"×")),u.createElement(d.a,null,u.createElement(f.a,{color:"textPrimary"},this.renderBody())))}},{key:"renderTitle",value:function(){return this.state.title?this.state.title:this.state.titleJsx?this.state.titleJsx:void 0}},{key:"renderBody",value:function(){return this.state.body?u.createElement(g.a,{text:this.state.body,urlTranformation:!0}):this.state.bodyJsx?this.state.bodyJsx:void 0}},{key:"close",value:function(){this.setState({visible:!1})}},{key:"open",value:function(e){var t={visible:!0};t.title=e.title?e.title:null,t.titleJsx=e.titleJsx?e.titleJsx:null,t.body=e.body?e.body:null,t.bodyJsx=e.bodyJsx?e.bodyJsx:null,this.setState(t)}},{key:"componentDidMount",value:function(){c.a.ee.addListener("alert",this.open)}},{key:"componentWillUnmount",value:function(){c.a.ee.removeListener("alert",this.open)}}]),t}(u.Component);t.a=m},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(168),a=function(){function e(t){Object(r.a)(this,e),this.defaultNavBarWidth=300,this.minimalNavBarWidth=120,this.language=void 0,this.manifest=void 0,this.fallbackLanguage="en",this.translations={en:"English",de:"Deutsch",nl:"Nederlands"},this.sanitizeRulesSet={ALLOWED_ATTR:["href","src","alt"],ALLOWED_TAGS:["a","b","br","i","img","p","span"]},this.language=t.language?t.language:window.navigator.language,this.manifest=t.manifest?t.manifest:""}return Object(i.a)(e,[{key:"getSplitterWidth",value:function(e){return o.a.isTouchDevice()?!0===e?0:16:8}},{key:"getDefaultNavBarWith",value:function(){return this.defaultNavBarWidth}},{key:"getMinimalNavBarWidth",value:function(){return this.minimalNavBarWidth}},{key:"getSanitizeRulesSet",value:function(){return this.sanitizeRulesSet}},{key:"getLanguage",value:function(){return this.language}},{key:"getFallbackLanguage",value:function(){return this.fallbackLanguage}},{key:"getTranslations",value:function(){return this.translations}},{key:"getManifest",value:function(){return this.manifest}}]),e}();t.a=a},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n(320),h=n(169),d=n(4),f=function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,null,[{key:"getHeight",value:function(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||r.clientHeight}}]),e}(),p=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(a.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.show?u.createElement("div",{id:"spinner",className:"lds-ripple",style:{top:f.getHeight()/4+32}},u.createElement("div",null),u.createElement("div",null)):""}}]),t}(u.Component),g=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).tokenReceived=n.update.bind(Object(s.a)(n)),n.viewer=void 0,n.state={source:e.source,spinner:!0},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.createElement("div",{id:"openseadragon",key:this.state.source,style:{height:f.getHeight()/2}},u.createElement("div",{id:"zoom-in-button",className:"openseadragon-icon"}),u.createElement("div",{id:"zoom-out-button",className:"openseadragon-icon"}),u.createElement("div",{id:"rotate-right-button",className:"openseadragon-icon"}),u.createElement("div",{id:"home-button",className:"openseadragon-icon"}),u.createElement("div",{id:"fullpage-button",className:"openseadragon-icon"}),u.createElement(p,{show:this.state.spinner}))}},{key:"componentDidMount",value:function(){var e=this;h.a.get(this.state.source,function(t){var n={id:"openseadragon",defaultZoomLevel:0,tileSources:t,showNavigationControl:!0,showNavigator:!0,showRotationControl:!0,maxZoomPixelRatio:2,controlsFadeDelay:250,controlsFadeLength:250,navigatorPosition:"BOTTOM_RIGHT",animationTime:1.2,visibilityRatio:.5,blendTime:0,zoomInButton:"zoom-in-button",zoomOutButton:"zoom-out-button",homeButton:"home-button",fullPageButton:"fullpage-button",rotateRightButton:"rotate-right-button",ajaxWithCredentials:!1};""!==d.a.token&&(n.ajaxHeaders={Authorization:"Bearer "+d.a.token}),e.viewer=new c.Viewer(n),e.viewer.addHandler("tile-drawn",function(){e.setState({spinner:!1})})}),d.a.ee.addListener("token-received",this.tokenReceived)}},{key:"update",value:function(){this.viewer&&this.viewer.forceRedraw()}},{key:"componentWillUnmount",value:function(){this.viewer&&this.viewer.removeAllHandlers(),d.a.ee.addListener("token-received",this.tokenReceived)}}]),t}(u.Component),m=n(2),v=n.n(m),y=n(5),b=n.n(y),_=n(180),w=n.n(_),T=n(321),S=n.n(T),E=n(15),x=n.n(E),k=n(228),C=n.n(k),O=n(229),P=n.n(O),I=n(230),A=n.n(I);function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var D=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t,n,r,i=this.listeners[e];if(i)if(2===arguments.length)for(n=i.length,t=0;t<n;++t)i[t].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=i.length,t=0;t<n;++t)i[t].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),N=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return L(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(D),j=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},U=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}L(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(function(t,n){var r=n(e);return r===e?t:t.concat([r])},[e]).forEach(function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var o=j(t[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],l=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),l&&(n.byterange.offset=parseInt(l,10))}}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=j(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=j(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=j(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=j(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,o=e.segment;"function"!=typeof i&&(i=function(e){return e}),this.customParsers.push(function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:o}),!0})},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push(function(e){return t.test(e)?n(e):e})},t}(D),F=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new N,t.parseStream=new U,t.lineStream.pipe(t.parseStream);var n,r,i=M(M(t)),o=[],a={},s={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;return t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},t.parseStream.on("data",function(e){var t,u;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(a.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){e.attributes?"NONE"!==e.attributes.METHOD?e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):r=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,l=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||s,e.attributes?(a.attributes||(a.attributes={}),R(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||s,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(u={default:/yes/i.test(e.attributes.DEFAULT)}).default?u.autoselect=!0:u.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(u.language=e.attributes.LANGUAGE),e.attributes.URI&&(u.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(u.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(u.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(u.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=u}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}}[e.tagType]||function(){}).call(i)},uri:function(){a.uri=e.uri,o.push(a),!this.manifest.targetDuration||"duration"in a||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=l,n&&(a.map=n),a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)}),t}L(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(D),B=n(231),z=n(82),H=n.n(z),V=n(322),W=n(323),G=n.n(W);var q=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),X=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},K=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],o=void 0,a=void 0,s=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)u[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=u[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,r[a]=d,i[d]=a,p=16843009*l[h=l[c=l[a]]]^65537*h^257*c^16843008*a,f=257*l[d]^16843008*d,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,n[o][d]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e},Y=null,Z=function(){function e(t){q(this,e),Y||(Y=K()),this._tables=[[Y[0][0].slice(),Y[0][1].slice(),Y[0][2].slice(),Y[0][3].slice(),Y[0][4].slice()],[Y[1][0].slice(),Y[1][1].slice(),Y[1][2].slice(),Y[1][3].slice(),Y[1][4].slice()]];var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=this._tables[0][4],l=this._tables[1],u=t.length,c=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(o=t.slice(0),a=[],this._key=[o,a],n=u;n<4*u+28;n++)i=o[n-1],(n%u==0||8===u&&n%u==4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[255&i],n%u==0&&(i=i<<8^i>>>24^c<<24,c=c<<1^283*(c>>7))),o[n]=o[n-u]^i;for(r=0;n;r++,n--)i=o[3&r?n:n-4],a[r]=n<=4||r<4?i:l[0][s[i>>>24]]^l[1][s[i>>16&255]]^l[2][s[i>>8&255]]^l[3][s[255&i]]}return e.prototype.decrypt=function(e,t,n,r,i,o){var a=this._key[1],s=e^a[0],l=r^a[1],u=n^a[2],c=t^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],w=v[3],T=v[4];for(g=0;g<p;g++)h=y[s>>>24]^b[l>>16&255]^_[u>>8&255]^w[255&c]^a[m],d=y[l>>>24]^b[u>>16&255]^_[c>>8&255]^w[255&s]^a[m+1],f=y[u>>>24]^b[c>>16&255]^_[s>>8&255]^w[255&l]^a[m+2],c=y[c>>>24]^b[s>>16&255]^_[l>>8&255]^w[255&u]^a[m+3],m+=4,s=h,l=d,u=f;for(g=0;g<4;g++)i[(3&-g)+o]=T[s>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^a[m++],h=s,s=l,l=u,u=c,c=h},e}(),Q=function(){function e(){q(this,e),this.listeners={}}return e.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},e.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},e}(),J=function(e){function t(){q(this,t);var n=X(this,e.call(this,Q));return n.jobs=[],n.delay=1,n.timeout_=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},t.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(Q),ee=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},te=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new Z(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),a=new Int32Array(o.buffer),s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0;for(s=n[0],l=n[1],u=n[2],c=n[3],g=0;g<r.length;g+=4)h=ee(r[g]),d=ee(r[g+1]),f=ee(r[g+2]),p=ee(r[g+3]),i.decrypt(h,d,f,p,a,g),a[g]=ee(a[g]^s),a[g+1]=ee(a[g+1]^l),a[g+2]=ee(a[g+2]^u),a[g+3]=ee(a[g+3]^c),s=h,l=d,u=f,c=p;return o},ne=function(){function e(t,n,r,i){q(this,e);var o=e.STEP,a=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),l=0;for(this.asyncStream_=new J,this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),n,r,s)),l=o;l<a.length;l+=o)r=new Uint32Array([ee(a[l-4]),ee(a[l-3]),ee(a[l-2]),ee(a[l-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(l,l+o),n,r,s));this.asyncStream_.push(function(){var e;i(null,(e=s).subarray(0,e.byteLength-e[e.byteLength-1]))})}return e.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=te(e,t,n);r.set(i,e.byteOffset)}},$(e,null,[{key:"STEP",get:function(){return 32e3}}]),e}(),re="7.5.5";function ie(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t,n){return(ae=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&oe(i,n.prototype),i}).apply(null,arguments)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t){return t||(t=e.slice(0)),e.raw=t,e}var ue=[],ce=function(e,t){return function(n,r,i){var o=t.levels[r],a=new RegExp("^("+o+")$");if("log"!==n&&i.unshift(n.toUpperCase()+":"),i.unshift(e+":"),ue&&ue.push([].concat(i)),v.a.console){var s=v.a.console[n];s||"debug"!==n||(s=v.a.console.info||v.a.console.log),s&&o&&a.test(n)&&s[Array.isArray(i)?"apply":"call"](v.a.console,i)}}};var he=function e(t){var n,r="info",i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=ce(t,i),i.createLogger=function(n){return e(t+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},i.level=function(e){if("string"==typeof e){if(!i.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(i.history=function(){return ue?[].concat(ue):[]}).filter=function(e){return(ue||[]).filter(function(t){return new RegExp(".*"+e+".*").test(t[0])})},i.history.clear=function(){ue&&(ue.length=0)},i.history.disable=function(){null!==ue&&(ue.length=0,ue=null)},i.history.enable=function(){null===ue&&(ue=[])},i.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},i.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},i.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},i}("VIDEOJS"),de=he.createLogger,fe=Object.prototype.toString,pe=function(e){return ve(e)?Object.keys(e):[]};function ge(e,t){pe(e).forEach(function(n){return t(e[n],n)})}function me(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&ge(t,function(t,n){e[n]=t})}),e)}function ve(e){return!!e&&"object"==typeof e}function ye(e){return ve(e)&&"[object Object]"===fe.call(e)&&e.constructor===Object}function be(e,t){if(!e||!t)return"";if("function"==typeof v.a.getComputedStyle){var n=v.a.getComputedStyle(e);return n?n[t]:""}return""}function _e(){var e=le(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return _e=function(){return e},e}function we(e){return"string"==typeof e&&/\S/.test(e)}function Te(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function Se(){return b.a===v.a.document}function Ee(e){return ve(e)&&1===e.nodeType}function xe(){try{return v.a.parent!==v.a.self}catch(e){return!0}}function ke(e){return function(t,n){if(!we(t))return b.a[e](null);we(n)&&(n=b.a.querySelector(n));var r=Ee(n)?n:b.a;return r[e]&&r[e](t)}}function Ce(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var i=b.a.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(he.warn(w()(_e(),e,n)),i.setAttribute(e,n)):"textContent"===e?Oe(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&$e(i,r),i}function Oe(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function Pe(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Ie(e,t){return Te(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function Ae(e,t){return e.classList?e.classList.add(t):Ie(e,t)||(e.className=(e.className+" "+t).trim()),e}function Re(e,t){return e.classList?e.classList.remove(t):(Te(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function Le(e,t,n){var r=Ie(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?Ae(e,t):Re(e,t),e}function Me(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})}function De(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,a=r[i].value;"boolean"!=typeof e[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function Ne(e,t){return e.getAttribute(t)}function je(e,t,n){e.setAttribute(t,n)}function Ue(e,t){e.removeAttribute(t)}function Fe(){b.a.body.focus(),b.a.onselectstart=function(){return!1}}function Be(){b.a.onselectstart=function(){return!0}}function ze(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(be(e,"height"))),n.width||(n.width=parseFloat(be(e,"width"))),n}}function He(e){var t;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=b.a.documentElement,r=b.a.body,i=n.clientLeft||r.clientLeft||0,o=v.a.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,l=v.a.pageYOffset||r.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function Ve(e,t){var n={},r=He(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(u-s)/i)),n}function We(e){return ve(e)&&3===e.nodeType}function Ge(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function qe(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),Ee(e)||We(e)?e:"string"==typeof e&&/\S/.test(e)?b.a.createTextNode(e):void 0}).filter(function(e){return e})}function $e(e,t){return qe(t).forEach(function(t){return e.appendChild(t)}),e}function Xe(e,t){return $e(Ge(e),t)}function Ke(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||0===e.button&&1===e.buttons)}var Ye=ke("querySelector"),Ze=ke("querySelectorAll"),Qe=Object.freeze({isReal:Se,isEl:Ee,isInFrame:xe,createEl:Ce,textContent:Oe,prependTo:Pe,hasClass:Ie,addClass:Ae,removeClass:Re,toggleClass:Le,setAttributes:Me,getAttributes:De,getAttribute:Ne,setAttribute:je,removeAttribute:Ue,blockTextSelection:Fe,unblockTextSelection:Be,getBoundingClientRect:ze,findPosition:He,getPointerPosition:Ve,isTextNode:We,emptyEl:Ge,normalizeContent:qe,appendContent:$e,insertContent:Xe,isSingleLeftClick:Ke,$:Ye,$$:Ze}),Je=1;function et(){return Je++}var tt={},nt="vdata"+(new Date).getTime();function rt(e){var t=e[nt];return t||(t=e[nt]=et()),tt[t]||(tt[t]={}),tt[t]}function it(e){var t=e[nt];return!!t&&!!Object.getOwnPropertyNames(tt[t]).length}function ot(e){var t=e[nt];if(t){delete tt[t];try{delete e[nt]}catch(t){e.removeAttribute?e.removeAttribute(nt):e[nt]=null}}}function at(e,t){var n=rt(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&ot(e)}function st(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function lt(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||v.a.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||b.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=b.a.documentElement,a=b.a.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}var ut=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){ut=!0}});v.a.addEventListener("test",null,e),v.a.removeEventListener("test",null,e)}catch(e){}}();var ct=["touchstart","touchmove"];function ht(e,t,n){if(Array.isArray(t))return st(ht,e,t,n);var r=rt(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=et()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=lt(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){he.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;ut&&ct.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function dt(e,t,n){if(it(e)){var r=rt(e);if(r.handlers){if(Array.isArray(t))return st(dt,e,t,n);var i=function(e,t){r.handlers[t]=[],at(e,t)};if(void 0!==t){var o=r.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);at(e,t)}else i(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function ft(e,t,n){var r=it(e)?rt(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=lt(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)ft.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){var o=rt(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function pt(e,t,n){if(Array.isArray(t))return st(pt,e,t,n);var r=function r(){dt(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||et(),ht(e,t,r)}var gt,mt=Object.freeze({fixEvent:lt,on:ht,off:dt,trigger:ft,one:pt}),vt=!1,yt=function(){if(Se()&&!1!==gt.options.autoSetup){var e=Array.prototype.slice.call(b.a.getElementsByTagName("video")),t=Array.prototype.slice.call(b.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(b.a.getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,o=r.length;i<o;i++){var a=r[i];if(!a||!a.getAttribute){bt(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&gt(a)}else vt||bt(1)}};function bt(e,t){t&&(gt=t),v.a.setTimeout(yt,e)}Se()&&"complete"===b.a.readyState?vt=!0:pt(v.a,"load",function(){vt=!0});var _t,wt=function(e){var t=b.a.createElement("style");return t.className=e,t},Tt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},St=function(e,t,n){t.guid||(t.guid=et());var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},Et=function(e,t){var n=Date.now();return function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},xt=function(e,t,n,r){var i;void 0===r&&(r=v.a);var o=function(){var o=this,a=arguments,s=function(){i=null,s=null,n||e.apply(o,a)};!i&&n&&e.apply(o,a),r.clearTimeout(i),i=r.setTimeout(s,t)};return o.cancel=function(){r.clearTimeout(i),i=null},o},kt=function(){};kt.prototype.allowedEvents_={},kt.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},ht(this,e,t),this.addEventListener=n},kt.prototype.addEventListener=kt.prototype.on,kt.prototype.off=function(e,t){dt(this,e,t)},kt.prototype.removeEventListener=kt.prototype.off,kt.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},pt(this,e,t),this.addEventListener=n},kt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=lt(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),ft(this,e)},kt.prototype.dispatchEvent=kt.prototype.trigger,kt.prototype.queueTrigger=function(e){var t=this;_t||(_t=new Map);var n=e.type||e,r=_t.get(this);r||(r=new Map,_t.set(this,r));var i=r.get(n);r.delete(n),v.a.clearTimeout(i);var o=v.a.setTimeout(function(){0===r.size&&(r=null,_t.delete(t)),t.trigger(e)},0);r.set(n,o)};var Ct=function(e){return e instanceof kt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},Ot=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Pt=function(e){if(!e.nodeName&&!Ct(e))throw new Error("Invalid target; must be a DOM node or evented object.")},It=function(e){if(!Ot(e))throw new Error("Invalid event type; must be a non-empty string or array.")},At=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},Rt=function(e,t){var n,r,i,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return o?(n=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],i=t[1]):(n=t[0],r=t[1],i=t[2]),Pt(n),It(r),At(i),{isTargetingSelf:o,target:n,type:r,listener:i=St(e,i)}},Lt=function(e,t,n,r){Pt(e),e.nodeName?mt[t](e,n,r):e[t](n,r)},Mt={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Rt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(Lt(a,"on",s,l),!o){var u=function(){return e.off(a,s,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,Lt(this,"on","dispose",u),Lt(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Rt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,l=i.listener;if(o)Lt(a,"one",s,l);else{var u=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];l.apply(null,r)};u.guid=l.guid,Lt(a,"one",s,u)}},off:function(e,t,n){if(!e||Ot(e))dt(this.eventBusEl_,e,t);else{var r=e,i=t;Pt(r),It(i),At(n),n=St(this,n),this.off("dispose",n),r.nodeName?(dt(r,i,n),dt(r,"dispose",n)):Ct(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){return ft(this.eventBusEl_,e,t)}};function Dt(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=Ce("span",{className:"vjs-event-bus"});return me(e,Mt),e.eventedCallbacks&&e.eventedCallbacks.forEach(function(e){e()}),e.on("dispose",function(){e.off(),v.a.setTimeout(function(){e.eventBusEl_=null},0)}),e}var Nt={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),ge(e,function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e}),t&&Ct(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function jt(e,t){return me(e,Nt),e.state=me({},e.state,t),"function"==typeof e.handleStateChanged&&Ct(e)&&e.on("statechanged",e.handleStateChanged),e}function Ut(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function Ft(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&ge(t,function(t,n){ye(t)?(ye(e[n])||(e[n]={}),e[n]=Ft(e[n],t)):e[n]=t})}),e}var Bt=function(){function e(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.parentComponent_=null,this.options_=Ft({},this.options_),t=this.options_=Ft(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+et()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&Dt(this,{eventBusKey:this.el_?"el_":null}),jt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ot(this.el_),this.el_=null),this.player_=null},t.player=function(){return this.player_},t.options=function(e){return he.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=Ft(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return Ce(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],l=n;return o&&o[e]?l=o[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i})),l},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return e=Ut(e),this.childNameIndex_[e]},t.addChild=function(t,n,r){var i,o;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"==typeof t){o=Ut(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&Ut(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var l=this.contentEl().children[r]||null;this.contentEl().insertBefore(i.el(),l)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,o=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(e){return!r.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r,i;return"string"==typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||Ut(t.name));return n&&!o.isTech(n)}).forEach(function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var o=t.addChild(n,r);o&&(t[n]=o)}})}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},t.$=function(e,t){return Ye(e,t||this.contentEl())},t.$$=function(e,t){return Ze(e,t||this.contentEl())},t.hasClass=function(e){return Ie(this.el_,e)},t.addClass=function(e){Ae(this.el_,e)},t.removeClass=function(e){Re(this.el_,e)},t.toggleClass=function(e,t){Le(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return Ne(this.el_,e)},t.setAttribute=function(e,t){je(this.el_,e,t)},t.removeAttribute=function(e){Ue(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+Ut(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof v.a.getComputedStyle){var n=v.a.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+Ut(e);t=this.el_[r]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=(new Date).getTime(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,i=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+i*i)>10&&(e=!1)}});var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){(n=null,!0===e)&&((new Date).getTime()-t<200&&(r.preventDefault(),this.trigger("tap")))})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=St(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r,i=this;return e=St(this,e),n=v.a.setTimeout(function(){i.off("dispose",r),e()},t),(r=function(){return i.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",r),n},t.clearTimeout=function(e){v.a.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},t.setInterval=function(e,t){var n=this;e=St(this,e);var r=v.a.setInterval(e,t),i=function(){return n.clearInterval(r)};return i.guid="vjs-interval-"+r,this.on("dispose",i),r},t.clearInterval=function(e){v.a.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},t.requestAnimationFrame=function(e){var t,n,r=this;return this.supportsRaf_?(e=St(this,e),t=v.a.requestAnimationFrame(function(){r.off("dispose",n),e()}),(n=function(){return r.cancelAnimationFrame(t)}).guid="vjs-raf-"+t,this.on("dispose",n),t):this.setTimeout(e,1e3/60)},t.cancelAnimationFrame=function(e){if(this.supportsRaf_){v.a.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r,i=e.getComponent("Tech"),o=i&&i.isTech(n),a=e===n||e.prototype.isPrototypeOf(n.prototype);if(o||!a)throw r=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+r+".");t=Ut(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,u=Object.keys(l);if(l&&u.length>0&&u.map(function(e){return l[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=Ut(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();Bt.prototype.supportsRaf_="function"==typeof v.a.requestAnimationFrame&&"function"==typeof v.a.cancelAnimationFrame,Bt.registerComponent("Component",Bt);var zt,Ht=v.a.navigator&&v.a.navigator.userAgent||"",Vt=/AppleWebKit\/([\d.]+)/i.exec(Ht),Wt=Vt?parseFloat(Vt.pop()):null,Gt=/iPad/i.test(Ht),qt=/iPhone/i.test(Ht)&&!Gt,$t=/iPod/i.test(Ht),Xt=qt||Gt||$t,Kt=(zt=Ht.match(/OS (\d+)_/i))&&zt[1]?zt[1]:null,Yt=/Android/i.test(Ht),Zt=function(){var e=Ht.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),Qt=Yt&&Zt<5&&Wt<537,Jt=/Firefox/i.test(Ht),en=/Edge/i.test(Ht),tn=!en&&(/Chrome/i.test(Ht)||/CriOS/i.test(Ht)),nn=function(){var e=Ht.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),rn=function(){var e=/MSIE\s(\d+)\.\d/.exec(Ht),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ht)&&/rv:11.0/.test(Ht)&&(t=11),t}(),on=/Safari/i.test(Ht)&&!tn&&!Yt&&!en,an=(on||Xt)&&!tn,sn=Se()&&("ontouchstart"in v.a||v.a.navigator.maxTouchPoints||v.a.DocumentTouch&&v.a.document instanceof v.a.DocumentTouch),ln=Object.freeze({IS_IPAD:Gt,IS_IPHONE:qt,IS_IPOD:$t,IS_IOS:Xt,IOS_VERSION:Kt,IS_ANDROID:Yt,ANDROID_VERSION:Zt,IS_NATIVE_ANDROID:Qt,IS_FIREFOX:Jt,IS_EDGE:en,IS_CHROME:tn,CHROME_VERSION:nn,IE_VERSION:rn,IS_SAFARI:on,IS_ANY_SAFARI:an,TOUCH_ENABLED:sn});function un(e,t,n,r){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function cn(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:un.bind(null,"start",0,e),end:un.bind(null,"end",1,e)}}function hn(e,t){return Array.isArray(e)?cn(e):void 0===e||void 0===t?cn():cn([[e,t]])}function dn(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=hn(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(r=e.end(o))>t&&(r=t),i+=r-n;return i/t}for(var fn,pn={},gn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],mn=gn[0],vn=!1,yn=0;yn<gn.length;yn++)if(gn[yn][1]in b.a){fn=gn[yn];break}if(fn){for(var bn=0;bn<fn.length;bn++)pn[mn[bn]]=fn[bn];vn=fn[0]===mn[0]}function _n(e){if(e instanceof _n)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:ve(e)&&("number"==typeof e.code&&(this.code=e.code),me(this,e)),this.message||(this.message=_n.defaultMessages[this.code]||"")}_n.prototype.code=0,_n.prototype.message="",_n.prototype.status=null,_n.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_n.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var wn=0;wn<_n.errorTypes.length;wn++)_n[_n.errorTypes[wn]]=wn,_n.prototype[_n.errorTypes[wn]]=wn;function Tn(e){return null!=e&&"function"==typeof e.then}function Sn(e){Tn(e)&&e.then(null,function(e){})}var En=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},xn=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=En(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(En))},kn=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},Cn="vjs-modal-dialog",On=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=Ce("div",{className:Cn+"-content"},{role:"document"}),r.descEl_=Ce("p",{className:Cn+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),Oe(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return Cn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),Xe(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),Ge(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=b.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),x.a.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(x.a.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}b.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof v.a.HTMLAnchorElement||e instanceof v.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof v.a.HTMLInputElement||e instanceof v.a.HTMLSelectElement||e instanceof v.a.HTMLTextAreaElement||e instanceof v.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof v.a.HTMLIFrameElement||e instanceof v.a.HTMLObjectElement||e instanceof v.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(Bt);On.prototype.options_={pauseOnOpen:!0,temporary:!0},Bt.registerComponent("ModalDialog",On);var Pn=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(se(se(n)),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}ie(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(kt);for(var In in Pn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Pn.prototype.allowedEvents_)Pn.prototype["on"+In]=null;var An=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Rn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){An(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,n}ie(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&An(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,An(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(Pn),Ln=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Mn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){Ln(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(se(se(n)),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}ie(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&Ln(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,Ln(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(Pn),Dn=function(e){function t(){return e.apply(this,arguments)||this}ie(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Pn),Nn=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),jn=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),Un={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Fn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Bn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},zn={disabled:"disabled",hidden:"hidden",showing:"showing"},Hn=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+et(),kind:t.kind||"",label:t.label||"",language:t.language||""},i=function(e){Object.defineProperty(se(se(n)),e,{get:function(){return r[e]},set:function(){}})};for(var o in r)i(o);return n}return ie(t,e),t}(kt),Vn=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=b.a.createElement("a");n.href=e;var r,i=""===n.host&&"file:"!==n.protocol;i&&((r=b.a.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),b.a.body.appendChild(r));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),o.protocol||(o.protocol=v.a.location.protocol),i&&b.a.body.removeChild(r),o},Wn=function(e){if(!e.match(/^https?:\/\//)){var t=b.a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Gn=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},qn=function(e){var t=v.a.location,n=Vn(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},$n=Object.freeze({parseUrl:Vn,getAbsoluteURL:Wn,getFileExtension:Gn,isCrossOrigin:qn}),Xn=function(e,t){var n=new v.a.WebVTT.Parser(v.a,v.a.vttjs,v.a.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(v.a.console&&v.a.console.groupCollapsed&&v.a.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return he.error(e)}),v.a.console&&v.a.console.groupEnd&&v.a.console.groupEnd()),n.flush()},Kn=function(e,t){var n={uri:e},r=qn(e);r&&(n.cors=r),C()(n,St(this,function(e,n,r){if(e)return he.error(e,n);if(t.loaded_=!0,"function"!=typeof v.a.WebVTT){if(t.tech_){var i,o=function(){he.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)};i=function(){return t.tech_.off("vttjserror",o),Xn(r,t)},t.tech_.one("vttjsloaded",i),t.tech_.one("vttjserror",o)}}else Xn(r,t)}))},Yn=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=Ft(t,{kind:Bn[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=zn[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=e.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[];var a=new jn(n.cues_),s=new jn(n.activeCues_),l=!1,u=St(se(se(n)),function(){this.activeCues=this.activeCues,l&&(this.trigger("cuechange"),l=!1)});return"disabled"!==i&&n.tech_.ready(function(){n.tech_.on("timeupdate",u)},!0),Object.defineProperties(se(se(n)),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){var t=this;zn[e]&&("disabled"!==(i=e)?this.tech_.ready(function(){t.tech_.on("timeupdate",u)},!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(l=!1,t.length!==this.activeCues_.length)l=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(l=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),r.src?(n.src=r.src,Kn(r.src,se(se(n)))):n.loaded_=!0,n}ie(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(v.a.vttjs&&!(e instanceof v.a.vttjs.VTTCue)){for(var n in t=new v.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Hn);Yn.prototype.allowedEvents_={cuechange:"cuechange"};var Zn=function(e){function t(t){var n;void 0===t&&(t={});var r=Ft(t,{kind:Fn[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(se(se(n)),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return ie(t,e),t}(Hn),Qn=function(e){function t(t){var n;void 0===t&&(t={});var r=Ft(t,{kind:Un[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(se(se(n)),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return ie(t,e),t}(Hn),Jn=0,er=2,tr=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var i=new Yn(t);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties(se(se(n)),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=Jn,i.addEventListener("loadeddata",function(){r=er,n.trigger({type:"load",target:se(se(n))})}),n}return ie(t,e),t}(kt);tr.prototype.allowedEvents_={load:"load"},tr.NONE=Jn,tr.LOADING=1,tr.LOADED=er,tr.ERROR=3;var nr={audio:{ListClass:Rn,TrackClass:Zn,capitalName:"Audio"},video:{ListClass:Mn,TrackClass:Qn,capitalName:"Video"},text:{ListClass:Dn,TrackClass:Yn,capitalName:"Text"}};Object.keys(nr).forEach(function(e){nr[e].getterName=e+"Tracks",nr[e].privateName=e+"Tracks_"});var rr={remoteText:{ListClass:Dn,TrackClass:Yn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Nn,TrackClass:tr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ir=Ft(nr,rr);rr.names=Object.keys(rr),nr.names=Object.keys(nr),ir.names=[].concat(rr.names).concat(nr.names);var or=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,n)||this).hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),ir.names.forEach(function(e){var n=ir[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new ir.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}ie(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(St(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return hn(0,0)},n.bufferedPercent=function(){return dn(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(nr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}})},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.reset=function(){},n.error=function(e){return void 0!==e&&(this.error_=new _n(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?hn(0,0):hn()},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;nr.names.forEach(function(t){var n=nr[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})},n.addWebVttScript_=function(){var e=this;if(!v.a.WebVTT)if(b.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&ye(P.a)&&Object.keys(P.a).length>0)return void this.trigger("vttjsloaded");var t=b.a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),v.a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}})},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new ir.text.TrackClass(i);return o.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=Ft(e,{tech:this});return new rr.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(he.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(r.track)}),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ut(e),t.techs_[e]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return e=Ut(e),t.techs_&&t.techs_[e]?t.techs_[e]:v.a&&v.a.videojs&&v.a.videojs[e]?(he.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),v.a.videojs[e]):void 0},t}(Bt);ir.names.forEach(function(e){var t=ir[e];or.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),or.prototype.featuresVolumeControl=!0,or.prototype.featuresMuteControl=!0,or.prototype.featuresFullscreenResize=!1,or.prototype.featuresPlaybackRate=!1,or.prototype.featuresProgressEvents=!1,or.prototype.featuresSourceset=!1,or.prototype.featuresTimeupdateEvents=!1,or.prototype.featuresNativeTextTracks=!1,or.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};["seekable","seeking","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:he.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Bt.registerComponent("Tech",or),or.registerTech("Tech",or),or.defaultTechOrder_=[];var ar={},sr={},lr={};function ur(e,t,n){e.setTimeout(function(){return function e(t,n,r,i,o,a){void 0===t&&(t={});void 0===n&&(n=[]);void 0===o&&(o=[]);void 0===a&&(a=!1);var s=n,l=s[0],u=s.slice(1);if("string"==typeof l)e(t,ar[l],r,i,o,a);else if(l){var c=function(e,t){var n=sr[e.id()],r=null;if(null==n)return r=t(e),sr[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var o=n[i],a=o[0],s=o[1];a===t&&(r=s)}null===r&&(r=t(e),n.push([t,r]));return r}(i,l);if(!c.setSource)return o.push(c),e(t,u,r,i,o,a);c.setSource(me({},t),function(n,s){if(n)return e(t,u,r,i,o,a);o.push(c),e(s,t.type===s.type?u:ar[s.type],r,i,o,a)})}else u.length?e(t,u,r,i,o,a):a?r(t,o):e(t,ar["*"],r,i,o,!0)}(t,ar[t.type],n,e)},1)}function cr(e,t,n,r){void 0===r&&(r=null);var i="call"+Ut(n),o=e.reduce(pr(i),r),a=o===lr,s=a?null:t[n](o);return function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](r,n)}}(e,n,s,a),s}var hr={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},dr={setCurrentTime:1},fr={play:1,pause:1};function pr(e){return function(t,n){return t===lr?lr:n[e]?n[e](t):t}}var gr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},mr=function(e){void 0===e&&(e="");var t=Gn(e);return gr[t.toLowerCase()]||""};function vr(e){var t=mr(e.src);return!e.type&&t&&(e.type=t),e}var yr=function(e){function t(t,n,r){var i,o=Ft({createEl:!1},n);if(i=e.call(this,t,o,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var l=Ut(s[a]),u=or.getTech(l);if(l||(u=Bt.getComponent(l)),u&&u.isSupported()){t.loadTech_(l);break}}return i}return ie(t,e),t}(Bt);Bt.registerComponent("MediaLoader",yr);var br=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).emitTapEvents(),r.enable(),r}ie(t,e);var n=t.prototype;return n.createEl=function(t,n,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=me({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&he.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=me({role:"button"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=Ce("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,Oe(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){},n.handleKeyDown=function(t){x.a.isEventKey(t,"Space")||x.a.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Bt);Bt.registerComponent("ClickableComponent",br);var _r=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update(),t.on("posterchange",St(se(se(r)),r.update)),r}ie(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return Ce("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){this.player_.controls()&&(this.player_.tech(!0).focus(),this.player_.paused()?Sn(this.player_.play()):this.player_.pause())},t}(br);Bt.registerComponent("PosterImage",_r);var wr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Tr(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Sr(e,t,n){try{e.style[t]=n}catch(e){return}}var Er=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=St(se(se(i)),i.updateDisplay);return t.on("loadstart",St(se(se(i)),i.toggleDisplay)),t.on("texttrackchange",o),t.on("loadedmetadata",St(se(se(i)),i.preselectTrack)),t.ready(St(se(se(i)),function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",o),t.on("playerresize",o),v.a.addEventListener("orientationchange",o),t.on("dispose",function(){return v.a.removeEventListener("orientationchange",o)});for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}})),i}ie(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<i.length;a++){var s=i[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in r?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in r&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof v.a.WebVTT&&v.a.WebVTT.processCues(v.a,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},n.updateForTrack=function(e){if("function"==typeof v.a.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(v.a.WebVTT.processCues(v.a,t,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),i=t.length;i--;){var o=t[i];if(o){var a=o.displayState;if(r.color&&(a.firstChild.style.color=r.color),r.textOpacity&&Sr(a.firstChild,"color",Tr(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(a.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Sr(a.firstChild,"backgroundColor",Tr(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Sr(a,"backgroundColor",Tr(r.windowColor,r.windowOpacity)):a.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===r.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===r.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),r.fontPercent&&1!==r.fontPercent){var s=v.a.parseFloat(a.style.fontSize);a.style.fontSize=s*r.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=wr[r.fontFamily])}}}},t}(Bt);Bt.registerComponent("TextTrackDisplay",Er);var xr=function(e){function t(){return e.apply(this,arguments)||this}return ie(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=Ce("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(Bt);Bt.registerComponent("LoadingSpinner",xr);var kr=function(e){function t(){return e.apply(this,arguments)||this}ie(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=me({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=me({type:"button"},n);var r=Bt.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(r),r},n.addChild=function(e,t){void 0===t&&(t={});var n=this.constructor.name;return he.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Bt.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){x.a.isEventKey(t,"Space")||x.a.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(br);Bt.registerComponent("Button",kr);var Cr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return Sn(t),void this.player_.tech(!0).focus();var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var i=function(){return r.focus()};Tn(t)?t.then(i,function(){}):this.setTimeout(i,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(kr);Cr.prototype.controlText_="Play Video",Bt.registerComponent("BigPlayButton",Cr);var Or=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(kr);Bt.registerComponent("CloseButton",Or);var Pr=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),n.replay&&r.on(t,"ended",r.handleEnded),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(kr);Pr.prototype.controlText_="Play",Bt.registerComponent("PlayToggle",Pr);var Ir=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)},Ar=Ir;function Rr(e,t){return void 0===t&&(t=e),Ar(e,t)}var Lr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).throttledUpdateContent=Et(St(se(se(r)),r.updateContent),25),r.on(t,"timeupdate",r.throttledUpdateContent),r}ie(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=Ce("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=b.a.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},n.formatTime_=function(e){return Rr(e)},n.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},n.updateContent=function(e){},t}(Bt);Lr.prototype.labelText_="Time",Lr.prototype.controlText_="Time",Bt.registerComponent("TimeDisplay",Lr);var Mr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"ended",r.handleEnded),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(Lr);Mr.prototype.labelText_="Current Time",Mr.prototype.controlText_="Current Time",Bt.registerComponent("CurrentTimeDisplay",Mr);var Dr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.updateContent),r.on(t,"loadstart",r.updateContent),r.on(t,"loadedmetadata",r.throttledUpdateContent),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(Lr);Dr.prototype.labelText_="Duration",Dr.prototype.controlText_="Duration",Bt.registerComponent("DurationDisplay",Dr);var Nr=function(e){function t(){return e.apply(this,arguments)||this}return ie(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(Bt);Bt.registerComponent("TimeDivider",Nr);var jr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.throttledUpdateContent),r.on(t,"ended",r.handleEnded),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(Ce("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){"number"==typeof this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},n.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(Lr);jr.prototype.labelText_="Remaining Time",jr.prototype.controlText_="Remaining Time",Bt.registerComponent("RemainingTimeDisplay",jr);var Ur=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}ie(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ce("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Bt);Bt.registerComponent("LiveDisplay",Ur);var Fr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus),r}ie(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Ce("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(e){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(kr);Fr.prototype.controlText_="Seek to live, currently playing live",Bt.registerComponent("SeekToLive",Fr);var Br=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}ie(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=me({tabIndex:0},n),r=me({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||tn||e.preventDefault(),Fe(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;Be(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=n:r.width=n,e}}},n.calculateDistance=function(e){var t=Ve(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){x.a.isEventKey(t,"Left")||x.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):x.a.isEventKey(t,"Right")||x.a.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Bt);Bt.registerComponent("Slider",Br);var zr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).partEls_=[],r.on(t,"progress",r.update),r}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},n.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this.player_.liveTracker,n=this.player_.buffered(),r=t&&t.isLive()?t.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),o=this.partEls_,a=this.$(".vjs-control-text-loaded-percentage"),s=function(e,t,n){var r=e/t||0;return r=100*(r>=1?1:r),n&&(r=r.toFixed(2)),r+"%"};this.el_.style.width=s(i,r),Oe(a,s(i,r,!0));for(var l=0;l<n.length;l++){var u=n.start(l),c=n.end(l),h=o[l];h||(h=this.el_.appendChild(Ce()),o[l]=h),h.style.left=s(u,i),h.style.width=s(c-u,i)}for(var d=o.length;d>n.length;d--)this.el_.removeChild(o[d-1]);o.length=n.length},t}(Bt);Bt.registerComponent("LoadProgressBar",zr);var Hr=function(e){function t(){return e.apply(this,arguments)||this}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=ze(this.el_),i=ze(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),l=r.width/2;a<l?l+=l-a:s<l&&(l=s),l<0?l=0:l>r.width&&(l=r.width),this.el_.style.right="-"+l+"px",Oe(this.el_,n)}},n.updateTime=function(e,t,n,r){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var o,a=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),l=s-t*s;o=(l<1?"":"-")+Rr(l,s)}else o=Rr(n,a);i.update(e,t,o),r&&r()})},t}(Bt);Bt.registerComponent("TimeTooltip",Hr);var Vr=function(e){function t(){return e.apply(this,arguments)||this}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(Bt);Vr.prototype.options_={children:[]},Xt||Yt||Vr.prototype.options_.children.push("timeTooltip"),Bt.registerComponent("PlayProgressBar",Vr);var Wr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Et(St(se(se(r)),r.update),25),r}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,function(){n.el_.style.left=e.width*t+"px"})},t}(Bt);Wr.prototype.options_={children:["timeTooltip"]},Bt.registerComponent("MouseTimeDisplay",Wr);var Gr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setEventHandlers_(),r}ie(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update=Et(St(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in b.a&&"visibilityState"in b.a&&this.on(b.a,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){b.a.hidden?this.disableInterval_(e):(this.enableInterval_(),this.requestAnimationFrame(this.update))},n.enableInterval_=function(){var e=this;this.clearInterval(this.updateInterval),this.updateInterval=this.setInterval(function(){e.requestAnimationFrame(e.update)},30)},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&"ended"!==e.type||this.clearInterval(this.updateInterval)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update_=function(e,t){var n=this.player_.liveTracker,r=this.player_.duration();n&&n.isLive()&&(r=this.player_.liveTracker.liveCurrentTime()),this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Rr(e,r),Rr(r,r)],"{1} of {2}")),this.bar&&this.bar.update(ze(this.el_),t)},n.update=function(t){if(null!==this.el().offsetParent){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n}},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.handleEnded=function(e){this.update_(this.player_.duration(),1)},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e>=1?1:e||0},n.handleMouseDown=function(t){Ke(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(Ke(e)){var t,n=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){var i=r.seekableStart(),o=r.liveCurrentTime();if((t=i+n*r.liveWindow())>=o&&(t=o),t<=i&&(t=i+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Sn(this.player_.play())},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(x.a.isEventKey(t,"Space")||x.a.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(x.a.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(x.a.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(x()(t))){t.preventDefault(),t.stopPropagation();var n=10*(x.a.codes[x()(t)]-x.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else x.a.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):x.a.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},t}(Br);Gr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Xt||Yt||Gr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Bt.registerComponent("SeekBar",Gr);var qr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseMove=Et(St(se(se(r)),r.handleMouseMove),25),r.throttledHandleMouseSeek=Et(St(se(se(r)),r.handleMouseSeek),25),r.enable(),r}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),r=t.el(),i=ze(r),o=Ve(r,e).x;o>1?o=1:o<0&&(o=0),n&&n.update(i,o)}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(Bt);qr.prototype.options_={children:["seekBar"]},Bt.registerComponent("ProgressControl",qr);var $r=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"fullscreenchange",r.handleFullscreenChange),!1===b.a[pn.fullscreenEnabled]&&r.disable(),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(kr);$r.prototype.controlText_="Fullscreen",Bt.registerComponent("FullscreenToggle",$r);var Xr=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Kr=function(e){function t(){return e.apply(this,arguments)||this}return ie(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Bt);Bt.registerComponent("VolumeLevel",Kr);var Yr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on("slideractive",r.updateLastVolume_),r.on(t,"volumechange",r.updateARIAAttributes),t.ready(function(){return r.updateARIAAttributes()}),r}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){Ke(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){Ke(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(Br);Yr.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Yr.prototype.playerEvent="volumechange",Bt.registerComponent("VolumeBar",Yr);var Zr=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||ye(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=e.call(this,t,n)||this,Xr(se(se(r)),t),r.throttledHandleMouseMove=Et(St(se(se(r)),r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}ie(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Bt);Zr.prototype.options_={children:["volumeBar"]},Bt.registerComponent("VolumeControl",Zr);var Qr=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Jr=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,Qr(se(se(r)),t),r.on(t,["loadstart","volumechange"],r.update),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;Xt&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)Re(this.el_,"vjs-vol-"+n);Ae(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(kr);Jr.prototype.controlText_="Mute",Bt.registerComponent("MuteToggle",Jr);var ei=function(e){function t(t,n){var r;return void 0===n&&(n={}),void 0!==n.inline?n.inline=n.inline:n.inline=!0,(void 0===n.volumeControl||ye(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=e.call(this,t,n)||this).on(t,["loadstart"],r.volumePanelState_),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}ie(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(Bt);ei.prototype.options_={children:["muteToggle","volumeControl"]},Bt.registerComponent("VolumePanel",ei);var ti=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyDown),r.boundHandleBlur_=St(se(se(r)),r.handleBlur),r.boundHandleTapClick_=St(se(se(r)),r.handleTapClick),r}ie(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof Bt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof Bt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=Ce(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ht(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||b.a.activeElement;if(!this.children().some(function(e){return e.el()===t})){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter(function(t){return t.el()===e.target})[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){x.a.isEventKey(e,"Left")||x.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(x.a.isEventKey(e,"Right")||x.a.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Bt);Bt.registerComponent("Menu",ti);var ni=function(e){function t(t,n){var r;void 0===n&&(n={}),(r=e.call(this,t,n)||this).menuButton_=new kr(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=kr.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",function(){r.menu.show()}),r.on("keydown",r.handleSubmenuKeyDown),r}ie(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new ti(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=Ce("li",{className:"vjs-menu-title",innerHTML:Ut(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new Bt(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+kr.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){x.a.isEventKey(e,"Esc")||x.a.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),x.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(x.a.isEventKey(e,"Up")||x.a.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(x.a.isEventKey(e,"Esc")||x.a.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),x.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Xt&&xe())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Bt);Bt.registerComponent("MenuButton",ni);var ri=function(e){function t(t,n){var r,i=n.tracks;if((r=e.call(this,t,n)||this).items.length<=1&&r.hide(),!i)return se(r);var o=St(se(se(r)),r.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),r.player_.on("ready",o),r.player_.on("dispose",function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o)}),r}return ie(t,e),t}(ni);Bt.registerComponent("TrackButton",ri);var ii=["Tab","Esc","Up","Down","Right","Left"],oi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}ie(t,e);var n=t.prototype;return n.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",me({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},n.handleKeyDown=function(t){ii.some(function(e){return x.a.isEventKey(t,e)})||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(br);Bt.registerComponent("MenuItem",oi);var ai=function(e){function t(t,n){var r,i=n.track,o=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected="showing"===i.mode,(r=e.call(this,t,n)||this).track=i,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var a,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(se(se(r)),t)},l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply(se(se(r)),t)};(t.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",l),r.on("dispose",function(){t.off(["loadstart","texttrackchange"],s),o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",l)}),void 0===o.onchange)&&r.on(["tap","click"],function(){if("object"!=typeof v.a.Event)try{a=new v.a.Event("change")}catch(e){}a||(a=b.a.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(a)});return r.handleTracksChange(),r}ie(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(oi);Bt.registerComponent("TextTrackMenuItem",ai);var si=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}ie(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(ai);Bt.registerComponent("OffTextTrackMenuItem",si);var li=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return ie(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=ai),this.label_&&(n=this.label_+" off"),e.push(new si(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(ri);Bt.registerComponent("TextTrackButton",li);var ui=function(e){function t(t,n){var r,i=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(r=e.call(this,t,n)||this).track=i,r.cue=o,i.addEventListener("cuechange",St(se(se(r)),r.update)),r}ie(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(oi);Bt.registerComponent("ChaptersTrackMenuItem",ui);var ci=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ut(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new ui(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(li);ci.prototype.kind_="chapters",ci.prototype.controlText_="Chapters",Bt.registerComponent("ChaptersButton",ci);var hi=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=t.textTracks(),a=St(se(se(i)),i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",function(){o.removeEventListener("change",a)}),i}ie(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(li);hi.prototype.kind_="descriptions",hi.prototype.controlText_="Descriptions",Bt.registerComponent("DescriptionsButton",hi);var di=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(li);di.prototype.kind_="subtitles",di.prototype.controlText_="Subtitles",Bt.registerComponent("SubtitlesButton",di);var fi=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return ie(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(ai);Bt.registerComponent("CaptionSettingsMenuItem",fi);var pi=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new fi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(li);pi.prototype.kind_="captions",pi.prototype.controlText_="Captions",Bt.registerComponent("CaptionsButton",pi);var gi=function(e){function t(){return e.apply(this,arguments)||this}return ie(t,e),t.prototype.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,me({innerHTML:i},n),r)},t}(ai);Bt.registerComponent("SubsCapsMenuItem",gi);var mi=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(Ut(r.label_)),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new fi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,gi)},t}(li);mi.prototype.kinds_=["captions","subtitles"],mi.prototype.controlText_="Subtitles",Bt.registerComponent("SubsCapsButton",mi);var vi=function(e){function t(t,n){var r,i=n.track,o=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(r=e.call(this,t,n)||this).track=i,r.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(se(se(r)),t)};return o.addEventListener("change",a),r.on("dispose",function(){o.removeEventListener("change",a)}),r}ie(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),i+="</span>",e.prototype.createEl.call(this,t,me({innerHTML:i},n),r)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(oi);Bt.registerComponent("AudioTrackMenuItem",vi);var yi=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new vi(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(ri);yi.prototype.controlText_="Audio Track",Bt.registerComponent("AudioTrackButton",yi);var bi=function(e){function t(t,n){var r,i=n.rate,o=parseFloat(i,10);return n.label=i,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(r=e.call(this,t,n)||this).label=i,r.rate=o,r.on(t,"ratechange",r.update),r}ie(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(oi);bi.prototype.contentElType="button",Bt.registerComponent("PlaybackRateMenuItem",bi);var _i=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}ie(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=Ce("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new ti(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new bi(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(ni);_i.prototype.controlText_="Playback Rate",Bt.registerComponent("PlaybackRateMenuButton",_i);var wi=function(e){function t(){return e.apply(this,arguments)||this}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Bt);Bt.registerComponent("Spacer",wi);var Ti=function(e){function t(){return e.apply(this,arguments)||this}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(wi);Bt.registerComponent("CustomControlSpacer",Ti);var Si=function(e){function t(){return e.apply(this,arguments)||this}return ie(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Bt);Si.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Bt.registerComponent("ControlBar",Si);var Ei=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"error",r.open),r}ie(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(On);Ei.prototype.options_=Ft(On.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Bt.registerComponent("ErrorDisplay",Ei);var xi=["#000","Black"],ki=["#00F","Blue"],Ci=["#0FF","Cyan"],Oi=["#0F0","Green"],Pi=["#F0F","Magenta"],Ii=["#F00","Red"],Ai=["#FFF","White"],Ri=["#FF0","Yellow"],Li=["1","Opaque"],Mi=["0.5","Semi-Transparent"],Di=["0","Transparent"],Ni={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[xi,Ai,Ii,Oi,ki,Ri,Pi,Ci]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Li,Mi,Di]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Ai,xi,Ii,Oi,ki,Ri,Pi,Ci]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Li,Mi]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Di,Mi,Li]}};function ji(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Ni.windowColor.options=Ni.backgroundColor.options;var Ui=function(e){function t(t,n){var r;return n.temporary=!1,(r=e.call(this,t,n)||this).updateDisplay=St(se(se(r)),r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=Ce("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),ge(Ni,function(e){r.on(r.$(e.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}ie(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var i=Ni[e],o=i.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map(function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',r.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return Ce("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return Ce("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return Ce("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,r=this;return t=function(e,t,n){var i,o,a=(i=r.$(t.selector),o=t.parser,ji(i.options[i.options.selectedIndex].value,o));return void 0!==a&&(e[n]=a),e},void 0===(n={})&&(n=0),pe(e=Ni).reduce(function(n,r){return t(n,e[r],r)},n)},n.setValues=function(e){var t=this;ge(Ni,function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(ji(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)})},n.setDefaults=function(){var e=this;ge(Ni,function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n})},n.restoreSettings=function(){var e;try{e=JSON.parse(v.a.localStorage.getItem("vjs-text-track-settings"))}catch(e){he.warn(e)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?v.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):v.a.localStorage.removeItem("vjs-text-track-settings")}catch(e){he.warn(e)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(On);Bt.registerComponent("TextTrackSettings",Ui);var Fi=function(e){function t(t,n){var r,i=n.ResizeObserver||v.a.ResizeObserver;null===n.ResizeObserver&&(i=!1);var o=Ft({createEl:!i,reportTouchActivity:!1},n);return(r=e.call(this,t,o)||this).ResizeObserver=n.ResizeObserver||v.a.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=xt(function(){r.resizeHandler()},100,!1,se(se(r))),i?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){dt(this,"resize",e),dt(this,"unload",t),t=null};ht(r.el_.contentWindow,"unload",t),ht(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}ie(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(Bt);Bt.registerComponent("ResizeManager",Fi);var Bi=function(e){function t(t,n){var r,i=Ft({createEl:!1},n);return(r=e.call(this,t,i)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),rn&&"hidden"in b.a&&"visibilityState"in b.a&&r.on(b.a,"visibilitychange",r.handleVisibilityChange),r}ie(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(b.a.hidden?this.stopTracking():this.startTracking())},n.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var e=this.liveCurrentTime(),t=this.player_.currentTime(),n=this.seekableIncrement_;return e!==1/0&&e-(2*n+.07)>=t},n.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var e=this.player_.seekable();if(e&&e.length){var t=this.seekableEnd();t!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(t-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=t,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},n.startTracking=function(){var e=this;this.isTracking()||(this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.one(this.player_,"play",this.handlePlay),this.timeupdateSeen_||(this.handleTimeupdate=function(){e.timeupdateSeen_=!0,e.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},n.stopTracking=function(){this.isTracking()&&this.reset_()},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){return this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},n.dispose=function(){this.stopTracking(),e.prototype.dispose.call(this)},t}(Bt);Bt.registerComponent("LiveTracker",Bi);var zi=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},Hi=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=b.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=b.a.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",v.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Vi=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},Wi=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return Vi([e.el(),v.a.HTMLMediaElement.prototype,v.a.Element.prototype,Hi],"innerHTML")}(e),i=function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=n.apply(t,i);return zi(e),a}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(n[e]=t[e],t[e]=i(n[e]))}),Object.defineProperty(t,"innerHTML",Ft(r,{set:i(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach(function(e){t[e]=n[e]}),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},Gi=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Wn(v.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return v.a.Element.prototype.setAttribute.call(this,"src",e),e}}),qi=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Vi([e.el(),v.a.HTMLMediaElement.prototype,Gi],"src")}(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",Ft(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var o=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=i.call(t);return zi(e)||(e.triggerSourceset(""),Wi(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):zi(e)||Wi(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}};function $i(){var e=le(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return $i=function(){return e},e}var Xi=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.source,o=!1;if(i&&(r.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var a=r.el_.childNodes,s=a.length,l=[];s--;){var u=a[s];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),o||r.el_.hasAttribute("crossorigin")||!qn(u.src)||(o=!0)):l.push(u))}for(var c=0;c<l.length;c++)r.el_.removeChild(l[c])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&he.warn(w()($i())),r.restoreMetadataTracksInIOSNativePlayer_(),(sn||qt||Qt)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}ie(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){qi(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",function(){return t.removeEventListener("change",n)});var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)})},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach(function(e){n.el()[r+"Tracks"].removeEventListener(e,n[r+"TracksListeners_"][e])}),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=nr[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(e){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach(function(e){var n=o[e];r.addEventListener(e,n),t.on("dispose",function(t){return r.removeEventListener(e,n)})}),this.on("loadstart",a),this.on("dispose",function(e){return t.off("loadstart",a)})}},n.proxyNativeTracks_=function(){var e=this;nr.names.forEach(function(t){e.proxyNativeTracksForType_(t)})},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=b.a.createElement("video");var r=Ft({},this.options_.tag&&De(this.options_.tag));sn&&!0===this.options_.nativeControlsForTouch||delete r.controls,Me(e,me(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&je(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var a=i[o],s=this.options_[a];void 0!==s&&(s?je(e,a,a):Ue(e,a),e[a]=s)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},n.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){he(e,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;if(this.el_.duration===1/0&&Yt&&tn&&0===this.el_.currentTime){return this.on("timeupdate",function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))}),NaN}return this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=v.a.navigator&&v.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},n.exitFullScreen=function(){this.el_.webkitExitFullScreen()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=b.a.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),v.a.performance&&"function"==typeof v.a.performance.now?e.creationTime=v.a.performance.now():v.a.performance&&v.a.performance.timing&&"number"==typeof v.a.performance.timing.navigationStart&&(e.creationTime=v.a.Date.now()-v.a.performance.timing.navigationStart),e},t}(or);if(Se()){Xi.TEST_VID=b.a.createElement("video");var Ki=b.a.createElement("track");Ki.kind="captions",Ki.srclang="en",Ki.label="English",Xi.TEST_VID.appendChild(Ki)}Xi.isSupported=function(){try{Xi.TEST_VID.volume=.5}catch(e){return!1}return!(!Xi.TEST_VID||!Xi.TEST_VID.canPlayType)},Xi.canPlayType=function(e){return Xi.TEST_VID.canPlayType(e)},Xi.canPlaySource=function(e,t){return Xi.canPlayType(e.type)},Xi.canControlVolume=function(){try{var e=Xi.TEST_VID.volume;return Xi.TEST_VID.volume=e/2+.1,e!==Xi.TEST_VID.volume}catch(e){return!1}},Xi.canMuteVolume=function(){try{var e=Xi.TEST_VID.muted;return Xi.TEST_VID.muted=!e,Xi.TEST_VID.muted?je(Xi.TEST_VID,"muted","muted"):Ue(Xi.TEST_VID,"muted"),e!==Xi.TEST_VID.muted}catch(e){return!1}},Xi.canControlPlaybackRate=function(){if(Yt&&tn&&nn<58)return!1;try{var e=Xi.TEST_VID.playbackRate;return Xi.TEST_VID.playbackRate=e/2+.1,e!==Xi.TEST_VID.playbackRate}catch(e){return!1}},Xi.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(b.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(b.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(b.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(b.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Xi.supportsNativeTextTracks=function(){return an||Xt&&tn},Xi.supportsNativeVideoTracks=function(){return!(!Xi.TEST_VID||!Xi.TEST_VID.videoTracks)},Xi.supportsNativeAudioTracks=function(){return!(!Xi.TEST_VID||!Xi.TEST_VID.audioTracks)},Xi.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Xi.prototype.featuresVolumeControl=Xi.canControlVolume(),Xi.prototype.featuresMuteControl=Xi.canMuteVolume(),Xi.prototype.featuresPlaybackRate=Xi.canControlPlaybackRate(),Xi.prototype.featuresSourceset=Xi.canOverrideAttributes(),Xi.prototype.movingMediaElementInDOM=!Xt,Xi.prototype.featuresFullscreenResize=!0,Xi.prototype.featuresProgressEvents=!0,Xi.prototype.featuresTimeupdateEvents=!0,Xi.prototype.featuresNativeTextTracks=Xi.supportsNativeTextTracks(),Xi.prototype.featuresNativeVideoTracks=Xi.supportsNativeVideoTracks(),Xi.prototype.featuresNativeAudioTracks=Xi.supportsNativeAudioTracks();var Yi=Xi.TEST_VID&&Xi.TEST_VID.constructor.prototype.canPlayType,Zi=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;function Qi(){var e=le(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return Qi=function(){return e},e}Xi.patchCanPlayType=function(){Zt>=4&&!Jt&&!tn&&(Xi.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Zi.test(e)?"maybe":Yi.call(this,e)})},Xi.unpatchCanPlayType=function(){var e=Xi.TEST_VID.constructor.prototype.canPlayType;return Xi.TEST_VID.constructor.prototype.canPlayType=Yi,e},Xi.patchCanPlayType(),Xi.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Xi.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Xi.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Xi.prototype["set"+Ut(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Xi.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){Xi.prototype["set"+Ut(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){Xi.prototype[e]=function(){return this.el_[e]()}}),or.withSourceHandlers(Xi),Xi.nativeSourceHandler={},Xi.nativeSourceHandler.canPlayType=function(e){try{return Xi.TEST_VID.canPlayType(e)}catch(e){return""}},Xi.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Xi.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Gn(e.src);return Xi.nativeSourceHandler.canPlayType("video/"+n)}return""},Xi.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Xi.nativeSourceHandler.dispose=function(){},Xi.registerSourceHandler(Xi.nativeSourceHandler),or.registerTech("Html5",Xi);var Ji=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],eo={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},to=["tiny","xsmall","small","medium","large","xlarge","huge"],no={};to.forEach(function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;no[e]="vjs-layout-"+t});var ro={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},io=function(e){function t(n,r,i){var o;if(n.id=n.id||r.id||"vjs_video_"+et(),(r=me(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&a.getAttribute&&(r.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(De(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}if((o=e.call(this,null,r,i)||this).boundDocumentFullscreenChange_=St(se(se(o)),o.documentFullscreenChange_),o.boundFullWindowOnEscKey_=St(se(se(o)),o.fullWindowOnEscKey),o.log=de(o.id_),o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&De(n),o.language(o.options_.language),r.languages){var l={};Object.getOwnPropertyNames(r.languages).forEach(function(e){l[e.toLowerCase()]=r.languages[e]}),o.languages_=l}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=r.poster||"",o.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')}),o.scrubbing_=!1,o.el_=o.createEl(),Dt(se(se(o)),{eventBusKey:"el_"}),o.fluid_&&o.on("playerreset",o.updateStyleEl_);var u=Ft(o.options_);r.plugins&&Object.keys(r.plugins).forEach(function(e){o[e](r.plugins[e])}),o.options_.playerOptions=u,o.middleware_=[],o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),sn&&o.addClass("vjs-touch-enabled"),Xt||o.addClass("vjs-workinghover"),t.players[o.id_]=se(se(o));var c=re.split(".")[0];return o.addClass("vjs-v"+c),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("stageclick",o.handleStageClick_),o.on("keydown",o.handleKeyDown),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o}ie(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),dt(b.a,pn.fullscreenchange,this.boundDocumentFullscreenChange_),dt(b.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),sr[this.id()]=null,ir.names.forEach(function(e){var t=ir[e],r=n[t.getterName]();r&&r.off&&r.off()}),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),i="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:i||(t=this.el_=e.prototype.createEl.call(this,"div"));var o=De(n);if(i){for(t=this.el_=n,n=this.tag=b.a.createElement("video");t.children.length;)n.appendChild(t.firstChild);Ie(t,"video-js")||Ae(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach(function(e){n[e]=t[e]})}if(n.setAttribute("tabindex","-1"),o.tabindex="-1",rn&&(n.setAttribute("role","application"),o.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(e){i&&"class"===e||t.setAttribute(e,o[e]),i&&n.setAttribute(e,o[e])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==v.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=wt("vjs-styles-dimensions");var a=Ye(".vjs-styles-defaults"),s=Ye("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=n.getElementsByTagName("a"),u=0;u<l.length;u++){var c=l.item(u);Ae(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),Pe(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?he.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){if(void 0===e)return!!this.fluid_;var t,n;this.fluid_=!!e,Ct(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Ct(t=function(){this.on("playerreset",this.updateStyleEl_)})?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==v.a.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/i:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Tt(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=Ut(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(or.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};ir.names.forEach(function(e){var t=ir[e];o[t.getterName]=n[t.privateName]}),me(o,this.options_[r]),me(o,this.options_[i]),me(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=or.getTech(e);if(!a)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(St(this,this.handleTechReady_),!0),kn(this.textTracksJson_||[],this.tech_),Ji.forEach(function(e){n.on(n.tech_,e,n["handleTech"+Ut(e)+"_"])}),Object.keys(eo).forEach(function(e){n.on(n.tech_,e,function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+eo[e]+"_"].bind(n),event:t}):n["handleTech"+eo[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||Pe(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e=this;ir.names.forEach(function(t){var n=ir[t];e[n.privateName]=e[n.getterName]()}),this.textTracksJson_=xn(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&he.warn(w()(Qi())),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(Tn(r))return r.catch(n)};if("any"===e&&!0!==this.muted()?Tn(n=this.play())&&(n=n.catch(r)):n="muted"===e&&!0!==this.muted()?r():this.play(),Tn(n))return n.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(n){t.trigger({type:"autoplay-failure",autoplay:e})})}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===t)return o.type}return mr(t)}(this,t)),this.cache_.source=Ft({},e,{src:t,type:n});for(var r=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var l=De(o[s]);i.push(l),l.src&&l.src===t&&a.push(l.src)}a.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;if(r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),!e.src){this.tech_.one(["sourceset","loadstart"],function e(n){if("sourceset"!==n.type){var r=t.techGet("currentSrc");t.lastSource_.tech=r,t.updateSourceCaches_(r)}t.tech_.off(["sourceset","loadstart"],e)})}}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))})},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(he.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){Ke(e)&&this.controls_&&(this.paused()?Sn(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(e.target)})||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=pn,n=this.el(),r=b.a[t.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+t.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+t.fullscreen)),this.isFullscreen(r),!1===this.isFullscreen()&&dt(b.a,t.fullscreenchange,this.boundDocumentFullscreenChange_),vn||this.trigger("fullscreenchange")},n.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready(function(){if(e in dr)return function(e,t,n,r){return t[n](e.reduce(pr(n),r))}(this.middleware_,this.tech_,e,t);if(e in fr)return cr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw he(e),e}},!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in hr)return function(e,t,n){return e.reduceRight(pr(n),t[n]())}(this.middleware_,this.tech_,e);if(e in fr)return cr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw he("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw he("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw he(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||v.a.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=Sn),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!an&&!Xt||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||hn(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=hn(0,0)),e},n.bufferedPercent=function(){return dn(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e)return this.isFullscreen_=!!e,void this.toggleFullscreenClass_();if(vn){var t=pn,n=this.el(),r=b.a[t.fullscreenElement]===n;return!r&&n.matches?r=n.matches(":"+t.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+t.fullscreen)),r}return!!this.isFullscreen_},n.requestFullscreen=function(){var e=pn;this.isFullscreen(!0),e.requestFullscreen?(ht(b.a,e.fullscreenchange,this.boundDocumentFullscreenChange_),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},n.exitFullscreen=function(){var e=pn;this.isFullscreen(!1),e.requestFullscreen?b.a[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},n.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=b.a.documentElement.style.overflow,ht(b.a,"keydown",this.boundFullWindowOnEscKey_),b.a.documentElement.style.overflow="hidden",Ae(b.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){x.a.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullWindow=!1,dt(b.a,"keydown",this.boundFullWindowOnEscKey_),b.a.documentElement.style.overflow=this.docOrigOverflow,Re(b.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.handleKeyDown=function(e){var t=this.options_.userActions;if(t&&t.hotkeys){var n,r;if(n=this.el_.ownerDocument.activeElement,"input"===(r=n.tagName.toLowerCase())?-1!==["button","checkbox","hidden","radio","reset","submit"].indexOf(n.type):-1===["textarea"].indexOf(r))"function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)}},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=void 0===n?function(e){return x.a.isEventKey(e,"f")}:n,i=t.muteKey,o=void 0===i?function(e){return x.a.isEventKey(e,"m")}:i,a=t.playPauseKey,s=void 0===a?function(e){return x.a.isEventKey(e,"k")||x.a.isEventKey(e,"Space")}:a;if(r.call(this,e)){e.preventDefault(),e.stopPropagation();var l=Bt.getComponent("FullscreenToggle");!1!==b.a[pn.fullscreenEnabled]&&l.prototype.handleClick.call(this)}else if(o.call(this,e)){e.preventDefault(),e.stopPropagation(),Bt.getComponent("MuteToggle").prototype.handleClick.call(this)}else if(s.call(this,e)){e.preventDefault(),e.stopPropagation(),Bt.getComponent("PlayToggle").prototype.handleClick.call(this)}},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=or.getTech(i);if(o||(o=Bt.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else he.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,r=this.options_.techOrder.map(function(e){return[e,or.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(he.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(e,t,n){var r;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},o=function(e,t){var r=e[0];if(e[1].canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return(this.options_.sourceOrder?i(e,r,(t=o,function(e,n){return t(n,e)})):i(r,e,o))||!1},n.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):ve(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[vr({src:t})]:ve(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[vr(t)]:[];return t}(e);n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),ur(this,n[0],function(e,r){var i,o;if(t.middleware_=r,t.cache_.sources=n,t.updateSourceCaches_(e),t.src_(e))return n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());i=r,o=t.tech_,i.forEach(function(e){return e.setTech&&e.setTech(o)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},n.src_=function(e){var t,n,r=this,i=this.selectSource([e]);return!i||(t=i.tech,n=this.techName_,Ut(t)!==Ut(n)?(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(function(){r.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||v.a.Promise;this.paused()||!t?this.doReset_():Sn(this.play().then(function(){return e.doReset_()}))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ct(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new _n(e),this.addClass("vjs-error"),he.error("(CODE:"+this.error_.code+" "+_n.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=St(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())}),this.on("mouseup",function(t){r(),this.clearInterval(e)});var i,o=this.getChild("controlBar");!o||Xt||Yt||(o.on("mouseenter",function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0}),o.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e<=0||(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},n.languages=function(){return Ft(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=Ft(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=Ft(r)).player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new On(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<to.length;n++){var r=to[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(no[e]),this.addClass(no[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e?me(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=me({},ro,e),this.updateCurrentBreakpoint_(),me(this.breakpoints_))},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return no[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=Ft(e);var r=this.cache_.media,i=r.artwork,o=r.poster,a=r.src,s=r.textTracks;!i&&o&&(this.cache_.media.artwork=[{src:o,type:mr(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach(function(e){return n.addRemoteTextTrack(e,!1)}),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}})};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:mr(t.poster)}]),t}return Ft(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=De(e),r=n["data-setup"];if(Ie(e,"vjs-fill")&&(n.fill=!0),Ie(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=S()(r||"{}"),o=i[0],a=i[1];o&&he.error(o),me(n,a)}if(me(t,n),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;l<u;l++){var c=s[l],h=c.nodeName.toLowerCase();"source"===h?t.sources.push(De(c)):"track"===h&&t.tracks.push(De(c))}return t},n.flexNotSupported_=function(){var e=b.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(Bt);ir.names.forEach(function(e){var t=ir[e];io.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),io.players={};var oo=v.a.navigator;io.prototype.options_={techOrder:or.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:oo&&(oo.languages&&oo.languages[0]||oo.userLanguage||oo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){io.prototype[e]=function(){return this.techGet_(e)}}),Ji.forEach(function(e){io.prototype["handleTech"+Ut(e)+"_"]=function(){return this.trigger(e)}}),Bt.registerComponent("Player",io);var ao={},so=function(e){return ao.hasOwnProperty(e)},lo=function(e){return so(e)?ao[e]:void 0},uo=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},co=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},ho=function(e,t){return t.prototype.name=e,function(){co(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=ae(t,[this].concat(r));return this[e]=function(){return o},co(this,o.getEventHash()),o}},fo=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,Dt(this),delete this.trigger,jt(this,this.constructor.defaultState),uo(t,this.name),this.dispose=St(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),ft(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=ho(e,ao[e])},e.isBasic=function(t){var n="string"==typeof t?lo(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(so(t))he.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(io.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return ao[t]=n,"plugin"!==t&&(e.isBasic(n)?io.prototype[t]=function(e,t){var n=function(){co(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return uo(this,e),co(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}(t,n):io.prototype[t]=ho(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");so(e)&&(delete ao[e],delete io.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(ao)),e.forEach(function(e){var n=lo(e);n&&((t=t||{})[e]=n)}),t},e.getPluginVersion=function(e){var t=lo(e);return t&&t.VERSION||""},e}();fo.getPlugin=lo,fo.BASE_PLUGIN_NAME="plugin",fo.registerPlugin("plugin",fo),io.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},io.prototype.hasPlugin=function(e){return!!so(e)};var po=function(e){return 0===e.indexOf("#")?e.slice(1):e};function go(e,t,n){var r=go.getPlayer(e);if(r)return t&&he.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof e?Ye("#"+po(e)):e;if(!Ee(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||he.warn("The element supplied is not included in the DOM"),t=t||{},go.hooks("beforesetup").forEach(function(e){var n=e(i,Ft(t));ve(n)&&!Array.isArray(n)?t=Ft(t,n):he.error("please return an object in beforesetup hooks")});var o=Bt.getComponent("Player");return r=new o(i,t,n),go.hooks("setup").forEach(function(e){return e(r)}),r}if(go.hooks_={},go.hooks=function(e,t){return go.hooks_[e]=go.hooks_[e]||[],t&&(go.hooks_[e]=go.hooks_[e].concat(t)),go.hooks_[e]},go.hook=function(e,t){go.hooks(e,t)},go.hookOnce=function(e,t){go.hooks(e,[].concat(t).map(function(t){return function n(){return go.removeHook(e,n),t.apply(void 0,arguments)}}))},go.removeHook=function(e,t){var n=go.hooks(e).indexOf(t);return!(n<=-1)&&(go.hooks_[e]=go.hooks_[e].slice(),go.hooks_[e].splice(n,1),!0)},!0!==v.a.VIDEOJS_NO_DYNAMIC_STYLE&&Se()){var mo=Ye(".vjs-styles-defaults");if(!mo){mo=wt("vjs-styles-defaults");var vo=Ye("head");vo&&vo.insertBefore(mo,vo.firstChild),Tt(mo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}bt(1,go),go.VERSION=re,go.options=io.prototype.options_,go.getPlayers=function(){return io.players},go.getPlayer=function(e){var t,n=io.players;if("string"==typeof e){var r=po(e),i=n[r];if(i)return i;t=Ye("#"+r)}else t=e;if(Ee(t)){var o=t,a=o.player,s=o.playerId;if(a||n[s])return a||n[s]}},go.getAllPlayers=function(){return Object.keys(io.players).map(function(e){return io.players[e]}).filter(Boolean)},go.players=io.players,go.getComponent=Bt.getComponent,go.registerComponent=function(e,t){or.isTech(t)&&he.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Bt.registerComponent.call(Bt,e,t)},go.getTech=or.getTech,go.registerTech=or.registerTech,go.use=function(e,t){ar[e]=ar[e]||[],ar[e].push(t)},Object.defineProperty(go,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(go.middleware,"TERMINATOR",{value:lr,writeable:!1,enumerable:!0}),go.browser=ln,go.TOUCH_ENABLED=sn,go.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},r={};for(var i in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)}(n,e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},go.mergeOptions=Ft,go.bind=St,go.registerPlugin=fo.registerPlugin,go.deregisterPlugin=fo.deregisterPlugin,go.plugin=function(e,t){return he.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),fo.registerPlugin(e,t)},go.getPlugins=fo.getPlugins,go.getPlugin=fo.getPlugin,go.getPluginVersion=fo.getPluginVersion,go.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),go.options.languages=Ft(go.options.languages,((n={})[e]=t,n)),go.options.languages[e]},go.log=he,go.createLogger=de,go.createTimeRange=go.createTimeRanges=hn,go.formatTime=Rr,go.setFormatTime=function(e){Ar=e},go.resetFormatTime=function(){Ar=Ir},go.parseUrl=Vn,go.isCrossOrigin=qn,go.EventTarget=kt,go.on=ht,go.one=pt,go.off=dt,go.trigger=ft,go.xhr=C.a,go.TextTrack=Yn,go.AudioTrack=Zn,go.VideoTrack=Qn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){go[e]=function(){return he.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Qe[e].apply(null,arguments)}}),go.computedStyle=be,go.dom=Qe,go.url=$n;var yo=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=A.a.buildAbsoluteURL(v.a.location.href,e)),A.a.buildAbsoluteURL(e,t))},bo=function(e,t,n){return e&&n.responseURL&&t!==n.responseURL?n.responseURL:t},_o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},wo=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),To=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},So=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Eo=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},xo=go.mergeOptions,ko=go.EventTarget,Co=go.log,Oo=function(e,t){["AUDIO","SUBTITLES"].forEach(function(n){for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r]){var o=e.mediaGroups[n][r][i];t(o,n,r,i)}})},Po=function(e,t){var n=xo(e,{}),r=n.playlists[t.uri];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.endList===t.endList&&r.mediaSequence===t.mediaSequence)return null;var i=xo(r,t);r.segments&&(i.segments=function(e,t,n){var r=t.slice();n=n||0;for(var i=Math.min(e.length,t.length+n),o=n;o<i;o++)r[o-n]=xo(e[o],r[o-n]);return r}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),i.segments.forEach(function(e){!function(e,t){e.resolvedUri||(e.resolvedUri=yo(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=yo(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=yo(t,e.map.uri))}(e,i.resolvedUri)});for(var o=0;o<n.playlists.length;o++)n.playlists[o].uri===t.uri&&(n.playlists[o]=i);return n.playlists[t.uri]=i,n},Io=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=yo(e.uri,n.uri),n.id=t,n.attributes||(n.attributes={},Co.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},Ao=function(e){Oo(e,function(t){t.uri&&(t.resolvedUri=yo(e.uri,t.uri))})},Ro=function(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)},Lo=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_o(this,t);var i=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o=r.withCredentials,a=void 0!==o&&o,s=r.handleManifestRedirects,l=void 0!==s&&s;i.srcUrl=e,i.hls_=n,i.withCredentials=a,i.handleManifestRedirects=l;var u=n.options_;if(i.customTagParsers=u&&u.customTagParsers||[],i.customTagMappers=u&&u.customTagMappers||[],!i.srcUrl)throw new Error("A non-empty playlist URL is required");return i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:yo(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))}),i}return To(t,ko),wo(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new F;this.customTagParsers.forEach(function(e){return r.addParser(e)}),this.customTagMappers.forEach(function(e){return r.addTagMapper(e)}),r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var i=Po(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,i?(this.master=i,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(v.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=v.a.setTimeout(function(){n.trigger("mediaupdatetimeout")},Ro(this.media(),!!i))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),v.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(r,i){if(t.request){if(e.resolvedUri=bo(t.handleManifestRedirects,e.resolvedUri,i),r)return t.playlistRequestError(t.request,e.uri,n);t.haveMetadata(i,e.uri),"HAVE_MASTER"===n?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),v.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;v.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=v.a.setTimeout(function(){return t.load()},r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new F;return e.customTagParsers.forEach(function(e){return r.addParser(e)}),e.customTagMappers.forEach(function(e){return r.addTagMapper(e)}),r.push(n.responseText),r.end(),e.state="HAVE_MASTER",e.srcUrl=bo(e.handleManifestRedirects,e.srcUrl,n),r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,Io(e.master),Ao(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:v.a.location.href,playlists:[{uri:e.srcUrl,id:0,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}(),Mo=go.createTimeRange,Do=function(e,t,n){var r,i;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(void 0!==(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=i.duration,void 0!==i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t)).precise?r.result:(i=function(e,t){for(var n=0,r=void 0,i=t-e.mediaSequence;i<e.segments.length;i++){if(void 0!==(r=e.segments[i]).start)return{result:r.start-n,precise:!0};if(n+=r.duration,void 0!==r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?i.result:r.result+n},No=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return v.a.Infinity}return Do(e,t,n)},jo=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)r+=e.targetDuration;t=0}for(var a=t;a<n;a++)r+=e.segments[a].duration;return r},Uo=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,r=n+2*e.targetDuration;t--&&!((n+=e.segments[t].duration)>=r););return Math.max(0,t)},Fo=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return No(e);if(null===t)return null;t=t||0;var r=n?Uo(e):e.segments.length;return Do(e,e.mediaSequence+r,t)},Bo=function(e){return e-Math.floor(e)==0},zo=function(e,t){if(Bo(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var i=Math.pow(10,r),o=t*i;if(Bo(o)||r===n)return(o+e)/i}},Ho=zo.bind(null,1),Vo=zo.bind(null,-1),Wo=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Go=function(e){return e.excludeUntil&&e.excludeUntil===1/0},qo=function(e){var t=Wo(e);return!e.disabled&&!t},$o=function(e,t){return t.attributes&&t.attributes[e]},Xo=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!qo(e)&&(e.attributes.BANDWIDTH||0)<n}).length},Ko={duration:No,seekable:function(e,t){var n=t||0,r=Fo(e,t,!0);return null===r?Mo():Mo(n,r)},safeLiveIndex:Uo,getMediaInfoForTime:function(e,t,n,r){var i=void 0,o=void 0,a=e.segments.length,s=t-r;if(s<0){if(n>0)for(i=n-1;i>=0;i--)if(o=e.segments[i],(s+=Vo(o.duration))>0)return{mediaIndex:i,startTime:r-jo(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if((s-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<a;i++)if(o=e.segments[i],(s-=Ho(o.duration))<0)return{mediaIndex:i,startTime:r+jo(e,n,i)};return{mediaIndex:a-1,startTime:t}},isEnabled:qo,isDisabled:function(e){return e.disabled},isBlacklisted:Wo,isIncompatible:Go,playlistEnd:Fo,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},isFmp4:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1},hasAttribute:$o,estimateSegmentRequestTime:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!$o("BANDWIDTH",n))return NaN;var i=e*n.attributes.BANDWIDTH;return(i-8*r)/t},isLowestEnabledRendition:Xo},Yo=go.xhr,Zo=go.mergeOptions,Qo=function(){return function e(t,n){t=Zo({timeout:45e3},t);var r=e.beforeRequest||go.Hls.xhr.beforeRequest;if(r&&"function"==typeof r){var i=r(t);i&&(t=i)}var o=Yo(t,function(e,t){var r=o.response;!e&&r&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=r.byteLength||r.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),t.headers&&(o.responseHeaders=t.headers),e&&"ETIMEDOUT"===e.code&&(o.timedout=!0),e||o.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(o&&(r||o.responseText)))),n(e,o)}),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o}},Jo=function(e,t){return e.start(t)+"-"+e.end(t)},ea=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},ta=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},na=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r}),t},ra=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},ia=function(e){for(var t=Array.prototype.slice.call(e),n="",r=0;r<t.length/16;r++)n+=t.slice(16*r,16*r+16).map(ea).join("")+" "+t.slice(16*r,16*r+16).map(ta).join("")+"\n";return n},oa=Object.freeze({createTransferableMessage:na,initSegmentId:ra,hexDump:ia,tagDump:function(e){var t=e.bytes;return ia(t)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=Jo(e,n)+" ";return t}}),aa=function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n=0,r=void 0,i=0;i<t.segments.length&&!(e<=(n=(r=t.segments[i]).videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration));i++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*o.duration)return null;r=o}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!o)return i({message:"valid programTime was not found"});if("estimate"===o.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:r},s=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,r=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*r)}(r,o.segment);return s&&(a.programDateTime=s.toISOString()),i(null,a)},sa=function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,o=void 0===i?2:i,a=t.seekTo,s=t.pauseAfterSeek,l=void 0===s||s,u=t.tech,c=t.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!r||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var h=function(e,t){var n=void 0;try{n=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(r=t.segments[i],!(n<t.segments[i+1].dateTimeObject));i++);var o,a=t.segments[t.segments.length-1],s=a.dateTimeObject,l=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*l)?null:(n>s&&(r=a),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Ko.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(n,r);if(!h)return c({message:n+" was not found in the stream"});var d=h.segment,f=function(e,t){var n=void 0,r=void 0;try{n=new Date(e),r=new Date(t)}catch(e){}var i=n.getTime();return(r.getTime()-i)/1e3}(d.dateTimeObject,n);if("estimate"===h.type)return 0===o?c({message:n+" is not buffered yet. Try again"}):(a(h.estimatedStart+f),void u.one("seeked",function(){e({programTime:n,playlist:r,retryCount:o-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})}));var p=d.start+f;u.one("seeked",function(){return c(null,u.currentTime())}),l&&u.pause(),a(p)},la=function(e,t){var n=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return go.createTimeRanges(n)},ua=function(e,t){return la(e,function(e,n){return e-1/30<=t&&n+1/30>=t})},ca=function(e,t){return la(e,function(e){return e-1/30>=t})},ha=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},da=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},fa=function(e,t,n){var r=void 0,i=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime<=t&&i.endTime>=e&&n.removeCue(i)},pa=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},ga=function(e,t,n){var r=v.a.WebKitDataCue||v.a.VTTCue;if(t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n){var i=pa(e.mediaSource_.duration);if(n.forEach(function(e){var t=e.cueTime+this.timestampOffset;!("number"!=typeof t||v.a.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach(function(e){var n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return go.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return go.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return go.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),this.metadataTrack_.addCue(n)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length){for(var o=e.metadataTrack_.cues,a=[],s=0;s<o.length;s++)o[s]&&a.push(o[s]);var l=a.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),u=Object.keys(l).sort(function(e,t){return Number(e)-Number(t)});u.forEach(function(e,t){var n=l[e],r=Number(u[t+1])||i;n.forEach(function(e){e.endTime=r})})}}},ma="undefined"!=typeof window?window:{},va="undefined"==typeof Symbol?"__target":Symbol(),ya="application/javascript",ba=ma.BlobBuilder||ma.WebKitBlobBuilder||ma.MozBlobBuilder||ma.MSBlobBuilder,_a=ma.URL||ma.webkitURL||_a&&_a.msURL,wa=ma.Worker;function Ta(e,t){return function(n){var r=this;if(!t)return new wa(e);if(wa&&!n){var i=ka(t.toString().replace(/^function.+?{/,"").slice(0,-1));return this[va]=new wa(i),function(e,t){if(!e||!t)return;var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&_a.revokeObjectURL(e.objURL),n.call(e)}}(this[va],i),this[va]}var o={postMessage:function(e){r.onmessage&&setTimeout(function(){r.onmessage({data:e,target:o})})}};t.call(o),this.postMessage=function(e){setTimeout(function(){o.onmessage({data:e,target:r})})},this.isThisThread=!0}}if(wa){var Sa,Ea=ka("self.onmessage = function () {}"),xa=new Uint8Array(1);try{(Sa=new wa(Ea)).postMessage(xa,[xa.buffer])}catch(e){wa=null}finally{_a.revokeObjectURL(Ea),Sa&&Sa.terminate()}}function ka(e){try{return _a.createObjectURL(new Blob([e],{type:ya}))}catch(n){var t=new ba;return t.append(e),_a.createObjectURL(t.getBlob(type))}}var Ca=new Ta("./transmuxer-worker.worker.js",function(e,t){var n=this;!function(){var e,t,r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,b,_,w,T,S,E,x,k,C,O,P,I,A,R,L,M,D,N,j,U,F,B,z=Math.pow(2,32)-1;!function(){var e;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in T)T.hasOwnProperty(e)&&(T[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),E=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),C=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),O={video:k,audio:C},A=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),L=R,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),D=R,P=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},t=function(){return e(T.dinf,e(T.dref,A))},r=function(t){return e(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},g=function(t){return e(T.hdlr,O[t])},p=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(n[12]=t.samplerate>>>24&255,n[13]=t.samplerate>>>16&255,n[14]=t.samplerate>>>8&255,n[15]=255&t.samplerate),e(T.mdhd,n)},f=function(t){return e(T.mdia,p(t),g(t.type),a(t))},o=function(t){return e(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},a=function(n){return e(T.minf,"video"===n.type?e(T.vmhd,P):e(T.smhd,I),t(),v(n))},s=function(t,n){for(var r=[],i=n.length;i--;)r[i]=b(n[i]);return e.apply(null,[T.moof,o(t)].concat(r))},l=function(t){for(var n=t.length,r=[];n--;)r[n]=h(t[n]);return e.apply(null,[T.moov,c(4294967295)].concat(r).concat(u(t)))},u=function(t){for(var n=t.length,r=[];n--;)r[n]=_(t[n]);return e.apply(null,[T.mvex].concat(r))},c=function(t){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(T.mvhd,n)},m=function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e(T.sdtp,o)},v=function(t){return e(T.stbl,y(t),e(T.stts,D),e(T.stsc,L),e(T.stsz,M),e(T.stco,R))},y=function(t){return e(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?N(t):j(t))},N=function(t){var n,r=t.sps||[],i=t.pps||[],o=[],a=[];for(n=0;n<r.length;n++)o.push((65280&r[n].byteLength)>>>8),o.push(255&r[n].byteLength),o=o.concat(Array.prototype.slice.call(r[n]));for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));return e(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(T.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length]).concat(o).concat([i.length]).concat(a))),e(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},j=function(t){return e(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))},d=function(t){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(T.tkhd,n)},b=function(t){var n,r,i,o,a,s;return n=e(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(z+1)),s=Math.floor(t.baseMediaDecodeTime%(z+1)),r=e(T.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===t.type?(i=w(t,92),e(T.traf,n,r,i)):(o=m(t),i=w(t,o.length+92),e(T.traf,n,r,i,o))},h=function(t){return t.duration=t.duration||4294967295,e(T.trak,d(t),f(t))},_=function(t){var n=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(n[n.length-1]=0),e(T.trex,n)},B=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},F=function(t,n){var r,i,o,a;for(n+=20+16*(i=t.samples||[]).length,r=B(i,n),a=0;a<i.length;a++)o=i[a],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return e(T.trun,new Uint8Array(r))},U=function(t,n){var r,i,o,a;for(n+=20+8*(i=t.samples||[]).length,r=B(i,n),a=0;a<i.length;a++)o=i[a],r=r.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return e(T.trun,new Uint8Array(r))},w=function(e,t){return"audio"===e.type?U(e,t):F(e,t)};var H,V,W,G,q,$={ftyp:i=function(){return e(T.ftyp,S,E,S,x)},mdat:function(t){return e(T.mdat,t)},moof:s,moov:l,initSegment:function(e){var t,n=i(),r=l(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t}},X=function(e){return e>>>0};W=function(e){return H(e,["moov","trak"]).reduce(function(e,t){var n,r,i,o,a;return(n=H(t,["tkhd"])[0])?(r=n[0],o=X(n[i=0===r?12:20]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),(a=H(t,["mdia","mdhd"])[0])?(i=0===(r=a[0])?12:20,e[o]=X(a[i]<<24|a[i+1]<<16|a[i+2]<<8|a[i+3]),e):null):null},{})},G=function(e,t){var n,r,i;return n=H(t,["moof","traf"]),r=[].concat.apply([],n.map(function(t){return H(t,["tfhd"]).map(function(n){var r,i;return r=X(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=e[r]||9e4,(H(t,["tfdt"]).map(function(e){var t,n;return t=e[0],n=X(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=X(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n})[0]||1/0)/i})})),i=Math.min.apply(null,r),isFinite(i)?i:0},q=function(e){var t=H(e,["moov","trak"]),n=[];return t.forEach(function(e){var t=H(e,["mdia","hdlr"]),r=H(e,["tkhd"]);t.forEach(function(e,t){var i,o,a=V(e.subarray(8,12)),s=r[t];"vide"===a&&(o=0===(i=new DataView(s.buffer,s.byteOffset,s.byteLength)).getUint8(0)?i.getUint32(12):i.getUint32(20),n.push(o))})}),n};var K={findBox:H=function(e,t){var n,r,i,o,a,s=[];if(!t.length)return null;for(n=0;n<e.byteLength;)r=X(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),i=V(e.subarray(n+4,n+8)),o=r>1?n+r:e.byteLength,i===t[0]&&(1===t.length?s.push(e.subarray(n+8,o)):(a=H(e.subarray(n+8,o),t.slice(1))).length&&(s=s.concat(a))),n=o;return s},parseType:V=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},timescale:W,startTime:G,videoTrackIds:q},Y=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};Y.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},Y.prototype.push=function(e){this.trigger("data",e)},Y.prototype.flush=function(e){this.trigger("done",e)};var Z,Q,J,ee,te,ne,re,ie=Y,oe=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ae=function(e){var t,n,r=[],i=[];for(r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},se=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},le=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},ue=function(e,t){var n,r,i,o,a,s=t||0,l=[];for(n=0;n<e.length;n++)for(o=e[n],r=0;r<o.length;r++)a=o[r],s+=(i=oe(a,s)).size,l.push(i);return l},ce=function(e){var t,n,r,i,o,a,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],h.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},he=[33,16,5,32,164,27],de=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],fe=function(e){for(var t=[];e--;)t.push(0);return t},pe={96e3:[he,[227,64],fe(154),[56]],88200:[he,[231],fe(170),[56]],64e3:[he,[248,192],fe(240),[56]],48e3:[he,[255,192],fe(268),[55,148,128],fe(54),[112]],44100:[he,[255,192],fe(268),[55,163,128],fe(84),[112]],32e3:[he,[255,192],fe(268),[55,234],fe(226),[112]],24e3:[he,[255,192],fe(268),[55,255,128],fe(268),[111,112],fe(126),[224]],16e3:[he,[255,192],fe(268),[55,255,128],fe(268),[111,255],fe(269),[223,108],fe(195),[1,192]],12e3:[de,fe(268),[3,127,248],fe(268),[6,255,240],fe(268),[13,255,224],fe(268),[27,253,128],fe(259),[56]],11025:[de,fe(268),[3,127,248],fe(268),[6,255,240],fe(268),[13,255,224],fe(268),[27,255,192],fe(268),[55,175,128],fe(108),[112]],8e3:[de,fe(268),[3,121,16],fe(47),[7]]},ge=(Z=pe,Object.keys(Z).reduce(function(e,t){return e[t]=new Uint8Array(Z[t].reduce(function(e,t){return e.concat(t)},[])),e},{}));ne=function(e,t){return Q(te(e,t))},re=function(e,t){return J(ee(e),t)};Q=function(e){return 9e4*e},J=function(e,t){return e*t},ee=function(e){return e/9e4},te=function(e,t){return e/t};var me=ne,ve=re,ye=function(e,t,n,r){var i,o,a,s,l=0,u=0,c=0;if(t.length&&(i=me(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(9e4/(e.samplerate/1024)),n&&r&&(l=i-Math.max(n,r),c=(u=Math.floor(l/o))*o),!(u<1||c>45e3))){for((a=ge[e.samplerate])||(a=t[0].data),s=0;s<u;s++)t.splice(s,0,{data:a});e.baseMediaDecodeTime-=Math.floor(ve(c,e.samplerate))}},be=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},_e=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},we=function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i},Te=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},Se=function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/9e4,n=Math.floor(n)),n},Ee=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},xe=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}t+=i,r=0,i=0}return n},ke=function(e){return 181!==e.payload[0]?null:49!=(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},Ce=function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)o={type:3&t[2+(i=3*n)],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a},Oe=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},Pe=4,Ie=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new De(0,0),new De(0,1),new De(1,0),new De(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};(Ie.prototype=new ie).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&(t=xe(e.escapedRBSP)).payloadType===Pe&&(n=ke(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=Ce(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},Ie.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},Ie.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},Ie.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},Ie.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},Ie.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var Ae={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Re=function(e){return null===e?"":(e=Ae[e]||e,String.fromCharCode(e))},Le=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Me=function(){for(var e=[],t=15;t--;)e.push("");return e},De=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Me();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Me();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Me()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))o=Re((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Re((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=Le.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=Re(r),o+=Re(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};De.prototype=new ie,De.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){try{return e.trim()}catch(e){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},De.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Me(),this.nonDisplayed_=Me(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},De.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},De.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},De.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},De.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},De.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},De.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},De.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},De.prototype.isNormalChar=function(e){return e>=32&&e<=127},De.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Me(),this.displayed_=Me()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},De.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},De.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},De.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},De.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},De.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},De.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n};var Ne={CaptionStream:Ie,Cea608Stream:De},je={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ue=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Fe=function e(t){var n,r;e.prototype.init.call(this),this.type_=t,this.push=function(e){e.type===this.type_&&(void 0===r&&(r=e.dts),e.dts=Ue(e.dts,r),e.pts=Ue(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.discontinuity=function(){r=void 0,n=void 0}};Fe.prototype=new ie;var Be,ze=Fe,He=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},Ve=function(e,t,n){return decodeURIComponent(He(e,t,n))},We=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ge={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ve(e.data,1,t),e.value=Ve(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=Ve(e.data,1,t),e.url=Ve(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(He(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Be=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,i=[],o=0;if(Be.prototype.init.call(this),this.dispatchType=je.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,l,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(i.push(e),o+=e.data.byteLength,1===i.length&&(r=We(e.data.subarray(6,10)),r+=10),!(o<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},u=0;u<r;)t.data.set(i[0].data.subarray(0,r-u),u),u+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();a=10,64&t.data[5]&&(a+=4,a+=We(t.data.subarray(10,14)),r-=We(t.data.subarray(16,20)));do{if((s=We(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=l.id,Ge[l.id]&&(Ge[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var c=l.data,h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;h*=4,h+=3&c[7],l.timeStamp=h,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),a+=10,a+=s}while(a<r);this.trigger("data",t)}}}).prototype=new ie;var qe,$e,Xe,Ke=Be,Ye=ze;(qe=function(){var e=new Uint8Array(188),t=0;qe.prototype.init.call(this),this.push=function(n){var r,i=0,o=188;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=188,o+=188);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new ie,($e=function(){var e,t,n,r;$e.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var o=e[i],a=(31&e[i+1])<<8|e[i+2];o===je.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===je.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===je.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=je.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=je.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new ie,$e.STREAM_TYPES={h264:27,adts:15},(Xe=function(){var e=this,t={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(t,n,r){var i,o,a=new Uint8Array(t.size),s={type:n},l=0,u=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,l=0;l<t.data.length;l++)o=t.data[l],a.set(o.data,u),u+=o.data.byteLength;var c,h,d;c=a,(h=s).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),i="video"===n||s.packetLength<=t.size,(r||i)&&(t.size=0,t.data.length=0),i&&e.trigger("data",s)}};Xe.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,a;switch(o.streamType){case je.H264_STREAM_TYPE:case je.H264_STREAM_TYPE:e=t,a="video";break;case je.ADTS_STREAM_TYPE:e=n,a="audio";break;case je.METADATA_STREAM_TYPE:e=r,a="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&i(e,a,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},n=o.programMapTable;null!==n.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[o.type]()},this.flush=function(){i(t,"video"),i(n,"audio"),i(r,"timed-metadata"),this.trigger("done")}}).prototype=new ie;var Ze={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:qe,TransportParseStream:$e,ElementaryStream:Xe,TimestampRolloverStream:Ye,CaptionStream:Ne.CaptionStream,Cea608Stream:Ne.Cea608Stream,MetadataStream:Ke};for(var Qe in je)je.hasOwnProperty(Qe)&&(Ze[Qe]=je[Qe]);var Je,et=Ze,tt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Je=function(){var e;Je.prototype.init.call(this),this.push=function(t){var n,r,i,o,a,s,l=0,u=0;if("audio"===t.type)for(e?(o=e,(e=new Uint8Array(o.byteLength+t.data.byteLength)).set(o),e.set(t.data,o.byteLength)):e=t.data;l+5<e.length;)if(255===e[l]&&240==(246&e[l+1])){if(r=2*(1&~e[l+1]),n=(3&e[l+3])<<11|e[l+4]<<3|(224&e[l+5])>>5,s=9e4*(a=1024*(1+(3&e[l+6])))/tt[(60&e[l+2])>>>2],i=l+n,e.byteLength<i)return;if(this.trigger("data",{pts:t.pts+u*s,dts:t.dts+u*s,sampleCount:a,audioobjecttype:1+(e[l+2]>>>6&3),channelcount:(1&e[l+2])<<2|(192&e[l+3])>>>6,samplerate:tt[(60&e[l+2])>>>2],samplingfrequencyindex:(60&e[l+2])>>>2,samplesize:16,data:e.subarray(l+7+r,i)}),e.byteLength===i)return void(e=void 0);u++,e=e.subarray(i)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new ie;var nt,rt,it,ot=Je,at=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(rt=function(){var e,t,n=0;rt.prototype.init.call(this),this.push=function(r){var i;for(t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}}).prototype=new ie,it={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(nt=function(){var e,t,n,r,i,o,a,s=new rt;nt.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,s.push(e))},s.on("data",function(a){var s={trackId:t,pts:n,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)}),s.on("done",function(){e.trigger("done")}),this.flush=function(){s.flush()},a=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},i=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},o=function(e){var t,n,r,i,o,s,l,u,c,h,d,f,p,g=0,m=0,v=0,y=0,b=1;if(n=(t=new at(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),it[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==o?8:12,p=0;p<d;p++)t.readBoolean()&&a(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),0===(h=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}f&&(b=f[0]/f[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(u+1)-2*g-2*m)*b),height:(2-h)*(c+1)*16-2*v-2*y}}}).prototype=new ie;var st,lt={H264Stream:nt,NalByteStream:rt},ut=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},ct=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},ht=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3;return 6144&e[t+3]|r|n};(st=function(){var e=new Uint8Array,t=0;st.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,o,a,s=0,l=0;for(e.length?(a=e.length,(e=new Uint8Array(n.byteLength+a)).set(e.subarray(0,a)),e.set(n,a)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(s=ht(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",o),l+=s}else{if(e.length-l<10)break;if(l+(s=ct(e,l))>e.length)break;i={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",i),l+=s}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array}}).prototype=new ie;var dt,ft,pt,gt,mt=st,vt=lt.H264Stream,yt=ut,bt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],_t=["width","height","profileIdc","levelIdc","profileCompatibility"],wt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Tt=function(e,t,n,r,i,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};(ft=function(e,t){var n=[],r=0,i=0,o=0,a=1/0;t=t||{},ft.prototype.init.call(this),this.push=function(t){Ee(e,t),e&&bt.forEach(function(n){e[n]=t[n]}),n.push(t)},this.setEarliestDts=function(t){i=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,l,u,c;0!==n.length?(s=be(n,e,i),e.baseMediaDecodeTime=Se(e,t.keepOriginalTimestamps),ye(e,s,o,a),e.samples=_e(s),u=$.mdat(we(s)),n=[],l=$.moof(r,[e]),c=new Uint8Array(l.byteLength+u.byteLength),r++,c.set(l),c.set(u,l.byteLength),Te(e),this.trigger("data",{track:e,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new ie,(dt=function(e,t){var n,r,i=0,o=[],a=[];t=t||{},dt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Ee(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],_t.forEach(function(t){e[t]=n[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,r,s,l,u,c,h,d,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=ae(o),(s=se(n))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(f=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=le(s)),a.length){var p;if(!(p=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Te(e),s=p}Ee(e,s),e.samples=ue(s),u=$.mdat(ce(s)),e.baseMediaDecodeTime=Se(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),h=s[0],d=s[s.length-1],this.trigger("segmentTimingInfo",Tt(e.baseMediaDecodeTime,h.dts,h.pts,d.dts+d.duration,d.pts+d.duration,f)),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=$.moof(i,[e]),c=new Uint8Array(l.byteLength+u.byteLength),i++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:e,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Te(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var n,r,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(o=this.gopCache_[a]).gop,e.pps&&wt(e.pps[0],o.pps[0])&&e.sps&&wt(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,o,s,l,u;for(o=e.byteLength,s=e.nalCount,l=e.duration,t=n=0;t<a.length&&n<e.length&&(r=a[t],i=e[n],r.pts!==i.pts);)i.pts>r.pts?t++:(n++,o-=i.byteLength,s-=i.nalCount,l-=i.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=o,u.duration=l,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,o,s,l;for(t=a.length-1,n=e.length-1,o=null,s=!1;t>=0&&n>=0;){if(r=a[t],i=e[n],r.pts===i.pts){s=!0;break}r.pts>i.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(l=s?n:o))return e;var u=e.slice(l),c=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){a=e}}).prototype=new ie,(gt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps&&(this.keepOriginalTimestamps=e.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,gt.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new ie,gt.prototype.flush=function(e){var t,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,_t.forEach(function(e){a.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,bt.forEach(function(e){a.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,r=$.initSegment(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=t.startPts,this.keepOriginalTimestamps||(t.startTime-=s),t.startTime/=9e4,t.endTime=t.endPts,this.keepOriginalTimestamps||(t.endTime-=s),t.endTime/=9e4,a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=n.pts,this.keepOriginalTimestamps||(n.cueTime-=s),n.cueTime/=9e4,a.metadata.push(n);a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(pt=function(e){var t,n,r=this,i=!0;pt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new et.MetadataStream,t.aacStream=new mt,t.audioTimestampRolloverStream=new et.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new et.TimestampRolloverStream("timed-metadata"),t.adtsStream=new ot,t.coalesceStream=new gt(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(i){"timed-metadata"!==i.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new ft(n,e),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new et.MetadataStream,i.packetStream=new et.TransportPacketStream,i.parseStream=new et.TransportParseStream,i.elementaryStream=new et.ElementaryStream,i.videoTimestampRolloverStream=new et.TimestampRolloverStream("video"),i.audioTimestampRolloverStream=new et.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new et.TimestampRolloverStream("timed-metadata"),i.adtsStream=new ot,i.h264Stream=new vt,i.captionStream=new et.CaptionStream,i.coalesceStream=new gt(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream),i.elementaryStream.pipe(i.videoTimestampRolloverStream).pipe(i.h264Stream),i.elementaryStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.elementaryStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new dt(t,e),i.videoSegmentStream.on("timelineStartInfo",function(e){n&&(n.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new ft(n,e),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Te(n),e.keepOriginalTimestamps||(n.timelineStartInfo.baseMediaDecodeTime=r),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[],i.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Te(t),i.captionStream.reset(),e.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=r)),i.timedMetadataTimestampRolloverStream&&i.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=yt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new ie;var St,Et,xt={Transmuxer:pt,VideoSegmentStream:dt,AudioSegmentStream:ft,AUDIO_PROPERTIES:bt,VIDEO_PROPERTIES:_t,generateVideoSegmentTimingInfo:Tt},kt=K.parseType,Ct=function(e){return new Date(1e3*e-20828448e5)},Ot=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Pt=function(e){var t,n,r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=n)if(n=r.getUint32(t),t+=4,n<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[t]&31)}return i},It={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:St(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,r,i,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(r=6,i=0;i<s;i++)n=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;for(t=e[r],r++,i=0;i<t;i++)n=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:kt(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;r<e.byteLength;)n.compatibleBrands.push(kt(e.subarray(r,r+4))),r+=4;return n},dinf:function(e){return{boxes:St(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:St(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:kt(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:Pt(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,i={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(r+=4,i.creationTime=Ct(n.getUint32(r)),r+=8,i.modificationTime=Ct(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=8,i.duration=n.getUint32(r)):(i.creationTime=Ct(n.getUint32(r)),r+=4,i.modificationTime=Ct(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=4,i.duration=n.getUint32(r)),r+=4,t=n.getUint16(r),i.language+=String.fromCharCode(96+(t>>10)),i.language+=String.fromCharCode(96+((992&t)>>5)),i.language+=String.fromCharCode(96+(31&t)),i},mdia:function(e){return{boxes:St(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:St(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=St(e.subarray(28))[0]),n},moof:function(e){return{boxes:St(e)}},moov:function(e){return{boxes:St(e)}},mvex:function(e){return{boxes:St(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=Ct(t.getUint32(n)),n+=8,r.modificationTime=Ct(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=8,r.duration=t.getUint32(n)):(r.creationTime=Ct(t.getUint32(n)),n+=4,r.modificationTime=Ct(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=4,r.duration=t.getUint32(n)),n+=4,r.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=t.getUint32(n),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(t=24;i;t+=12,i--)r.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return r},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:St(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(t=8;i;t+=4,i--)r.chunkOffsets.push(n.getUint32(t));return r},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=n.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;r;t+=12,r--)i.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:St(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)r.entries.push(n.getUint32(t));return r},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(t=8;i;t+=8,i--)r.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return r},styp:function(e){return It.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=Ct(t.getUint32(n)),n+=8,r.modificationTime=Ct(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=8,r.duration=t.getUint32(n)):(r.creationTime=Ct(t.getUint32(n)),n+=4,r.modificationTime=Ct(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=4,r.duration=t.getUint32(n)),n+=4,n+=8,r.layer=t.getUint16(n),n+=2,r.alternateGroup=t.getUint16(n),n+=2,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,r.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.height=t.getUint16(n)+t.getUint16(n+2)/16,r},traf:function(e){return{boxes:St(e)}},trak:function(e){return{boxes:St(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],l=4&n.flags[1],u=8&n.flags[1],c=r.getUint32(4),h=8;for(i&&(n.dataOffset=r.getInt32(h),h+=4),o&&c&&(t={flags:Ot(e.subarray(h,h+4))},h+=4,a&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),u&&(t.compositionTimeOffset=r.getUint32(h),h+=4),n.samples.push(t),c--);c--;)t={},a&&(t.duration=r.getUint32(h),h+=4),s&&(t.size=r.getUint32(h),h+=4),l&&(t.flags=Ot(e.subarray(h,h+4)),h+=4),u&&(t.compositionTimeOffset=r.getUint32(h),h+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}},At={inspect:St=function(e){for(var t,n,r,i,o,a=0,s=[],l=new ArrayBuffer(e.length),u=new Uint8Array(l),c=0;c<e.length;++c)u[c]=e[c];for(t=new DataView(l);a<e.byteLength;)n=t.getUint32(a),r=kt(e.subarray(a+4,a+8)),i=n>1?a+n:e.byteLength,(o=(It[r]||function(e){return{data:e}})(e.subarray(a+8,i))).size=n,o.type=r,s.push(o),a=i;return s},textify:Et=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map(function(e,r){return n+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var r=n+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map(function(e){return n+"  "+e}).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:n+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+Et(e.boxes,t+1):"")}).join("\n")},parseTfdt:It.tfdt,parseHdlr:It.hdlr,parseTfhd:It.tfhd,parseTrun:It.trun,parseSidx:It.sidx},Rt=Oe,Lt=Ne.CaptionStream,Mt=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},Dt=function(e,t){var n=K.findBox(e,["moof","traf"]),r=K.findBox(e,["mdat"]),i={},o=[];return r.forEach(function(e,t){var r=n[t];o.push({mdat:e,traf:r})}),o.forEach(function(e){var n,r=e.mdat,o=e.traf,a=K.findBox(o,["tfhd"]),s=At.parseTfhd(a[0]),l=s.trackId,u=K.findBox(o,["tfdt"]),c=u.length>0?At.parseTfdt(u[0]).baseMediaDecodeTime:0,h=K.findBox(o,["trun"]);t===l&&h.length>0&&(n=function(e,t,n){var r,i,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(i=0;i+4<e.length;i+=o)if(o=s.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var u=e.subarray(i+1,i+1+o),c=Mt(i,t);r={nalUnitType:"sei_rbsp",size:o,data:u,escapedRBSP:Rt(u),trackId:n},c?(r.pts=c.pts,r.dts=c.dts,a=c):(r.pts=a.pts,r.dts=a.dts),l.push(r)}return l}(r,function(e,t,n){var r=t,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return e.forEach(function(e){var t=At.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration}),s=s.concat(t)}),s}(h,c,s),l),i[l]||(i[l]=[]),i[l]=i[l].concat(n))}),i},Nt={generator:$,probe:K,Transmuxer:xt.Transmuxer,AudioSegmentStream:xt.AudioSegmentStream,VideoSegmentStream:xt.VideoSegmentStream,CaptionParser:function(){var e,t,n,r,i,o=!1;this.isInitialized=function(){return o},this.init=function(){e=new Lt,o=!0,e.on("data",function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&r===t[n])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))n=o[0],r=a[n];else if(!n||!r)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,a)}return null!==(s=function(e,t,n){return t?{seiNals:Dt(e,t)[t],timescale:n}:null}(e,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},jt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ut=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ft=function(){function e(t,n){jt(this,e),this.options=n||{},this.self=t,this.init()}return Ut(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Nt.Transmuxer(this.options),function(e,t){t.on("data",function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])}),t.captionStream&&t.captionStream.on("data",function(t){e.postMessage({action:"caption",data:t})}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})})}(this.self,this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}();new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new Ft(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new Ft(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(n)}()}),Oa={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Pa=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})})},Ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={codecCount:0},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,(n=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t},Aa=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'},Ra=function(e,t){var n=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"}(t),r=function(e){var t=e.attributes||{};return t.CODECS?Ia(t.CODECS):Oa}(t),i=t.attributes||{},o=!0,a=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&i.AUDIO){var s=e.mediaGroups.AUDIO[i.AUDIO];if(s)for(var l in a=!0,o=!1,s)if(!s[l].uri&&!s[l].playlists){o=!0;break}}a&&!r.audioProfile&&(o||(r.audioProfile=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return Ia(i.playlists[0].attributes.CODECS).audioProfile}return null}(e,i.AUDIO)),r.audioProfile||(go.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=Oa.audioProfile));var u={};r.videoCodec&&(u.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(u.audio="mp4a.40."+r.audioProfile);var c=Aa("audio",n,[u.audio]),h=Aa("video",n,[u.video]),d=Aa("video",n,[u.video,u.audio]);return a?!o&&u.video?[h,c]:o||u.video?[d,c]:[c,c]:u.video?[d]:[c]},La=function(e){return/mp4a\.\d+.\d+/i.test(e)},Ma=function(e){return/avc1\.[\da-f]+/i.test(e)},Da=function(e,t,n){if(null==t||!e.length)return[];var r=Math.ceil(9e4*(t-n+3)),i=void 0;for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)},Na=function(e,t,n){var r=null,i=null,o=0,a=[],s=[];if(!e&&!t)return go.createTimeRange();if(!e)return t.buffered;if(!t)return e.buffered;if(n)return e.buffered;if(0===e.buffered.length&&0===t.buffered.length)return go.createTimeRange();for(var l=e.buffered,u=t.buffered,c=l.length;c--;)a.push({time:l.start(c),type:"start"}),a.push({time:l.end(c),type:"end"});for(c=u.length;c--;)a.push({time:u.start(c),type:"start"}),a.push({time:u.end(c),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),c=0;c<a.length;c++)"start"===a[c].type?2===++o&&(r=a[c].time):"end"===a[c].type&&1===--o&&(i=a[c].time),null!==r&&null!==i&&(s.push([r,i]),r=null,i=null);return go.createTimeRanges(s)},ja=function(e){function t(e,n){_o(this,t);var r=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,go.EventTarget));r.timestampOffset_=0,r.pendingBuffers_=[],r.bufferUpdating_=!1,r.mediaSource_=e,r.codecs_=n,r.audioCodec_=null,r.videoCodec_=null,r.audioDisabled_=!1,r.appendAudioInitSegment_=!0,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=go.browser.IE_VERSION>=11;var i={remux:!1,alignGopsAtEnd:r.safeAppend_};return r.codecs_.forEach(function(e){La(e)?r.audioCodec_=e:Ma(e)&&(r.videoCodec_=e)}),r.transmuxer_=new Ca,r.transmuxer_.postMessage({action:"init",options:i}),r.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):"videoSegmentTimingInfo"===e.data.action?r.videoSegmentTimingInfo_(e.data.videoSegmentTimingInfo):void 0},Object.defineProperty(r,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(r,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(r,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(r,"buffered",{get:function(){return Na(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),r}return To(t,e),wo(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),function(e,t,n){var r=t.player_;if(n.captions&&n.captions.length)for(var i in e.inbandTextTracks_||(e.inbandTextTracks_={}),n.captionStreams)if(!e.inbandTextTracks_[i]){r.tech_.trigger({type:"usage",name:"hls-608"});var o=r.textTracks().getTrackById(i);e.inbandTextTracks_[i]=o||r.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)}(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"videoSegmentTimingInfo_",value:function(e){var t={start:{decode:e.start.dts/9e4,presentation:e.start.pts/9e4},end:{decode:e.end.dts/9e4,presentation:e.end.pts/9e4},baseMediaDecodeTime:e.baseMediaDecodeTime/9e4};e.prependedContentDuration&&(t.prependedContentDuration=e.prependedContentDuration/9e4),this.trigger({type:"videoSegmentTimingInfo",videoSegmentTimingInfo:t})}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var r=null;if(e.mediaSource_[n+"Buffer_"])(r=e.mediaSource_[n+"Buffer_"]).updating=!1;else{var i=n+'/mp4;codecs="'+e[n+"Codec_"]+'"';r=function(e,t){var n=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=n;var i=function(e){"function"==typeof n[e]?r[e]=function(){return n[e].apply(n,arguments)}:void 0===r[e]&&Object.defineProperty(r,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var o in n)i(o);return r}(e.mediaSource_.nativeMediaSource_,i),e.mediaSource_[n+"Buffer_"]=r}e[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(i){r.addEventListener(i,function(){if("audio"!==n||!e.audioDisabled_)return"updateend"===i&&(e[n+"Buffer_"].updating=!1),t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||(n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)})?e.trigger(i):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Da(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=function(e,t,n,r){for(var i=Math.ceil(9e4*(t-r)),o=Math.ceil(9e4*(n-r)),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var l=s+1;l--&&!(e[l].pts<=i););return l=Math.max(l,0),a.splice(l,s-l+1),a}(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),fa(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)fa(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,r=t.data,i=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=i,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),ga(this,e.captions,e.metadata),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(r)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(go.EventTarget),Ua=function(e){function t(){_o(this,t);var e=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=void 0;for(n in e.nativeMediaSource_=new v.a.MediaSource,e.nativeMediaSource_)n in t.prototype||"function"!=typeof e.nativeMediaSource_[n]||(e[n]=e.nativeMediaSource_[n].bind(e.nativeMediaSource_));return e.duration_=NaN,Object.defineProperty(e,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){this.duration_=e,e===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(e,"seekable",{get:function(){return this.duration_===1/0?go.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(e,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(e,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),e.sourceBuffers=[],e.activeSourceBuffers_=[],e.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,r=!0,i=0;i<e.player_.audioTracks().length;i++){var o=e.player_.audioTracks()[i];if(o.enabled&&"main"!==o.kind){n=!0,r=!1;break}}e.sourceBuffers.forEach(function(t,i){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=i?r:!r,t.audioDisabled_))return;e.activeSourceBuffers_.push(t)})},e.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},e.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},e.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},e),e.on("sourceopen",function(t){var n=b.a.querySelector('[src="'+e.url_+'"]');n&&(e.player_=go(n.parentNode),e.player_&&(e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_)))}),e.on("sourceended",function(t){for(var n=pa(e.duration),r=0;r<e.sourceBuffers.length;r++){var i=e.sourceBuffers[r],o=i.metadataTrack_&&i.metadataTrack_.cues;o&&o.length&&(o[o.length-1].endTime=n)}}),e.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),e}return To(t,e),wo(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw(n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach(function(e){var n=e.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),i=n[1].replace(/"/g,"").trim();t.parameters[r]=i}}),t}(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(r=Pa(r)).filter(function(e){return La(e)||Ma(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new ja(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(go.EventTarget),Fa=0;go.mediaSources={};var Ba=function(e,t){var n=go.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},za=function(){return!!v.a.MediaSource&&!!v.a.MediaSource.isTypeSupported&&v.a.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},Ha=function(){if(this.MediaSource={open:Ba,supportsNativeMediaSources:za},za())return new Ua;throw new Error("Cannot use create a virtual MediaSource for this video")};Ha.open=Ba,Ha.supportsNativeMediaSources=za;var Va={createObjectURL:function(e){var t=void 0;return e instanceof Ua?(t=v.a.URL.createObjectURL(e.nativeMediaSource_),e.url_=t,t):e instanceof Ua?(t="blob:vjs-media-source/"+Fa,Fa++,go.mediaSources[t]=e,t):(t=v.a.URL.createObjectURL(e),e.url_=t,t)}};go.MediaSource=Ha,go.URL=Va;var Wa=go.EventTarget,Ga=go.mergeOptions,qa=function(e,t){for(var n=void 0,r=Ga(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),i=0;i<t.playlists.length;i++){var o=Po(r,t.playlists[i]);o?r=o:n=!0}return Oo(t,function(e,t,i,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].uri,s=Po(r,e.playlists[0]);s&&((r=s).mediaGroups[t][i][o].playlists[0]=r.playlists[a],n=!1)}}),n?null:r},$a=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3];_o(this,t);var o=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=r.withCredentials,s=void 0!==a&&a,l=r.handleManifestRedirects,u=void 0!==l&&l;if(o.hls_=n,o.withCredentials=s,o.handleManifestRedirects=u,!e)throw new Error("A non-empty playlist URL or playlist is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_()}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"==typeof e?(o.srcUrl=e,So(o)):(o.setupChildLoader(i,e),o)}return To(t,Wa),wo(t,[{key:"setupChildLoader",value:function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t}},{key:"dispose",value:function(){this.stopRequest(),this.loadedPlaylists_={},v.a.clearTimeout(this.mediaUpdateTimeout)}},{key:"hasPendingRequest",value:function(){return this.request||this.mediaRequest_}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var t=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var n=!this.media_||e.uri!==this.media_.uri;if(n&&this.loadedPlaylists_[e.uri]&&this.loadedPlaylists_[e.uri].endList)return this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));n&&(this.media_&&this.trigger("mediachanging"),this.mediaRequest_=v.a.setTimeout(this.haveMetadata.bind(this,{startingState:t,playlist:e}),0))}},{key:"haveMetadata",value:function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.media_=n,this.loadedPlaylists_[n.uri]=n,this.mediaRequest_=null,this.refreshMedia_(),"HAVE_MASTER"===t?this.trigger("loadedmetadata"):this.trigger("mediachange")}},{key:"pause",value:function(){this.stopRequest(),v.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(e){var t=this;v.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=v.a.setTimeout(function(){return t.load()},r)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var e=Object(B.a)(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});e.uri=this.srcUrl;for(var t=0;t<e.playlists.length;t++){var n="placeholder-uri-"+t;e.playlists[t].uri=n,e.playlists[n]=e.playlists[t]}return Oo(e,function(t,n,r,i){if(t.playlists&&t.playlists.length){var o="placeholder-uri-"+n+"-"+r+"-"+i;t.playlists[0].uri=o,e.playlists[o]=t.playlists[0]}}),Io(e),Ao(e),e}},{key:"start",value:function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=v.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?e.masterLoaded_=Date.parse(n.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=bo(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}})}},{key:"syncClientServerClock_",value:function(e){var t=this,n=Object(B.b)(this.masterXml_);return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),e()):void(this.request=this.hls_.xhr({uri:yo(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},function(r,i){if(t.request){if(r)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var o=void 0;o="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.clientOffset_=o-Date.now(),e()}}))}},{key:"haveMaster_",value:function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.master=this.parseMasterXml(),this.trigger("loadedplaylist"))}},{key:"onClientServerClockSync_",value:function(){var e=this;this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.master&&this.master.minimumUpdatePeriod&&v.a.setTimeout(function(){e.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var e=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText;var r=e.parseMasterXml(),i=qa(e.master,r);i&&(e.master=i),v.a.setTimeout(function(){e.trigger("minimumUpdatePeriod")},e.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var e=this,t=void 0,n=void 0;this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(t=this.master,n=this.parseMasterXml());var r=qa(t,n);r?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=r:this.master=r,this.media_=r.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=v.a.setTimeout(function(){e.trigger("mediaupdatetimeout")},Ro(this.media(),!!r))),this.trigger("loadedplaylist")}}]),t}(),Xa=function(e){return go.log.debug?go.log.debug.bind(go,"VHS:",e+" >"):function(){}};function Ka(){}var Ya=function(){function e(t,n,r,i){_o(this,e),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,this.type_=r,this.mimeType_=n,this.logger_=Xa("SourceUpdater["+r+"]["+n+"]"),"closed"===t.readyState?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,n,i)):this.createSourceBuffer_(n,i)}return wo(e,[{key:"createSourceBuffer_",value:function(e,t){var n=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(e),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?t.on("sourcebufferadded",function(){n.start_()}):this.start_()}},{key:"start_",value:function(){var e=this;this.started_=!0,this.onUpdateendCallback_=function(){var t=e.pendingCallback_;e.pendingCallback_=null,e.logger_("buffered ["+ha(e.buffered())+"]"),t&&t(),e.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.addEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),n.sourceBuffer_.appendBuffer(e.bytes)},function(){e.videoSegmentTimingInfoCallback&&n.sourceBuffer_.removeEventListener("videoSegmentTimingInfo",e.videoSegmentTimingInfoCallback),t()})}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:go.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ka;this.processedAppend_&&this.queueCallback_(function(){n.logger_("remove ["+e+" => "+t+"]"),n.sourceBuffer_.remove(e,t)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||!!this.pendingCallback_&&this.pendingCallback_!==Ka}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}(),Za={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Qa=2,Ja=-101,es=-102,ts=function(e){var t,n,r={};return e.byterange&&(r.Range=(t=e.byterange,n=t.offset+t.length-1,"bytes="+t.offset+"-"+n)),r},ns=function(e){e.forEach(function(e){e.abort()})},rs=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Ja,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:es,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Qa,xhr:t}:null},is=function(e,t,n){var r=0,i=!1;return function(o,a){if(!i)return o?(i=!0,ns(e),n(o,a)):(r+=1)===e.length?(a.endOfAllRequests=Date.now(),a.encryptedBytes?function(e,t,n){e.addEventListener("message",function r(i){if(i.data.source===t.requestId){e.removeEventListener("message",r);var o=i.data.decrypted;return t.bytes=new Uint8Array(o.bytes,o.byteOffset,o.byteLength),n(null,t)}}),e.postMessage(na({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])}(t,a,n):n(null,a)):void 0}},os=function(e,t){return function(n){var r,i,o;return e.stats=go.mergeOptions(e.stats,(i=(r=n).target,(o={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-i.requestTime||0}).bytesReceived=r.loaded,o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3),o)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}},as=function(e,t,n,r,i,o,a){var s=[],l=is(s,n,a);if(i.key){var u=e(go.mergeOptions(t,{uri:i.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(n,r){var i=r.response,o=rs(n,r);if(o)return t(o,e);if(16!==i.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:Qa,xhr:r},e);var a=new DataView(i);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(i,l));s.push(u)}if(i.map&&!i.map.bytes){var c=e(go.mergeOptions(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:ts(i.map)}),function(e,t,n){return function(r,i){var o=i.response,a=rs(r,i);return a?n(a,e):0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:Qa,xhr:i},e):(e.map.bytes=new Uint8Array(i.response),t.isInitialized()||t.init(),e.map.timescales=H.a.timescale(e.map.bytes),e.map.videoTrackIds=H.a.videoTrackIds(e.map.bytes),n(null,e))}}(i,r,l));s.push(c)}var h=e(go.mergeOptions(t,{uri:i.resolvedUri,responseType:"arraybuffer",headers:ts(i)}),function(e,t,n){return function(r,i){var o=i.response,a=rs(r,i),s=void 0;return a?n(a,e):0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:Qa,xhr:i},e):(e.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),e.key?e.encryptedBytes=new Uint8Array(i.response):e.bytes=new Uint8Array(i.response),e.map&&e.map.bytes&&(t.isInitialized()||t.init(),(s=t.parse(e.bytes,e.map.videoTrackIds,e.map.timescales))&&s.captions&&(e.captionStreams=s.captionStreams,e.fmp4Captions=s.captions)),n(null,e))}}(i,r,l));return h.addEventListener("progress",os(i,o)),s.push(h),function(){return ns(s)}},ss=function(e,t){var n;return e&&(n=v.a.getComputedStyle(e))?n[t]:""},ls=function(e,t){var n=e.slice();e.sort(function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i})},us=function(e,t){var n=void 0,r=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||v.a.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),n-(r=r||v.a.Number.MAX_VALUE)},cs=function(e,t,n){if(!e||!t)return!1;var r=n===e.segments.length;return e.endList&&"open"===t.readyState&&r},hs=function(e){return"number"==typeof e&&isFinite(e)},ds=function(e){function t(e){_o(this,t);var n=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=e.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=e.hasPlayed,n.currentTime_=e.currentTime,n.seekable_=e.seekable,n.seeking_=e.seeking,n.duration_=e.duration,n.mediaSource_=e.mediaSource,n.hls_=e.hls,n.loaderType_=e.loaderType,n.startingMedia_=void 0,n.segmentMetadataTrack_=e.segmentMetadataTrack,n.goalBufferLength_=e.goalBufferLength,n.sourceType_=e.sourceType,n.inbandTextTracks_=e.inbandTextTracks,n.state_="INIT",n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.mimeType_=null,n.sourceUpdater_=null,n.xhrOptions_=null,n.activeInitSegmentId_=null,n.initSegments_={},n.captionParser_=new V.CaptionParser,n.decrypter_=e.decrypter,n.syncController_=e.syncController,n.syncPoint_={segmentIndex:0,time:0},n.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),n.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),n.fetchAtBuffer_=!1,n.logger_=Xa("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(n,"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e)}}),n}return To(t,e),wo(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():go.createTimeRanges()}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ra(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,timescales:e.timescales,videoTrackIds:e.videoTrackIds}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Ya(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(n&&n.uri===e.uri){var o=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),r&&(r.mediaIndex-=o,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(v.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e,t){this.mimeType_||(this.mimeType_=e,this.sourceBufferEmitter_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(e){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),e),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t,n){if(this.sourceUpdater_&&this.sourceUpdater_.remove(e,t,n),fa(e,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)fa(e,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&v.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.a.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&v.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.a.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(this.isEndOfStream_(e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(e)))}}},{key:"isEndOfStream_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.playlist_;return cs(t,this.mediaSource_,e)&&!this.sourceUpdater_.updating()}},{key:"checkBuffer_",value:function(e,t,n,r,i,o){var a=0,s=void 0;e.length&&(a=e.end(e.length-1));var l=Math.max(0,a-i);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!r&&l>=1)return null;if(null===o)return n=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){var u=t.segments[n];return s=u&&u.end?u.end:a,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var c=Ko.getMediaInfoForTime(t,a,o.segmentIndex,o.time);n=c.mediaIndex,s=c.startTime}else{var h=Ko.getMediaInfoForTime(t,i,o.segmentIndex,o.time);n=h.mediaIndex,s=h.startTime}return this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:i.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:i.timeline,duration:i.duration,segment:i}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=Ko.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.length?e.end(e.length-1):0;return(r-t)/n}(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(i<=o)return!1;var a=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,i=e.duration,o=e.segmentDuration,a=e.timeUntilRebuffer,s=e.currentTimeline,l=e.syncController,u=t.playlists.filter(function(e){return!Ko.isIncompatible(e)}),c=u.filter(Ko.isEnabled);c.length||(c=u.filter(function(e){return!Ko.isDisabled(e)}));var h=c.filter(Ko.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=l.getSyncPoint(e,i,s,n)?1:2;return{playlist:e,rebufferingImpact:Ko.estimateSegmentRequestTime(o,r,e)*t-a}}),d=h.filter(function(e){return e.rebufferingImpact<=0});return ls(d,function(e,t){return us(t.playlist,e.playlist)}),d.length?d[0]:(ls(h,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=i-o-a.rebufferingImpact,l=.5;return o<=1/30&&(l=1),!a.playlist||a.playlist.uri===this.playlist_.uri||s<l?!1:(this.bandwidth=a.playlist.attributes.BANDWIDTH*Za.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=as(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=function(e,t,n){var r=void 0;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===es?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===Ja?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,e.fmp4Captions&&(!function(e,t,n){for(var r in n)if(!e[r]){t.trigger({type:"usage",name:"hls-608"});var i=t.textTracks().getTrackById(r);e[r]=i||t.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,e.captionStreams),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var i=window.WebKitDataCue||window.VTTCue;n.forEach(function(e){var n=e.stream,o=e.startTime,a=e.endTime;t[n]&&(o+=r,a+=r,t[n].addCue(new i(o,a,e.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:e.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_){var t=this.pendingSegment_,n=t.segment,r=this.syncController_.probeSegmentInfo(t);void 0===this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var i,o,a,s=(i=this.loaderType_,o=this.startingMedia_,a=r,"main"===i&&o&&a?a.containsAudio||a.containsVideo?o.containsVideo&&!a.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!o.containsVideo&&a.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(s)return this.error({message:s,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var l=this.syncController_.mappingForTimeline(t.timeline);if(null!==l&&this.trigger({type:"segmenttimemapping",mapping:l}),this.state="APPENDING",n.map){var u=ra(n.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==u){var c=this.initSegment(n.map);this.sourceUpdater_.appendBuffer({bytes:c.bytes},function(){e.activeInitSegmentId_=u})}}t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.logger_(function(e){var t=e.segment,n=t.start,r=t.end,i=e.playlist,o=i.mediaSequence,a=i.id,s=i.segments,l=void 0===s?[]:s,u=e.mediaIndex,c=e.timeline;return["appending ["+u+"] of ["+o+", "+(o+l.length)+"] from playlist ["+a+"]","["+n+" => "+r+"] in timeline ["+c+"]"].join(" ")}(t)),this.sourceUpdater_.appendBuffer({bytes:t.bytes,videoSegmentTimingInfoCallback:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId)},this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleVideoSegmentTimingInfo_",value:function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=t.videoSegmentTimingInfo.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=t.videoSegmentTimingInfo.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=t.videoSegmentTimingInfo.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=t.videoSegmentTimingInfo.baseMediaDecodeTime}}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(n&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.isEndOfStream_(e.mediaIndex+1,e.playlist)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(hs(n)&&hs(r)){fa(n,r,this.segmentMetadataTrack_);var i=v.a.WebKitDataCue||v.a.VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},a=new i(n,r,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}}}]),t}(go.EventTarget),fs=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},ps=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),gs=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_o(this,t);var r=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.mediaSource_=null,r.subtitlesTrack_=null,r}return To(t,ds),wo(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return go.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return go.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=ra(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=ps.byteLength+e.bytes.byteLength,o=new Uint8Array(i);o.set(e.bytes),o.set(ps,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){fa(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof v.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){e.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",r),void this.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",r),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(t)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof v.a.TextDecoder?t=new v.a.TextDecoder("utf8"):(t=v.a.WebVTT.StringDecoder(),n=!0);var r=new v.a.WebVTT.Parser(v.a,v.a.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){go.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var i=e.segment.map.bytes;n&&(i=fs(i)),r.parse(i)}var o=e.bytes;n&&(o=fs(o)),r.parse(o),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,o=i.MPEGTS/9e4-i.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=o,e.endTime+=o}),!n.syncInfo){var a=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(a,s-r.duration)}}}else r.empty=!0}}]),t}(),ms=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},vs=G.a.inspect,ys=[{name:"VOD",run:function(e,t,n,r,i){if(n!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!e.datetimeToDisplayTime)return null;var o=t.segments||[],a=null,s=null;i=i||0;for(var l=0;l<o.length;l++){var u=o[l];if(u.dateTimeObject){var c=u.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,h=Math.abs(i-c);if(null!==s&&s<h)break;s=h,a={time:c,segmentIndex:l}}}return a}},{name:"Segment",run:function(e,t,n,r,i){var o=t.segments||[],a=null,s=null;i=i||0;for(var l=0;l<o.length;l++){var u=o[l];if(u.timeline===r&&void 0!==u.start){var c=Math.abs(i-u.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:u.start,segmentIndex:l})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,c=e.discontinuities[u];if(c){var h=Math.abs(i-c.time);if(null!==a&&a<h)break;(!o||null===a||a>=h)&&(a=h,o={time:c.time,segmentIndex:l})}}return o}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],bs=function(e){function t(){_o(this,t);var e=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.inspectCache_=void 0,e.timelines=[],e.discontinuities=[],e.datetimeToDisplayTime=null,e.logger_=Xa("SyncController"),e}return To(t,e),wo(t,[{key:"getSyncPoint",value:function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+jo(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,r){for(var i=[],o=0;o<ys.length;o++){var a=ys[o],s=a.run(this,e,t,n,r);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}))}return i}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<r&&(r=a,n=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;n>=0;n--){var r=e.segments[n];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,r=void 0;return(r=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,r)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),r}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=H.a.timescale(t.map.bytes),r=H.a.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=vs(e.bytes,this.inspectCache_),n=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:n,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]"),n.start=e.startOfSegment,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i=t.discontinuityStarts[r],o=t.discontinuitySequence+r+1,a=i-e.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var l=void 0;l=a<0?n.start-jo(t,e.mediaIndex,i):n.end+jo(t,e.mediaIndex+1,i),this.discontinuities[o]={time:l,accuracy:s}}}}}]),t}(go.EventTarget),_s=new Ta("./decrypter-worker.worker.js",function(e,t){var n=this;!function(){var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],i=n[4],o=void 0,a=void 0,s=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,f=void 0,p=void 0;for(o=0;o<256;o++)u[(l[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!r[a];a^=c||1,s=u[s]||1)for(d=(d=s^s<<1^s<<2^s<<3^s<<4)>>8^255&d^99,r[a]=d,i[d]=a,p=16843009*l[h=l[c=l[a]]]^65537*h^257*c^16843008*a,f=257*l[d]^16843008*d,o=0;o<4;o++)t[o][a]=f=f<<24^f>>>8,n[o][d]=p=p<<24^p>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),n[o]=n[o].slice(0);return e},o=null,a=function(){function t(n){e(this,t),o||(o=i()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=this._tables[0][4],h=this._tables[1],d=n.length,f=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(l=n.slice(0),u=[],this._key=[l,u],r=d;r<4*d+28;r++)s=l[r-1],(r%d==0||8===d&&r%d==4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],r%d==0&&(s=s<<8^s>>>24^f<<24,f=f<<1^283*(f>>7))),l[r]=l[r-d]^s;for(a=0;r;a++,r--)s=l[3&a?r:r-4],u[a]=r<=4||a<4?s:h[0][c[s>>>24]]^h[1][c[s>>16&255]]^h[2][c[s>>8&255]]^h[3][c[255&s]]}return t.prototype.decrypt=function(e,t,n,r,i,o){var a=this._key[1],s=e^a[0],l=r^a[1],u=n^a[2],c=t^a[3],h=void 0,d=void 0,f=void 0,p=a.length/4-2,g=void 0,m=4,v=this._tables[1],y=v[0],b=v[1],_=v[2],w=v[3],T=v[4];for(g=0;g<p;g++)h=y[s>>>24]^b[l>>16&255]^_[u>>8&255]^w[255&c]^a[m],d=y[l>>>24]^b[u>>16&255]^_[c>>8&255]^w[255&s]^a[m+1],f=y[u>>>24]^b[c>>16&255]^_[s>>8&255]^w[255&l]^a[m+2],c=y[c>>>24]^b[s>>16&255]^_[l>>8&255]^w[255&u]^a[m+3],m+=4,s=h,l=d,u=f;for(g=0;g<4;g++)i[(3&-g)+o]=T[s>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^a[m++],h=s,s=l,l=u,u=c,c=h},t}(),s=function(){function t(){e(this,t),this.listeners={}}return t.prototype.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.prototype.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1},t.prototype.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(e){this.on("data",function(t){e.push(t)})},t}(),l=function(t){function n(){e(this,n);var i=r(this,t.call(this,s));return i.jobs=[],i.delay=1,i.timeout_=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},n.prototype.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(s),u=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},c=function(){function n(t,r,i,o){e(this,n);var a=n.STEP,s=new Int32Array(t.buffer),c=new Uint8Array(t.byteLength),h=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+a),r,i,c)),h=a;h<s.length;h+=a)i=new Uint32Array([u(s[h-4]),u(s[h-3]),u(s[h-2]),u(s[h-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(h,h+a),r,i,c));this.asyncStream_.push(function(){var e;o(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))})}return n.prototype.decryptChunk_=function(e,t,n,r){return function(){var i=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),i=new a(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),s=new Int32Array(o.buffer),l=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,g=void 0,m=void 0,v=void 0;for(l=n[0],c=n[1],h=n[2],d=n[3],v=0;v<r.length;v+=4)f=u(r[v]),p=u(r[v+1]),g=u(r[v+2]),m=u(r[v+3]),i.decrypt(f,p,g,m,s,v),s[v]=u(s[v]^l),s[v+1]=u(s[v+1]^c),s[v+2]=u(s[v+2]^h),s[v+3]=u(s[v+3]^d),l=f,c=p,h=g,d=m;return o}(e,t,n);r.set(i,e.byteOffset)}},t(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}();new function(e){e.onmessage=function(t){var n=t.data,r=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),i=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new c(r,i,o,function(t,r){var i,o;e.postMessage((i={source:n.source,decrypted:r},o={},Object.keys(i).forEach(function(e){var t=i[e];ArrayBuffer.isView(t)?o[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:o[e]=t}),o),[r.buffer])})}}(n)}()}),ws=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Ts=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Ss=function(e,t){t.activePlaylistLoader=e,e.load()},Es={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],i=t.blacklistCurrentPlaylist;Ts(n,r);var o=r.activeTrack(),a=r.activeGroup(),s=(a.filter(function(e){return e.default})[0]||a[0]).id,l=r.tracks[s];if(o!==l){for(var u in go.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),r.tracks)r.tracks[u].enabled=r.tracks[u]===l;r.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];go.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ts(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},xs={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",Es[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();o.playlist(e,i),o.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()}),t.on("loadedplaylist",function(){o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",Es[e](e,n))}},ks=function(e,t){return function(n){return n.attributes[e]===t}},Cs=function(e){return function(t){return t.resolvedUri===e}},Os={AUDIO:function(e,t){var n=t.hls,r=t.sourceType,i=t.segmentLoaders[e],o=t.requestOptions,a=t.master,s=a.mediaGroups,l=a.playlists,u=t.mediaTypes[e],c=u.groups,h=u.tracks,d=t.masterPlaylistLoader;for(var f in s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}}),s[e]){c[f]||(c[f]=[]);var p=l.filter(ks(e,f));for(var g in s[e][f]){var m=s[e][f][g];p.filter(Cs(m.resolvedUri)).length&&delete m.resolvedUri;var v=void 0;if(v=m.resolvedUri?new Lo(m.resolvedUri,n,o):m.playlists&&"dash"===r?new $a(m.playlists[0],n,o,d):null,m=go.mergeOptions({id:g,playlistLoader:v},m),xs[e](e,m.playlistLoader,t),c[f].push(m),void 0===h[g]){var y=new go.AudioTrack({id:g,kind:ws(m),enabled:!1,language:m.language,default:m.default,label:g});h[g]=y}}}i.on("error",Es[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.hls,i=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,h=t.masterPlaylistLoader;for(var d in s[e])for(var f in u[d]||(u[d]=[]),s[e][d])if(!s[e][d][f].forced){var p=s[e][d][f],g=void 0;if("hls"===i?g=new Lo(p.resolvedUri,r,a):"dash"===i&&(g=new $a(p.playlists[0],r,a,h)),p=go.mergeOptions({id:f,playlistLoader:g},p),xs[e](e,p.playlistLoader,t),u[d].push(p),void 0===c[f]){var m=n.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=m}}o.on("error",Es[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],o=i.groups,a=i.tracks;for(var s in r[e])for(var l in o[s]||(o[s]=[]),r[e][s]){var u=r[e][s][l];if(u.instreamId.match(/CC\d/)&&(o[s].push(go.mergeOptions({id:l},u)),void 0===a[l])){var c=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:l},!1).track;a[l]=c}}}},Ps={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}},Is=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){Os[t](t,e)});var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.hls;["AUDIO","SUBTITLES"].forEach(function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.masterPlaylistLoader,i=t.mediaTypes[e].groups,o=r.media();if(!o)return null;var a=null;return o.attributes[e]&&(a=i[o.attributes[e]]),a=a||i.main,void 0===n?a:null===n?null:a.filter(function(e){return e.id===n.id})[0]||null}}(n,e),t[n].activeTrack=Ps[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;Ts(r,o),s&&(s.playlistLoader?(r.resyncLoader(),Ss(s.playlistLoader,o)):l&&i.resetEverything())}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),l=o.activePlaylistLoader;Ts(r,o),s&&(s.playlistLoader?l!==s.playlistLoader?(r.track&&r.track(a),r.resetEverything(),Ss(s.playlistLoader,o)):Ss(s.playlistLoader,o):i.resetEverything())}}(n,e)});var o=t.AUDIO.activeGroup(),a=(o.filter(function(e){return e.default})[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};for(var l in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[l])},As=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ka,activeTrack:Ka,onGroupChanged:Ka,onTrackChanged:Ka}}),e},Rs=void 0,Ls=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Ms=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Ds=function(e){function t(e){_o(this,t);var n=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r=e.url,i=e.handleManifestRedirects,o=e.withCredentials,a=e.tech,s=e.bandwidth,l=e.externHls,u=e.useCueTags,c=e.blacklistDuration,h=e.enableLowInitialPlaylist,d=e.sourceType,f=e.seekTo;if(!r)throw new Error("A non-empty playlist URL is required");Rs=l,n.withCredentials=o,n.tech_=a,n.hls_=a.hls,n.seekTo_=f,n.sourceType_=d,n.useCueTags_=u,n.blacklistDuration=c,n.enableLowInitialPlaylist=h,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:i,timeout:null},n.mediaTypes_=As(),n.mediaSource=new go.MediaSource,n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_.bind(n)),n.seekable_=go.createTimeRanges(),n.hasPlayed_=function(){return!1},n.syncController_=new bs(e),n.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new _s,n.inbandTextTracks_={};var p={hls:n.hls_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:s,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new $a(r,n.hls_,n.requestOptions_):new Lo(r,n.hls_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new ds(go.mergeOptions(p,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),e),n.audioSegmentLoader_=new ds(go.mergeOptions(p,{loaderType:"audio"}),e),n.subtitleSegmentLoader_=new gs(go.mergeOptions(p,{loaderType:"vtt"}),e),n.setupSegmentLoaderListeners_(),Ls.forEach(function(e){n[e+"_"]=Ms.bind(n,e)}),n.logger_=Xa("MPC"),n.masterPlaylistLoader_.load(),n}return To(t,e),wo(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;Xo(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),Is({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(t){return go.log.warn("Failed to create SourceBuffers",t),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){e.excludeUnsupportedVariants_();var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}if(e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||(e.mainSegmentLoader_.load(),e.audioSegmentLoader_&&e.audioSegmentLoader_.load()),!t.endList){var r=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};if(e.duration()!==1/0){e.tech_.one("durationchange",function t(){e.duration()===1/0?r():e.tech_.one("durationchange",t)})}else r()}}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;Xo(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o]){n.AUDIO[o][a].uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Rs.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Rs.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),i=r.length?r.end(r.length-1)-e.tech_.currentTime():0,o=e.bufferLowWaterLine();(!n.endList||e.duration()<Za.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||i>=o)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var e=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){go.browser.IE_VERSION||go.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.seekTo_(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(go.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.seekTo_(n.end(0)),e.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return go.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e){this.logger_("calling mediaSource.endOfStream()");try{this.mediaSource.endOfStream()}catch(e){go.log.warn("Failed to call media source endOfStream",e)}}}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var n=Rs.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=.1;var o=i.end(i.length-1);return o-r<=.1&&n-o<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=void 0,r=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(qo).length;return i?(go.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),go.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=ua(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Rs.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&0!==(e=Rs.Playlist.seekable(n,r)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(r=this.syncController_.getExpiredTime(n,this.mediaSource.duration)))return;if(0===(t=Rs.Playlist.seekable(n,r)).length)return}var i=void 0,o=void 0;this.seekable_&&this.seekable_.length&&(i=this.seekable_.end(0),o=this.seekable_.start(0)),t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=go.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===i&&this.seekable_.start(0)===o||(this.logger_("seekable updated ["+ha(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=Rs.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),i=function t(){e.logger_("Setting duration from "+e.mediaSource.duration+" => "+n);try{e.mediaSource.duration=n}catch(e){go.log.warn("Failed to set media source duration",e)}e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",i):i())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=Ra(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(e),this.excludeIncompatibleVariants_(t)}}},{key:"configureLoaderMimeTypes_",value:function(e){var t=e.length>1&&-1===e[0].indexOf(",")&&e[0]!==e[1]?new go.EventTarget:null;this.mainSegmentLoader_.mimeType(e[0],t),e[1]&&this.audioSegmentLoader_.mimeType(e[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(e){var t;e.attributes.CODECS&&v.a.MediaSource&&v.a.MediaSource.isTypeSupported&&!v.a.MediaSource.isTypeSupported('video/mp4; codecs="'+(t=e.attributes.CODECS,t.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return Pa([e])[0]}))+'"')&&(e.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(e){var t=2,n=null,r=void 0;e.attributes.CODECS&&(r=Ia(e.attributes.CODECS),n=r.videoCodec,t=r.codecCount),this.master().playlists.forEach(function(e){var r={codecCount:2,videoCodec:null};e.attributes.CODECS&&(r=Ia(e.attributes.CODECS)),r.codecCount!==t&&(e.excludeUntil=1/0),r.videoCodec!==n&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.segments)for(var r=n,i=void 0,o=0;o<e.segments.length;o++){var a=e.segments[o];if(i||(i=ms(t,r+a.duration/2)),i){if("cueIn"in a){i.endTime=r,i.adEndTime=r,r+=a.duration,i=null;continue}if(r<i.endTime){r+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&((i=new v.a.VTTCue(r,r+a.duration,a.cueOut)).adStartTime=r,i.adEndTime=r+parseFloat(a.cueOut),t.addCue(i)),"cueOutCont"in a){var s=void 0,l=void 0,u=a.cueOutCont.split("/").map(parseFloat),c=Eo(u,2);s=c[0],l=c[1],(i=new v.a.VTTCue(r,r+a.duration,"")).adStartTime=r-s,i.adEndTime=i.adStartTime+l,t.addCue(i)}r+=a.duration}}(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=Za.GOAL_BUFFER_LENGTH,n=Za.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,Za.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=Za.BUFFER_LOW_WATER_LINE,n=Za.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,Za.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)}}]),t}(go.EventTarget),Ns=function e(t,n,r){_o(this,e);var i,o,a,s=t.masterPlaylistController_,l=s[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(s);if(n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=r,this.enabled=(i=t.playlists,o=n.uri,a=l,function(e){var t=i.master.playlists[o],n=Go(t),r=qo(t);return void 0===e?r:(e?delete t.disabled:t.disabled=!0,e===r||n||(a(),e?i.trigger("renditionenabled"):i.trigger("renditiondisabled")),e)})},js=["seeking","seeked","pause","playing","error"],Us=function(){function e(t){var n=this;_o(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.seekTo=t.seekTo,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Xa("PlaybackWatcher"),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},i=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",i),this.tech_.on(js,o),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",i),n.tech_.off(js,o),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&v.a.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return wo(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&v.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=v.a.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){if(!this.tech_.seeking())return!1;var e=this.seekable(),t=this.tech_.currentTime(),n=void 0;this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(n=e.end(e.length-1));this.beforeSeekableWindow_(e,t)&&(n=e.start(0)+.1);return void 0!==n&&(this.logger_("Trying to seek outside of seekable at time "+t+" with seekable range "+ha(e)+". Seeking to "+n+"."),this.seekTo(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=ua(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.seekTo(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),i=ca(r,t);if(this.videoUnderflow_(i,r,t))return this.cancelTimer_(),this.seekTo(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(i.length>0){var o=i.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+o+", seeking to "+i.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*o,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e.length)return!1;var i=e.end(e.length-1)+.1,o=!n.endList;return o&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-.1)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=ca(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.seekTo(r.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=function(e){if(e.length<2)return go.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return go.createTimeRanges(t)}(e),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:o}}return null}}]),e}(),Fs={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},Bs=function(e){!function e(t,n){var r=0,i=0,o=go.mergeOptions(Fs,n);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){i&&t.currentTime(i)},s=function(e){null!=e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},l=function(){if(Date.now()-r<1e3*o.errorInterval)t.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(o.getSource&&"function"==typeof o.getSource)return r=Date.now(),o.getSource.call(t,s);go.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function e(){t.off("loadedmetadata",a),t.off("error",l),t.off("dispose",e)};t.on("error",l),t.on("dispose",u),t.reloadSourceOnError=function(n){u(),e(t,n)}}(this,e)};go.use("*",function(e){return{setSource:function(e,t){t(null,e)},setCurrentTime:function(t){return e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(t),t},play:function(){e.vhs&&e.currentSource().src===e.vhs.source_.src&&e.vhs.setCurrentTime(e.tech_.currentTime())}}});var zs={PlaylistLoader:Lo,Playlist:Ko,Decrypter:ne,AsyncStream:J,decrypt:te,utils:oa,STANDARD_PLAYLIST_SELECTOR:function(){return function(e,t,n,r,i){var o=e.playlists.map(function(e){var t,n;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||v.a.Number.MAX_VALUE,width:t,height:n,playlist:e}});ls(o,function(e,t){return e.bandwidth-t.bandwidth});var a=(o=o.filter(function(e){return!Ko.isIncompatible(e.playlist)})).filter(function(e){return Ko.isEnabled(e.playlist)});a.length||(a=o.filter(function(e){return!Ko.isDisabled(e.playlist)}));var s=a.filter(function(e){return e.bandwidth*Za.BANDWIDTH_VARIANCE<t}),l=s[s.length-1],u=s.filter(function(e){return e.bandwidth===l.bandwidth})[0];if(!1===i){var c=u||a[0]||o[0];return c?c.playlist:null}var h=s.filter(function(e){return e.width&&e.height});ls(h,function(e,t){return e.width-t.width});var d=h.filter(function(e){return e.width===n&&e.height===r});l=d[d.length-1];var f=d.filter(function(e){return e.bandwidth===l.bandwidth})[0],p=void 0,g=void 0,m=void 0;f||(g=(p=h.filter(function(e){return e.width>n||e.height>r})).filter(function(e){return e.width===p[0].width&&e.height===p[0].height}),l=g[g.length-1],m=g.filter(function(e){return e.bandwidth===l.bandwidth})[0]);var y=m||f||u||a[0]||o[0];return y?y.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(ss(this.tech_.el(),"width"),10),parseInt(ss(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this.playlists.master.playlists.filter(Ko.isEnabled);return ls(e,function(e,t){return us(e,t)}),e.filter(function(e){return Ia(e.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:us,comparePlaylistResolution:function(e,t){var n=void 0,r=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||v.a.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),n===(r=r||v.a.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:Qo()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(zs,e,{get:function(){return go.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),Za[e]},set:function(t){go.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?go.log.warn("value of Hls."+e+" must be greater than or equal to 0"):Za[e]=t}})});var Hs=function(e){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e))return"hls";return/^application\/dash\+xml/i.test(e)?"dash":null},Vs=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.uri){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};zs.canPlaySource=function(){return go.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ws=function(e){if("dash"===e.options_.sourceType){var t=go.players[e.tech_.options_.playerId];if(t.eme){var n=function(e,t,n){if(!e)return e;var r={};for(var i in e)r[i]={audioContentType:'audio/mp4; codecs="'+n.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[i]&&t.contentProtection[i].pssh&&(r[i].pssh=t.contentProtection[i].pssh),"string"==typeof e[i]&&(r[i].url=e[i]);return go.mergeOptions(e,r)}(e.source_.keySystems,e.playlists.media(),e.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());n&&(t.currentSource().keySystems=n,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())}}},Gs=function(){if(!window.localStorage)return null;var e=window.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};zs.supportsNativeHls=function(){var e=b.a.createElement("video");if(!go.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),zs.supportsNativeDash=!!go.getTech("Html5").isSupported()&&/maybe|probably/i.test(b.a.createElement("video").canPlayType("application/dash+xml")),zs.supportsTypeNatively=function(e){return"hls"===e?zs.supportsNativeHls:"dash"===e&&zs.supportsNativeDash},zs.isSupported=function(){return go.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var qs=go.getComponent("Component"),$s=function(e){function t(e,n,r){_o(this,t);var i=So(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,r.hls));if(n.options_&&n.options_.playerId){var o=go(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return go.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),i},configurable:!0}),o.vhs=i,o.dash=i,i.player_=o}if(i.tech_=n,i.source_=e,i.stats={},i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(b.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=b.a.fullscreenElement||b.a.webkitFullscreenElement||b.a.mozFullScreenElement||b.a.msFullscreenElement;t&&t.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()}),i.on(i.tech_,"seeking",function(){0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),i.on(i.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),i.on(i.tech_,"play",i.play),i}return To(t,qs),wo(t,[{key:"setOptions_",value:function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=Gs();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Za.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Za.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects"].forEach(function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(e,t){var n=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=zs,this.options_.sourceType=Hs(t),this.options_.seekTo=function(e){n.tech_.setCurrentTime(e),n.setCurrentTime(e)},this.masterPlaylistController_=new Ds(this.options_),this.playbackWatcher_=new Us(go.mergeOptions(this.options_,{seekable:function(){return n.seekable()},media:function(){return n.masterPlaylistController_.media()}})),this.masterPlaylistController_.on("error",function(){go.players[n.tech_.options_.playerId].error(n.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):zs.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=zs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){go.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return n.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return n.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return n.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return n.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return n.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return n.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return n.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return n.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return da(n.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return n.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return n.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return n.tech_.name_},enumerable:!0},duration:{get:function(){return n.tech_.duration()},enumerable:!0},master:{get:function(){return n.playlists.master},enumerable:!0},playerDimensions:{get:function(){return n.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return da(n.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return n.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){n.options_.useBandwidthFromLocalStorage&&function(e){if(!window.localStorage)return!1;var t=Gs();t=t?go.mergeOptions(t,e):e;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(e){return!1}}({bandwidth:n.bandwidth,throughput:Math.round(n.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,t;t=(e=n).playlists,e.representations=function(){return t.master.playlists.filter(function(e){return!Go(e)}).map(function(t,n){return new Ns(e,t,t.uri)})},Ws(n)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return n.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(go.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=go.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach(function(e){t.addQualityLevel(e)}),Vs(t,n.playlists)}),this.playlists.on("mediachange",function(){Vs(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}},{key:"convertToProgramTime",value:function(e,t){return aa({playlist:this.masterPlaylistController_.media(),time:e,callback:t})}},{key:"seekToProgramTime",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return sa({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),t}(),Xs={name:"videojs-http-streaming",VERSION:"1.9.3",canHandleSource:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=go.mergeOptions(go.options,t);return Xs.canPlayType(e.type,n)},handleSource:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=go.mergeOptions(go.options,n);return t.hls=new $s(e,t,r),t.hls.xhr=Qo(),t.hls.src(e.src,e.type),t.hls},canPlayType:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=go.mergeOptions(go.options,t),r=n.hls.overrideNative,i=Hs(e),o=i&&(!zs.supportsTypeNatively(i)||r);return o?"maybe":""}};void 0!==go.MediaSource&&void 0!==go.URL||(go.MediaSource=Ha,go.URL=Va),Ha.supportsNativeMediaSources()&&go.getTech("Html5").registerSourceHandler(Xs,0),go.HlsHandler=$s,go.HlsSourceHandler=Xs,go.Hls=zs,go.use||go.registerComponent("Hls",zs),go.options.hls=go.options.hls||{},go.registerPlugin?go.registerPlugin("reloadSourceOnError",Bs):go.plugin("reloadSourceOnError",Bs);var Ks=go;n(759);var Ys=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).player=void 0,n.videoNode=void 0,n.play=n.play.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.player=Ks(this.videoNode,this.props,function(){}),d.a.ee.addListener("play-audio",this.play)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose(),d.a.ee.removeListener("play-audio",this.play)}},{key:"render",value:function(){var e=this;return"video"===this.props.mediaType?u.createElement("div",{className:"vjs-has-started"},u.createElement("div",{"data-vjs-player":!0,style:{width:"100%"}},u.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js",preload:this.props.preload})," :")):u.createElement("div",{className:"vjs-has-started"},u.createElement("div",{"data-vjs-player":!0,style:{width:"100%",height:30}},u.createElement("audio",{ref:function(t){return e.videoNode=t},className:"video-js",preload:this.props.preload})," ;"))}},{key:"play",value:function(e){this.player.play()}}]),t}(u.Component),Zs=n(170),Qs=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).state={loading:!0,text:""},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.createElement("div",{style:{height:f.getHeight()/2}},this.renderText())}},{key:"renderText",value:function(){return this.state.loading?u.createElement(p,{show:this.state.loading}):u.createElement("div",{className:"plain-text"},u.createElement(Zs.a,{text:this.state.text}))}},{key:"componentDidMount",value:function(){var e=this;fetch(this.props.source).then(function(e){return e.text()}).then(function(t){e.setState({loading:!1,text:t})})}}]),t}(u.Component);n(760);var Js=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).type="",n.state={data:null},n.open=n.open.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.data;return e&&e.hasOwnProperty("resource")?"imageService"===e.resource.type?this.renderImage():"audioVideo"===e.resource.type?this.renderAudioVideo():"text/plain"===e.resource.format?this.renderPlainText():"":""}},{key:"renderImage",value:function(){if(this.state.data){var e=this.state.data.resource;return u.createElement("div",{id:"viewer"},u.createElement(g,{source:e.source,key:e.source}))}}},{key:"renderPlainText",value:function(){if(this.state.data){var e=this.state.data.resource;return u.createElement("div",{id:"viewer"},u.createElement(Qs,{source:e.source,key:e.source}))}}},{key:"renderAudioVideo",value:function(){if(this.state.data){var e=this.state.data.resource.source,t=e.format,n=t.substr(0,5),r=e["@id"],i=[{src:r,type:t}];return this.type="audioVideo",u.createElement("div",{id:"viewer"},u.createElement(Ys,{id:"player1",key:r,mediaType:n,preload:"metadata",controls:!0,height:360,sources:i}))}}},{key:"open",value:function(e){this.setState({data:e})}},{key:"componentDidMount",value:function(){d.a.ee.addListener("update-file-info",this.open)}},{key:"componentWillUnmount",value:function(){d.a.ee.removeListener("update-file-info",this.open)}}]),t}(u.Component);t.a=Js},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n.n(u),h=n(46),d=n(169),f=n(4),p=n(783),g=n(779),m=n(780),v=n(781),y=n(3),b=n.n(y),_=n(7),w=n.n(_),T=(n(26),n(13)),S=n(22),E=c.a.forwardRef(function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,i=e.classes,o=e.className,a=w()(e,["disableSpacing","classes","className"]);return c.a.createElement("div",b()({className:Object(T.a)(i.root,o,!r&&i.spacing),ref:t},a))}),x=Object(S.a)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > * + *":{marginLeft:8}}},{name:"MuiDialogActions"})(E),k=n(64),C=n(806),O=n(40),P=c.a.forwardRef(function(e,t){var n=e.children,r=e.classes,i=e.className,o=e.color,a=void 0===o?"default":o,s=e.component,l=void 0===s?"button":s,u=e.disabled,h=void 0!==u&&u,d=e.disableFocusRipple,f=void 0!==d&&d,p=e.focusVisibleClassName,g=e.fullWidth,m=void 0!==g&&g,v=e.size,y=void 0===v?"medium":v,_=e.type,S=void 0===_?"button":_,E=e.variant,x=void 0===E?"text":E,k=w()(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","fullWidth","size","type","variant"]),P="text"===x,I="outlined"===x,A="contained"===x,R="primary"===a,L="secondary"===a,M=Object(T.a)(r.root,i,P&&[r.text,R&&r.textPrimary,L&&r.textSecondary],I&&[r.outlined,R&&r.outlinedPrimary,L&&r.outlinedSecondary],A&&[r.contained,R&&r.containedPrimary,L&&r.containedSecondary],"medium"!==y&&r["size".concat(Object(O.a)(y))],h&&r.disabled,m&&r.fullWidth,"inherit"===a&&r.colorInherit);return c.a.createElement(C.a,b()({className:M,component:l,disabled:h,focusRipple:!f,focusVisibleClassName:Object(T.a)(r.focusVisible,p),ref:t,type:S},k),c.a.createElement("span",{className:r.label},n))}),I=Object(S.a)(function(e){return{root:b()({lineHeight:1.75},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(k.b)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(k.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(k.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 16px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(k.b)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(k.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(k.b)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(k.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},sizeSmall:{padding:"4px 8px",fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:"8px 24px",fontSize:e.typography.pxToRem(15)},fullWidth:{width:"100%"}}},{name:"MuiButton"})(P),A=n(290),R=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).checkIfLoginWindowIsClosedInterval=0,n.logoutUrl="",n.tokenUrl="",n.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n.state={visible:!1,id:""},n.showLogin=n.showLogin.bind(Object(s.a)(n)),n.closeModal=n.closeModal.bind(Object(s.a)(n)),n.logout=n.logout.bind(Object(s.a)(n)),n.receiveToken=n.receiveToken.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return u.createElement(p.a,{id:this.state.id,open:this.state.visible,onClose:this.closeModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.createElement(g.a,null,this.state.title,u.createElement("span",{className:"close",onClick:this.closeModal},"×")),u.createElement(m.a,null,u.createElement(v.a,{color:"textPrimary"},this.body()),u.createElement(x,null,u.createElement(I,{onClick:function(){return e.openWindow(e.state.id)},color:"primary"},this.state.confirmLabel))))}},{key:"openWindow",value:function(e){var t=this,n=e+"?origin="+this.origin,r=window.open(n);this.checkIfLoginWindowIsClosedInterval=window.setInterval(function(){try{if(null==r||r.closed){window.clearInterval(t.checkIfLoginWindowIsClosedInterval),window.addEventListener("message",function(e){return t.receiveToken(e)},{once:!0});var e=t.tokenUrl+"?messageId=1&origin="+t.origin,n=document.getElementById("messageFrame");n&&(n.src=e)}}catch(e){}},1e3)}},{key:"closeModal",value:function(){this.setState({visible:!1})}},{key:"escFunction",value:function(e){27===e.keyCode&&this.closeModal()}},{key:"showLogin",value:function(e){var t=A.Utils.getService(e,"http://iiif.io/api/auth/1/login");t.options||(t.options={locale:h.a.lang}),!1!==t&&(this.getTokenUrlFromService(t),this.setState({confirmLabel:t.getConfirmLabel(),description:t.getDescription(),error:!1,errorMessage:t.getFailureDescription(),id:t.id,title:t.getHeader(),visible:!0}))}},{key:"body",value:function(){var e=[];return e.push(u.createElement("iframe",{id:"messageFrame",title:"messageFrame",key:"messageFrame"})),e.push(u.createElement("div",{key:"description"},this.state.description)),this.state.error&&e.push(u.createElement("div",{className:"modal-error-message",key:"error"},this.state.errorMessage)),e}},{key:"getTokenUrlFromService",value:function(e){var t=e.getService("http://iiif.io/api/auth/1/token");this.tokenUrl=t.id;var n=e.getService("http://iiif.io/api/auth/1/logout");this.logoutUrl=n.id}},{key:"logout",value:function(){window.open(this.logoutUrl,"_blank");var e=h.a.getIdFromCurrentUrl(),t=window.location.href,n=t.substring(0,t.indexOf("?manifest="));window.location.href=n+"?manifest="+e}},{key:"componentDidMount",value:function(){this.escFunction=this.escFunction.bind(this),document.addEventListener("keydown",this.escFunction,!1),f.a.ee.addListener("show-login",this.showLogin),f.a.ee.addListener("logout",this.logout)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escFunction,!1),f.a.ee.removeListener("show-login",this.showLogin),f.a.ee.removeListener("logout",this.logout)}},{key:"receiveToken",value:function(e){if(e.data.hasOwnProperty("accessToken")&&!e.data.hasOwnProperty("error")){h.a.clearCache(),d.a.clearCache(),f.a.token=e.data.accessToken,f.a.ee.emit("token-received");var t=h.a.getIdFromCurrentUrl();f.a.ee.emit("open-folder",t),this.setState({visible:!1})}else this.setState({error:!0})}}]),t}(u.Component);t.a=R},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n(111),h=n(46),d=n(112),f=n(4),p=n(168);n(709);var g=n(710),m=n(711),v=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).state=n.propsToState(e),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(this.propsToState(e))}},{key:"propsToState",value:function(e){var t="sc:Collection"===e.item.type?"folder":"file";return{item:e.item,itemType:t,selected:e.selected||void 0}}},{key:"render",value:function(){var e=this,t=this.state.item.id,n="item "+this.state.itemType,r=this.state.item.label,i={backgroundImage:this.getThumbnail()};return t===this.state.selected&&(n+=" active"),u.createElement("div",{className:n,key:t,onClick:function(){return e.activateItem()},onDoubleClick:function(){return e.open()}},u.createElement("div",{className:"item-thumbnail",style:i}),u.createElement("div",{className:"item-label"},r))}},{key:"getThumbnail",value:function(){if(void 0===this.state.item.thumbnail||!this.state.item.thumbnail.hasOwnProperty("id"))return"sc:Collection"===this.state.item.type?"url(".concat(g,")"):"url(".concat(m,")");var e;if(this.state.item.thumbnail.hasOwnProperty("service")&&this.state.item.thumbnail.service){e=this.state.item.thumbnail.service.replace("/info.json","")+"/full/!72,72/0/default.jpg"}else e=this.state.item.thumbnail.id;return"url(".concat(e,")")}},{key:"open",value:function(){"folder"===this.state.itemType?f.a.ee.emit("open-folder",this.state.item.id):this.openFile(this.state.item)}},{key:"activateItem",value:function(){var e=this.state.item.id;p.a.isTouchDevice()&&e===this.state.selected?this.open():h.a.get(e,function(e){d.a.pageChanged(e.id,e.label),f.a.ee.emit("update-file-info",e)})}},{key:"openFile",value:function(e){var t=e.id;h.a.get(t,function(e){var t=e.resource.type;if("audioVideo"===t)f.a.ee.emit("play-audio",e.resource.source);else if("file"===t){var n=window.open(e.resource.source,"_target");n&&n.focus()}})}}]),t}(u.Component),y=n(42),b=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).state={data:null,mode:"icon-view",selected:void 0},n.openFolder=n.openFolder.bind(Object(s.a)(n)),n.showListView=n.showListView.bind(Object(s.a)(n)),n.showIconView=n.showIconView.bind(Object(s.a)(n)),n.updateFileInfo=n.updateFileInfo.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(!this.state.data)return u.createElement(c.a,null);if(this.state.data.restricted)return u.createElement("div",{id:"folder-view-container"});var e=this.state.data.manifests,t=this.state.data.collections;if(0===e.length&&0===t.length)return u.createElement("div",{id:"folder-view-container"},u.createElement("h1",null,this.state.data.label),u.createElement("div",{className:"empty"},u.createElement(y.b,{ns:"common"},function(e,t){t.i18n;return u.createElement("p",null,e("emptyFolder"))}),","));var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.push(u.createElement(v,{item:l,selected:this.state.selected,key:l.id}))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}var h=!0,d=!1,f=void 0;try{for(var p,g=e[Symbol.iterator]();!(h=(p=g.next()).done);h=!0){var m=p.value;n.push(u.createElement(v,{item:m,selected:this.state.selected,key:m.id}))}}catch(e){d=!0,f=e}finally{try{h||null==g.return||g.return()}finally{if(d)throw f}}var b="folder-view "+this.state.mode;return u.createElement("div",{id:"folder-view-container"},u.createElement("h1",null,this.state.data.label),u.createElement("div",{className:b},n))}},{key:"openFolder",value:function(e,t,n){if("string"==typeof e){var r=this,i=e;h.a.get(i,function(e){if("string"!=typeof e){if("sc:Collection"!==e.type)return e.parentId?void r.openFolder(e.parentId,e,!1):void r.openImaginaryRootFolder(e);var i=null;t?i=t.id:t=e,r.setState({data:e,selected:i}),!1!==n&&d.a.pageChanged(e.id,e.label),!0===e.restricted&&(document.title=e.label),f.a.ee.emit("update-current-folder-id",e.id),f.a.ee.emit("update-file-info",t)}else alert(e)})}else{f.a.ee.emit("alert",{title:"Error",body:"No manifest ID given!"})}}},{key:"openImaginaryRootFolder",value:function(e){var t={collections:[],id:"-",manifests:[e],type:"sc:Collection",label:"",logo:"",attribution:"",manifestations:[],parentId:"",resource:[],restricted:!1,metadata:[],license:"",description:""};this.setState({data:t,selected:e.id}),f.a.ee.emit("update-file-info",e)}},{key:"showListView",value:function(){this.setState({mode:"list-view"})}},{key:"showIconView",value:function(){this.setState({mode:"icon-view"})}},{key:"componentDidMount",value:function(){f.a.ee.addListener("show-list-view",this.showListView),f.a.ee.addListener("show-icon-view",this.showIconView),f.a.ee.addListener("open-folder",this.openFolder),f.a.ee.addListener("update-file-info",this.updateFileInfo);var e=h.a.getIdFromCurrentUrl();this.openFolder(e,null,null)}},{key:"componentWillUnmount",value:function(){f.a.ee.removeListener("show-list-view",this.showListView),f.a.ee.removeListener("show-icon-view",this.showIconView),f.a.ee.removeListener("open-folder",this.openFolder),f.a.ee.removeListener("update-file-info",this.updateFileInfo)}},{key:"updateFileInfo",value:function(e){this.state.selected!==e.id&&this.setState({selected:e.id})}}]),t}(u.Component);t.a=b},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(18),a=n(17),s=n(12),l=n(19),u=n(0),c=n(111),h=n(46),d=n(4);n(313);var f=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).state={level:e.level,opened:e.opened,data:n.props.data||void 0,id:n.props.id||null,currentFolderId:n.props.currentFolderId||void 0},n.updateCurrentFolder=n.updateCurrentFolder.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,n=this;if(void 0===this.state.data){if("string"!=typeof this.state.id)return"";var r=this.state.id,i=this;if(!(e=h.a.fetchFromCache(r)))return h.a.get(r,function(e){i.setState({data:e})}),u.createElement(c.a,null)}else e=this.state.data;var o={marginLeft:10*(this.props.level-1)},a="treeview-item level-"+this.props.level,s="treeview-caret";e&&e.collections&&0===e.collections.length?s+=" no-caret":this.state.opened&&(s+=" opened");var l=e.id;l===this.state.currentFolderId&&(a+=" current");var d=e.label,f=[];if(this.state.opened){var p=this.state.level+1,g=e.collections;for(var m in g)if(g.hasOwnProperty(m)){var v=g[m],y=!1;v.hasOwnProperty("opened")&&v.opened&&(y=!0);var b=v.id;f.push(u.createElement(t,{level:p,opened:y,key:b,id:b,currentFolderId:this.state.currentFolderId}))}}return u.createElement("div",null,u.createElement("div",{className:a,style:o},u.createElement("div",{className:s,onClick:function(){return n.toggleCaret()}}),u.createElement("div",{className:"treeview-label",onClick:function(){return n.openFolder(l)}},d)),f)}},{key:"toggleCaret",value:function(){this.setState({opened:!this.state.opened})}},{key:"openFolder",value:function(e){d.a.ee.emit("open-folder",e)}},{key:"updateCurrentFolder",value:function(e){this.setState({currentFolderId:e})}},{key:"componentDidMount",value:function(){d.a.ee.addListener("update-current-folder-id",this.updateCurrentFolder)}},{key:"componentWillUnmount",value:function(){d.a.ee.removeListener("update-current-folder-id",this.updateCurrentFolder)}}]),t}(u.Component);n(313);var p=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(a.a)(t).call(this,e))).minWidth=60,n.treeInProgress=null,n.currentFolderId="",n.state={opened:{},tree:null,width:n.props.width},n.buildTree=n.buildTree.bind(Object(s.a)(n)),n.clearTree=n.clearTree.bind(Object(s.a)(n)),n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.width<this.minWidth?"":null===this.state.tree?u.createElement(c.a,null):u.createElement("div",{id:"treeview",style:{maxWidth:this.state.width,minWidth:this.state.width}},u.createElement(f,{data:this.state.tree,level:1,opened:!0,currentFolderId:this.currentFolderId}))}},{key:"buildTree",value:function(e){null===this.treeInProgress&&(this.currentFolderId=e);var t=e,n=h.a.fetchFromCache(t);if(!1!==n){if(n.opened=!0,null!==this.treeInProgress){var r=n.collections;for(var i in r)r.hasOwnProperty(i)&&this.treeInProgress&&r[i].id===this.treeInProgress.id&&(r[i]=this.treeInProgress)}if(void 0===n.parentId)return this.setState({tree:n}),void(document.title=n.label);this.treeInProgress=n,t=n.parentId;var o=this;h.a.get(t,function(e){"string"!=typeof e?o.buildTree(e.id):alert(e)})}}},{key:"clearTree",value:function(){this.setState({tree:null})}},{key:"componentDidMount",value:function(){d.a.ee.addListener("update-current-folder-id",this.buildTree),d.a.ee.addListener("token-received",this.clearTree)}},{key:"componentWillUnmount",value:function(){d.a.ee.removeListener("update-current-folder-id",this.buildTree),d.a.ee.removeListener("token-received",this.clearTree)}},{key:"componentWillReceiveProps",value:function(e){e.width!==this.state.width&&this.setState({width:e.width})}}]),t}(u.Component);t.a=p},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(13)),c=n(22),h=n(40),d={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},f=l.a.forwardRef(function(e,t){var n=e.align,r=void 0===n?"inherit":n,o=e.classes,s=e.className,c=e.color,f=void 0===c?"initial":c,p=e.component,g=e.display,m=void 0===g?"initial":g,v=e.gutterBottom,y=void 0!==v&&v,b=e.noWrap,_=void 0!==b&&b,w=e.paragraph,T=void 0!==w&&w,S=(e.theme,e.variant),E=void 0===S?"body1":S,x=e.variantMapping,k=void 0===x?d:x,C=a()(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","theme","variant","variantMapping"]),O=p||(T?"p":k[E]||d[E])||"span";return l.a.createElement(O,i()({className:Object(u.a)(o.root,s,"inherit"!==E&&o[E],"initial"!==f&&o["color".concat(Object(h.a)(f))],_&&o.noWrap,y&&o.gutterBottom,T&&o.paragraph,"inherit"!==r&&o["align".concat(Object(h.a)(r))],"initial"!==m&&o["display".concat(Object(h.a)(m))]),ref:t},C))});t.a=Object(c.a)(function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography",withTheme:!0})(f)},,,,,,,,,,,,function(e,t,n){e.exports=n(777)},function(e,t,n){"use strict";var r=n(1),i=n(14),o=n(11),a=n(25),s=n(238),l=n(10),u=n(36),c=n(103),h=n(21),d=n(6),f=n(30),p=n(57),g=n(67),m=n(78),v=n(68),y=n(122),b=n(87),_=n(241),w=n(187),T=n(52),S=n(29),E=n(143),x=n(37),k=n(58),C=n(102),O=n(144),P=n(119),I=n(118),A=n(23),R=n(242),L=n(44),M=n(69),D=n(47),N=n(50).forEach,j=O("hidden"),U=A("toPrimitive"),F=D.set,B=D.getterFor("Symbol"),z=Object.prototype,H=i.Symbol,V=i.JSON,W=V&&V.stringify,G=T.f,q=S.f,$=_.f,X=E.f,K=C("symbols"),Y=C("op-symbols"),Z=C("string-to-symbol-registry"),Q=C("symbol-to-string-registry"),J=C("wks"),ee=i.QObject,te=!ee||!ee.prototype||!ee.prototype.findChild,ne=a&&l(function(){return 7!=v(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=G(z,t);r&&delete z[t],q(e,t,n),r&&e!==z&&q(z,t,r)}:q,re=function(e,t){var n=K[e]=v(H.prototype);return F(n,{type:"Symbol",tag:e,description:t}),a||(n.description=t),n},ie=s&&"symbol"==typeof H.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof H},oe=function(e,t,n){e===z&&oe(Y,t,n),d(e);var r=g(t,!0);return d(n),u(K,r)?(n.enumerable?(u(e,j)&&e[j][r]&&(e[j][r]=!1),n=v(n,{enumerable:m(0,!1)})):(u(e,j)||q(e,j,m(1,{})),e[j][r]=!0),ne(e,r,n)):q(e,r,n)},ae=function(e,t){d(e);var n=p(t),r=y(n).concat(ce(n));return N(r,function(t){a&&!se.call(n,t)||oe(e,t,n[t])}),e},se=function(e){var t=g(e,!0),n=X.call(this,t);return!(this===z&&u(K,t)&&!u(Y,t))&&(!(n||!u(this,t)||!u(K,t)||u(this,j)&&this[j][t])||n)},le=function(e,t){var n=p(e),r=g(t,!0);if(n!==z||!u(K,r)||u(Y,r)){var i=G(n,r);return!i||!u(K,r)||u(n,j)&&n[j][r]||(i.enumerable=!0),i}},ue=function(e){var t=$(p(e)),n=[];return N(t,function(e){u(K,e)||u(P,e)||n.push(e)}),n},ce=function(e){var t=e===z,n=$(t?Y:p(e)),r=[];return N(n,function(e){!u(K,e)||t&&!u(z,e)||r.push(K[e])}),r};s||(k((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function e(n){this===z&&e.call(Y,n),u(this,j)&&u(this[j],t)&&(this[j][t]=!1),ne(this,t,m(1,n))};return a&&te&&ne(z,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",function(){return B(this).tag}),E.f=se,S.f=oe,T.f=le,b.f=_.f=ue,w.f=ce,a&&(q(H.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),o||k(z,"propertyIsEnumerable",se,{unsafe:!0})),R.f=function(e){return re(A(e),e)}),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),N(y(J),function(e){L(e)}),r({target:"Symbol",stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(Z,t))return Z[t];var n=H(t);return Z[t]=n,Q[n]=t,n},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(u(Q,e))return Q[e]},useSetter:function(){te=!0},useSimple:function(){te=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(e,t){return void 0===t?v(e):ae(v(e),t)},defineProperty:oe,defineProperties:ae,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ue,getOwnPropertySymbols:ce}),r({target:"Object",stat:!0,forced:l(function(){w.f(1)})},{getOwnPropertySymbols:function(e){return w.f(f(e))}}),V&&r({target:"JSON",stat:!0,forced:!s||l(function(){var e=H();return"[null]"!=W([e])||"{}"!=W({a:e})||"{}"!=W(Object(e))})},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(h(t)||void 0!==e)&&!ie(e))return c(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),r[1]=t,W.apply(V,r)}}),H.prototype[U]||x(H.prototype,U,H.prototype.valueOf),M(H,"Symbol"),P[j]=!0},function(e,t,n){"use strict";var r=n(1),i=n(25),o=n(14),a=n(36),s=n(21),l=n(29).f,u=n(236),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};u(d,c);var f=d.prototype=c.prototype;f.constructor=d;var p=f.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(h,e))return"";var n=g?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){n(44)("asyncIterator")},function(e,t,n){n(44)("hasInstance")},function(e,t,n){n(44)("isConcatSpreadable")},function(e,t,n){n(44)("iterator")},function(e,t,n){n(44)("match")},function(e,t,n){n(44)("replace")},function(e,t,n){n(44)("search")},function(e,t,n){n(44)("species")},function(e,t,n){n(44)("split")},function(e,t,n){n(44)("toPrimitive")},function(e,t,n){n(44)("toStringTag")},function(e,t,n){n(44)("unscopables")},function(e,t,n){"use strict";var r=n(1),i=n(10),o=n(103),a=n(21),s=n(30),l=n(24),u=n(88),c=n(123),h=n(124),d=n(23)("isConcatSpreadable"),f=!i(function(){var e=[];return e[d]=!1,e.concat()[0]!==e}),p=h("concat"),g=function(e){if(!a(e))return!1;var t=e[d];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!f||!p},{concat:function(e){var t,n,r,i,o,a=s(this),h=c(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],g(o)){if(d+(i=l(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in o&&u(h,d,o[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");u(h,d++,o)}return h.length=d,h}})},function(e,t,n){var r=n(1),i=n(243),o=n(70);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(e,t,n){var r=n(1),i=n(188),o=n(70);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(e,t,n){"use strict";var r=n(1),i=n(50).filter;r({target:"Array",proto:!0,forced:!n(124)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(1),i=n(50).find,o=n(70),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t,n){"use strict";var r=n(1),i=n(50).findIndex,o=n(70),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(e,t,n){"use strict";var r=n(1),i=n(244),o=n(30),a=n(24),s=n(59),l=n(123);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t.length),r=l(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},function(e,t,n){"use strict";var r=n(1),i=n(244),o=n(30),a=n(24),s=n(20),l=n(123);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=a(n.length);return s(e),(t=l(n,0)).length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},function(e,t,n){var r=n(1),i=n(245);r({target:"Array",stat:!0,forced:!n(145)(function(e){Array.from(e)})},{from:i})},function(e,t,n){"use strict";var r=n(1),i=n(120).includes,o=n(70);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){"use strict";var r=n(1),i=n(120).indexOf,o=n(128),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,l=o("indexOf");r({target:"Array",proto:!0,forced:s||l},{indexOf:function(e){return s?a.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(1),i=n(117),o=n(57),a=n(128),s=[].join,l=i!=Object,u=a("join",",");r({target:"Array",proto:!0,forced:l||u},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},function(e,t,n){var r=n(1),i=n(249);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(e,t,n){"use strict";var r=n(1),i=n(50).map;r({target:"Array",proto:!0,forced:!n(124)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(1),i=n(10),o=n(88);r({target:"Array",stat:!0,forced:i(function(){function e(){}return!(Array.of.call(e)instanceof e)})},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(1),i=n(103),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(e,t,n){"use strict";var r=n(1),i=n(21),o=n(103),a=n(79),s=n(24),l=n(57),u=n(88),c=n(124),h=n(23)("species"),d=[].slice,f=Math.max;r({target:"Array",proto:!0,forced:!c("slice")},{slice:function(e,t){var n,r,c,p=l(this),g=s(p.length),m=a(e,g),v=a(void 0===t?g:t,g);if(o(p)&&("function"!=typeof(n=p.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[h])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(p,m,v);for(r=new(void 0===n?Array:n)(f(v-m,0)),c=0;m<v;m++,c++)m in p&&u(r,c,p[m]);return r.length=c,r}})},function(e,t,n){"use strict";var r=n(1),i=n(20),o=n(30),a=n(10),s=n(128),l=[].sort,u=[1,2,3],c=a(function(){u.sort(void 0)}),h=a(function(){u.sort(null)}),d=s("sort");r({target:"Array",proto:!0,forced:c||!h||d},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),i(e))}})},function(e,t,n){n(90)("Array")},function(e,t,n){"use strict";var r=n(1),i=n(79),o=n(59),a=n(24),s=n(30),l=n(123),u=n(88),c=n(124),h=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!c("splice")},{splice:function(e,t){var n,r,c,f,p,g,m=s(this),v=a(m.length),y=i(e,v),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=v-y):(n=b-2,r=d(h(o(t),0),v-y)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=l(m,r),f=0;f<r;f++)(p=y+f)in m&&u(c,f,m[p]);if(c.length=r,n<r){for(f=y;f<v-r;f++)g=f+n,(p=f+r)in m?m[g]=m[p]:delete m[g];for(f=v;f>v-r+n;f--)delete m[f-1]}else if(n>r)for(f=v-r;f>y;f--)g=f+n-1,(p=f+r-1)in m?m[g]=m[p]:delete m[g];for(f=0;f<n;f++)m[f+y]=arguments[f+2];return m.length=v-r+n,c}})},function(e,t,n){n(70)("flat")},function(e,t,n){n(70)("flatMap")},function(e,t,n){"use strict";var r=n(1),i=n(14),o=n(192),a=n(90),s=o.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(e,t,n){"use strict";var r=n(1),i=n(10),o=n(192),a=n(6),s=n(79),l=n(24),u=n(38),c=o.ArrayBuffer,h=o.DataView,d=c.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new c(2).slice(1,void 0).byteLength})},{slice:function(e,t){if(void 0!==d&&void 0===t)return d.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(u(this,c))(l(i-r)),f=new h(this),p=new h(o),g=0;r<i;)p.setUint8(g++,f.getUint8(r++));return o}})},function(e,t,n){var r=n(37),i=n(395),o=n(23)("toPrimitive"),a=Date.prototype;o in a||r(a,o,i)},function(e,t,n){"use strict";var r=n(6),i=n(67);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},function(e,t,n){"use strict";var r=n(21),i=n(29),o=n(53),a=n(23)("hasInstance"),s=Function.prototype;a in s||i.f(s,a,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(25),i=n(29).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!r||"name"in o||i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(14);n(69)(r.JSON,"JSON",!0)},function(e,t,n){var r=n(1),i=n(252),o=Math.acosh,a=Math.log,s=Math.sqrt,l=Math.LN2;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+l:i(e-1+s(e-1)*s(e+1))}})},function(e,t,n){var r=n(1),i=Math.asinh,o=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):o(t+a(t*t+1)):t}})},function(e,t,n){var r=n(1),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:o((1+e)/(1-e))/2}})},function(e,t,n){var r=n(1),i=n(195),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(e){return i(e=+e)*a(o(e),1/3)}})},function(e,t,n){var r=n(1),i=Math.floor,o=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-i(o(e+.5)*a):32}})},function(e,t,n){var r=n(1),i=n(148),o=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(e){var t=i(a(e)-1)+1;return(t+1/(t*s*s))*(s/2)}})},function(e,t,n){var r=n(1),i=n(148);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(e,t,n){n(1)({target:"Math",stat:!0},{fround:n(253)})},function(e,t,n){var r=n(1),i=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0},{hypot:function(e,t){for(var n,r,a=0,s=0,l=arguments.length,u=0;s<l;)u<(n=i(arguments[s++]))?(a=a*(r=u/n)*r+1,u=n):a+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*o(a)}})},function(e,t,n){var r=n(1),i=n(10),o=Math.imul;r({target:"Math",stat:!0,forced:i(function(){return-5!=o(4294967295,5)||2!=o.length})},{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(1),i=Math.log,o=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(e){return i(e)*o}})},function(e,t,n){n(1)({target:"Math",stat:!0},{log1p:n(252)})},function(e,t,n){var r=n(1),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(e){return i(e)/o}})},function(e,t,n){n(1)({target:"Math",stat:!0},{sign:n(195)})},function(e,t,n){var r=n(1),i=n(10),o=n(148),a=Math.abs,s=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(e){return a(e=+e)<1?(o(e)-o(-e))/2:(s(e-1)-s(-e-1))*(l/2)}})},function(e,t,n){var r=n(1),i=n(148),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){n(69)(Math,"Math",!0)},function(e,t,n){var r=n(1),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(e){return(e>0?o:i)(e)}})},function(e,t,n){"use strict";var r=n(25),i=n(14),o=n(121),a=n(58),s=n(36),l=n(65),u=n(194),c=n(67),h=n(10),d=n(68),f=n(87).f,p=n(52).f,g=n(29).f,m=n(104).trim,v=i.Number,y=v.prototype,b="Number"==l(d(y)),_=function(e){var t,n,r,i,o,a,s,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=m(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>i)return NaN;return parseInt(o,r)}return+u};if(o("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,T=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof T&&(b?h(function(){y.valueOf.call(n)}):"Number"!=l(n))?u(new v(_(t)),n,T):_(t)},S=r?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;S.length>E;E++)s(v,w=S[E])&&!s(T,w)&&g(T,w,p(v,w));T.prototype=y,y.constructor=T,a(i,"Number",T)}},function(e,t,n){n(1)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){n(1)({target:"Number",stat:!0},{isFinite:n(254)})},function(e,t,n){n(1)({target:"Number",stat:!0},{isInteger:n(255)})},function(e,t,n){n(1)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(1),i=n(255),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){n(1)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n(1)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(1),i=n(256);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(1),i=n(196);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r=n(1),i=n(59),o=n(428),a=n(197),s=n(10),l=1..toFixed,u=Math.floor,c=function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)};r({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){l.call({})})},{toFixed:function(e){var t,n,r,s,l=o(this),h=i(e),d=[0,0,0,0,0,0],f="",p="0",g=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*d[n],d[n]=r%1e7,r=u(r/1e7)},m=function(e){for(var t=6,n=0;--t>=0;)n+=d[t],d[t]=u(n/e),n=n%e*1e7},v=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*c(2,69,1))-69)<0?l*c(2,-t,1):l/c(2,t,1),n*=4503599627370496,(t=52-t)>0){for(g(0,n),r=h;r>=7;)g(1e7,0),r-=7;for(g(c(10,r,1),0),r=t-1;r>=23;)m(1<<23),r-=23;m(1<<r),g(1,1),m(2),p=v()}else g(0,n),g(1<<-t,0),p=v()+a.call("0",h);return p=h>0?f+((s=p.length)<=h?"0."+a.call("0",h-s)+p:p.slice(0,s-h)+"."+p.slice(s-h)):f+p}})},function(e,t,n){var r=n(65);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},function(e,t,n){var r=n(1),i=n(257);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){"use strict";var r=n(1),i=n(25),o=n(150),a=n(30),s=n(20),l=n(29);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){l.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(1),i=n(25),o=n(150),a=n(30),s=n(20),l=n(29);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){l.f(a(this),e,{set:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(1),i=n(258).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){var r=n(1),i=n(130),o=n(10),a=n(21),s=n(92).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){l(1)}),sham:!i},{freeze:function(e){return l&&a(e)?l(s(e)):e}})},function(e,t,n){var r=n(1),i=n(16),o=n(88);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,function(e,n){o(t,e,n)},void 0,!0),t}})},function(e,t,n){var r=n(1),i=n(10),o=n(57),a=n(52).f,s=n(25),l=i(function(){a(1)});r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},function(e,t,n){var r=n(1),i=n(25),o=n(184),a=n(57),s=n(52),l=n(88);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,u=o(r),c={},h=0;u.length>h;)void 0!==(n=i(r,t=u[h++]))&&l(c,t,n);return c}})},function(e,t,n){var r=n(1),i=n(10),o=n(241).f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},function(e,t,n){var r=n(1),i=n(10),o=n(30),a=n(53),s=n(191);r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},function(e,t,n){n(1)({target:"Object",stat:!0},{is:n(259)})},function(e,t,n){var r=n(1),i=n(10),o=n(21),a=Object.isExtensible;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function(e){return!!o(e)&&(!a||a(e))}})},function(e,t,n){var r=n(1),i=n(10),o=n(21),a=Object.isFrozen;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function(e){return!o(e)||!!a&&a(e)}})},function(e,t,n){var r=n(1),i=n(10),o=n(21),a=Object.isSealed;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function(e){return!o(e)||!!a&&a(e)}})},function(e,t,n){var r=n(1),i=n(30),o=n(122);r({target:"Object",stat:!0,forced:n(10)(function(){o(1)})},{keys:function(e){return o(i(e))}})},function(e,t,n){"use strict";var r=n(1),i=n(25),o=n(150),a=n(30),s=n(67),l=n(53),u=n(52).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(e){var t,n=a(this),r=s(e,!0);do{if(t=u(n,r))return t.get}while(n=l(n))}})},function(e,t,n){"use strict";var r=n(1),i=n(25),o=n(150),a=n(30),s=n(67),l=n(53),u=n(52).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(e){var t,n=a(this),r=s(e,!0);do{if(t=u(n,r))return t.set}while(n=l(n))}})},function(e,t,n){var r=n(1),i=n(21),o=n(92).onFreeze,a=n(130),s=n(10),l=Object.preventExtensions;r({target:"Object",stat:!0,forced:s(function(){l(1)}),sham:!a},{preventExtensions:function(e){return l&&i(e)?l(o(e)):e}})},function(e,t,n){var r=n(1),i=n(21),o=n(92).onFreeze,a=n(130),s=n(10),l=Object.seal;r({target:"Object",stat:!0,forced:s(function(){l(1)}),sham:!a},{seal:function(e){return l&&i(e)?l(o(e)):e}})},function(e,t,n){n(1)({target:"Object",stat:!0},{setPrototypeOf:n(89)})},function(e,t,n){var r=n(58),i=n(450),o=Object.prototype;i!==o.toString&&r(o,"toString",i,{unsafe:!0})},function(e,t,n){"use strict";var r=n(127),i={};i[n(23)("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(e,t,n){var r=n(1),i=n(258).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){var r=n(1),i=n(256);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,n){var r=n(1),i=n(196);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){"use strict";var r,i,o,a=n(1),s=n(11),l=n(14),u=n(185),c=n(91),h=n(69),d=n(90),f=n(21),p=n(20),g=n(72),m=n(65),v=n(16),y=n(145),b=n(38),_=n(198).set,w=n(260),T=n(261),S=n(262),E=n(131),x=n(151),k=n(199),C=n(47),O=n(121),P=n(23)("species"),I="Promise",A=C.get,R=C.set,L=C.getterFor(I),M=l.Promise,D=l.TypeError,N=l.document,j=l.process,U=l.fetch,F=j&&j.versions,B=F&&F.v8||"",z=E.f,H=z,V="process"==m(j),W=!!(N&&N.createEvent&&l.dispatchEvent),G=O(I,function(){var e=M.resolve(1),t=function(){},n=(e.constructor={})[P]=function(e){e(t,t)};return!((V||"function"==typeof PromiseRejectionEvent)&&(!s||e.finally)&&e.then(t)instanceof n&&0!==B.indexOf("6.6")&&-1===k.indexOf("Chrome/66"))}),q=G||!y(function(e){M.all(e).catch(function(){})}),$=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},X=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;w(function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,l,u,c=r[a++],h=o?c.ok:c.fail,d=c.resolve,f=c.reject,p=c.domain;try{h?(o||(2===t.rejection&&Q(e,t),t.rejection=1),!0===h?s=i:(p&&p.enter(),s=h(i),p&&(p.exit(),u=!0)),s===c.promise?f(D("Promise-chain cycle")):(l=$(s))?l.call(s,d,f):d(s)):f(i)}catch(e){p&&!u&&p.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Y(e,t)})}},K=function(e,t,n){var r,i;W?((r=N.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(i=l["on"+e])?i(r):"unhandledrejection"===e&&S("Unhandled promise rejection",n)},Y=function(e,t){_.call(l,function(){var n,r=t.value;if(Z(t)&&(n=x(function(){V?j.emit("unhandledRejection",r,e):K("unhandledrejection",e,r)}),t.rejection=V||Z(t)?2:1,n.error))throw n.value})},Z=function(e){return 1!==e.rejection&&!e.parent},Q=function(e,t){_.call(l,function(){V?j.emit("rejectionHandled",e):K("rejectionhandled",e,t.value)})},J=function(e,t,n,r){return function(i){e(t,n,i,r)}},ee=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,X(e,t,!0))},te=function e(t,n,r,i){if(!n.done){n.done=!0,i&&(n=i);try{if(t===r)throw D("Promise can't be resolved itself");var o=$(r);o?w(function(){var i={done:!1};try{o.call(r,J(e,t,i,n),J(ee,t,i,n))}catch(e){ee(t,i,e,n)}}):(n.value=r,n.state=1,X(t,n,!1))}catch(e){ee(t,{done:!1},e,n)}}};G&&(M=function(e){g(this,M,I),p(e),r.call(this);var t=A(this);try{e(J(te,this,t),J(ee,this,t))}catch(e){ee(this,t,e)}},(r=function(e){R(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(M.prototype,{then:function(e,t){var n=L(this),r=z(b(this,M));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=V?j.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&X(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=A(e);this.promise=e,this.resolve=J(te,e,t),this.reject=J(ee,e,t)},E.f=z=function(e){return e===M||e===o?new i(e):H(e)},s||"function"!=typeof U||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return T(M,U.apply(l,arguments))}})),a({global:!0,wrap:!0,forced:G},{Promise:M}),h(M,I,!1,!0),d(I),o=u.Promise,a({target:I,stat:!0,forced:G},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),a({target:I,stat:!0,forced:s||G},{resolve:function(e){return T(s&&this===o?M:this,e)}}),a({target:I,stat:!0,forced:q},{all:function(e){var t=this,n=z(t),r=n.resolve,i=n.reject,o=x(function(){var n=p(t.resolve),o=[],a=0,s=1;v(e,function(e){var l=a++,u=!1;o.push(void 0),s++,n.call(t,e).then(function(e){u||(u=!0,o[l]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=z(t),r=n.reject,i=x(function(){var i=p(t.resolve);v(e,function(e){i.call(t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}})},function(e,t,n){"use strict";var r=n(1),i=n(34),o=n(38),a=n(261);r({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=o(this,i("Promise")),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(1),i=n(34),o=n(20),a=n(6),s=n(10),l=i("Reflect","apply"),u=Function.apply;r({target:"Reflect",stat:!0,forced:!s(function(){l(function(){})})},{apply:function(e,t,n){return o(e),a(n),l?l(e,t,n):u.call(e,t,n)}})},function(e,t,n){var r=n(1),i=n(34),o=n(20),a=n(6),s=n(21),l=n(68),u=n(458),c=n(10),h=i("Reflect","construct"),d=c(function(){function e(){}return!(h(function(){},[],e)instanceof e)}),f=!c(function(){h(function(){})}),p=d||f;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return h(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var i=n.prototype,c=l(s(i)?i:Object.prototype),p=Function.apply.call(e,c,t);return s(p)?p:c}})},function(e,t,n){"use strict";var r=n(20),i=n(21),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t,n){var r=n(1),i=n(25),o=n(6),a=n(67),s=n(29);r({target:"Reflect",stat:!0,forced:n(10)(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function(e,t,n){o(e);var r=a(t,!0);o(n);try{return s.f(e,r,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(1),i=n(6),o=n(52).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(1),i=n(21),o=n(6),a=n(36),s=n(52),l=n(53);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,u,c=arguments.length<3?t:arguments[2];return o(t)===c?t[n]:(r=s.f(t,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(c):i(u=l(t))?e(u,n,c):void 0}})},function(e,t,n){var r=n(1),i=n(25),o=n(6),a=n(52);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return a.f(o(e),t)}})},function(e,t,n){var r=n(1),i=n(6),o=n(53);r({target:"Reflect",stat:!0,sham:!n(191)},{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){n(1)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var r=n(1),i=n(6),o=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){n(1)({target:"Reflect",stat:!0},{ownKeys:n(184)})},function(e,t,n){var r=n(1),i=n(34),o=n(6);r({target:"Reflect",stat:!0,sham:!n(130)},{preventExtensions:function(e){o(e);try{var t=i("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(1),i=n(6),o=n(21),a=n(36),s=n(29),l=n(52),u=n(53),c=n(78);r({target:"Reflect",stat:!0},{set:function e(t,n,r){var h,d,f=arguments.length<4?t:arguments[3],p=l.f(i(t),n);if(!p){if(o(d=u(t)))return e(d,n,r,f);p=c(0)}if(a(p,"value")){if(!1===p.writable||!o(f))return!1;if(h=l.f(f,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=r,s.f(f,n,h)}else s.f(f,n,c(0,r));return!0}return void 0!==p.set&&(p.set.call(f,r),!0)}})},function(e,t,n){var r=n(1),i=n(6),o=n(248),a=n(89);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e),o(t);try{return a(e,t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(25),i=n(14),o=n(121),a=n(194),s=n(29).f,l=n(87).f,u=n(152),c=n(105),h=n(58),d=n(10),f=n(90),p=n(23)("match"),g=i.RegExp,m=g.prototype,v=/a/g,y=/a/g,b=new g(v)!==v;if(r&&o("RegExp",!b||d(function(){return y[p]=!1,g(v)!=v||g(y)==y||"/a/i"!=g(v,"i")}))){for(var _=function(e,t){var n=this instanceof _,r=u(e),i=void 0===t;return!n&&r&&e.constructor===_&&i?e:a(b?new g(r&&!i?e.source:e,t):g((r=e instanceof _)?e.source:e,r&&i?c.call(e):t),n?this:m,_)},w=function(e){e in _||s(_,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},T=l(g),S=0;T.length>S;)w(T[S++]);m.constructor=_,_.prototype=m,h(i,"RegExp",_)}f("RegExp")},function(e,t,n){var r=n(25),i=n(29),o=n(105);r&&"g"!=/./g.flags&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(e,t,n){"use strict";var r=n(58),i=n(6),o=n(10),a=n(105),s=RegExp.prototype,l=s.toString,u=o(function(){return"/a/b"!=l.call({source:"a",flags:"b"})}),c="toString"!=l.name;(u||c)&&r(RegExp.prototype,"toString",function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)},{unsafe:!0})},function(e,t,n){"use strict";var r=n(1),i=n(106).codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(1),i=n(24),o=n(200),a=n(43),s=n(201),l="".endsWith,u=Math.min;r({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(e){var t=String(a(this));o(e);var n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:u(i(n),r),c=String(e);return l?l.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){var r=n(1),i=n(79),o=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(1),i=n(200),o=n(43);r({target:"String",proto:!0,forced:!n(201)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(153),i=n(6),o=n(24),a=n(43),s=n(154),l=n(155);r("match",1,function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this);if(!a.global)return l(a,u);var c=a.unicode;a.lastIndex=0;for(var h,d=[],f=0;null!==(h=l(a,u));){var p=String(h[0]);d[f]=p,""===p&&(a.lastIndex=s(u,o(a.lastIndex),c)),f++}return 0===f?null:d}]})},function(e,t,n){"use strict";var r=n(1),i=n(265).end;r({target:"String",proto:!0,forced:n(266)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(1),i=n(265).start;r({target:"String",proto:!0,forced:n(266)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(1),i=n(57),o=n(24);r({target:"String",stat:!0},{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){n(1)({target:"String",proto:!0},{repeat:n(197)})},function(e,t,n){"use strict";var r=n(153),i=n(6),o=n(30),a=n(24),s=n(59),l=n(43),u=n(154),c=n(155),h=Math.max,d=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;r("replace",2,function(e,t,n){return[function(n,r){var i=l(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,o){var l=n(t,e,this,o);if(l.done)return l.value;var f=i(e),p=String(this),g="function"==typeof o;g||(o=String(o));var m=f.global;if(m){var v=f.unicode;f.lastIndex=0}for(var y=[];;){var b=c(f,p);if(null===b)break;if(y.push(b),!m)break;""===String(b[0])&&(f.lastIndex=u(p,a(f.lastIndex),v))}for(var _,w="",T=0,S=0;S<y.length;S++){b=y[S];for(var E=String(b[0]),x=h(d(s(b.index),p.length),0),k=[],C=1;C<b.length;C++)k.push(void 0===(_=b[C])?_:String(_));var O=b.groups;if(g){var P=[E].concat(k,x,p);void 0!==O&&P.push(O);var I=String(o.apply(void 0,P))}else I=r(E,p,x,k,O,o);x>=T&&(w+=p.slice(T,x)+I,T=x+E.length)}return w+p.slice(T)}];function r(e,n,r,i,a,s){var l=r+e.length,u=i.length,c=g;return void 0!==a&&(a=o(a),c=p),t.call(s,c,function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>u){var h=f(c/10);return 0===h?t:h<=u?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):t}s=i[c-1]}return void 0===s?"":s})}})},function(e,t,n){"use strict";var r=n(153),i=n(6),o=n(43),a=n(259),s=n(155);r("search",1,function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),l=String(this),u=o.lastIndex;a(u,0)||(o.lastIndex=0);var c=s(o,l);return a(o.lastIndex,u)||(o.lastIndex=u),null===c?-1:c.index}]})},function(e,t,n){"use strict";var r=n(153),i=n(152),o=n(6),a=n(43),s=n(38),l=n(154),u=n(24),c=n(155),h=n(202),d=n(10),f=[].push,p=Math.min,g=!d(function(){return!RegExp(4294967295,"y")});r("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var s,l,u,c=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=new RegExp(e.source,d+"g");(s=h.call(g,r))&&!((l=g.lastIndex)>p&&(c.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&f.apply(c,s.slice(1)),u=s[0].length,p=l,c.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return p===r.length?!u&&g.test("")||c.push(""):c.push(r.slice(p)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var h=o(e),d=String(this),f=s(h,RegExp),m=h.unicode,v=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),y=new f(g?h:"^(?:"+h.source+")",v),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===d.length)return null===c(y,d)?[d]:[];for(var _=0,w=0,T=[];w<d.length;){y.lastIndex=g?w:0;var S,E=c(y,g?d:d.slice(w));if(null===E||(S=p(u(y.lastIndex+(g?0:w)),d.length))===_)w=l(d,w,m);else{if(T.push(d.slice(_,w)),T.length===b)return T;for(var x=1;x<=E.length-1;x++)if(T.push(E[x]),T.length===b)return T;w=_=S}}return T.push(d.slice(_)),T}]},!g)},function(e,t,n){"use strict";var r=n(1),i=n(24),o=n(200),a=n(43),s=n(201),l="".startsWith,u=Math.min;r({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(e){var t=String(a(this));o(e);var n=i(u(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(1),i=n(104).trim;r({target:"String",proto:!0,forced:n(203)("trim")},{trim:function(){return i(this)}})},function(e,t,n){"use strict";var r=n(1),i=n(104).end,o=n(203)("trimEnd"),a=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(e,t,n){"use strict";var r=n(1),i=n(104).start,o=n(203)("trimStart"),a=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("big")},{big:function(){return i(this,"big","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("blink")},{blink:function(){return i(this,"blink","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("bold")},{bold:function(){return i(this,"b","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("fontcolor")},{fontcolor:function(e){return i(this,"font","color",e)}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("fontsize")},{fontsize:function(e){return i(this,"font","size",e)}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("italics")},{italics:function(){return i(this,"i","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("link")},{link:function(e){return i(this,"a","href",e)}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("small")},{small:function(){return i(this,"small","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("strike")},{strike:function(){return i(this,"strike","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("sub")},{sub:function(){return i(this,"sub","","")}})},function(e,t,n){"use strict";var r=n(1),i=n(60);r({target:"String",proto:!0,forced:n(61)("sup")},{sup:function(){return i(this,"sup","","")}})},function(e,t,n){n(73)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(73)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(73)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(73)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(73)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(73)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(73)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(73)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(73)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(27),i=n(243),o=r.aTypedArray;r.exportProto("copyWithin",function(e,t){return i.call(o(this),e,t,arguments.length>2?arguments[2]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(50).every,o=r.aTypedArray;r.exportProto("every",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(188),o=r.aTypedArray;r.exportProto("fill",function(e){return i.apply(o(this),arguments)})},function(e,t,n){"use strict";var r=n(27),i=n(50).filter,o=n(38),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("filter",function(e){for(var t=i(a(this),e,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),r=0,l=t.length,u=new(s(n))(l);l>r;)u[r]=t[r++];return u})},function(e,t,n){"use strict";var r=n(27),i=n(50).find,o=r.aTypedArray;r.exportProto("find",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(50).findIndex,o=r.aTypedArray;r.exportProto("findIndex",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(50).forEach,o=r.aTypedArray;r.exportProto("forEach",function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(204),i=n(27),o=n(268);i.exportStatic("from",o,r)},function(e,t,n){"use strict";var r=n(27),i=n(120).includes,o=r.aTypedArray;r.exportProto("includes",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(120).indexOf,o=r.aTypedArray;r.exportProto("indexOf",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(14),i=n(27),o=n(146),a=n(23)("iterator"),s=r.Uint8Array,l=o.values,u=o.keys,c=o.entries,h=i.aTypedArray,d=i.exportProto,f=s&&s.prototype[a],p=!!f&&("values"==f.name||null==f.name),g=function(){return l.call(h(this))};d("entries",function(){return c.call(h(this))}),d("keys",function(){return u.call(h(this))}),d("values",g,!p),d(a,g,!p)},function(e,t,n){"use strict";var r=n(27),i=r.aTypedArray,o=[].join;r.exportProto("join",function(e){return o.apply(i(this),arguments)})},function(e,t,n){"use strict";var r=n(27),i=n(249),o=r.aTypedArray;r.exportProto("lastIndexOf",function(e){return i.apply(o(this),arguments)})},function(e,t,n){"use strict";var r=n(27),i=n(50).map,o=n(38),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("map",function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(s(o(e,e.constructor)))(t)})})},function(e,t,n){"use strict";var r=n(27),i=n(204),o=r.aTypedArrayConstructor;r.exportStatic("of",function(){for(var e=0,t=arguments.length,n=new(o(this))(t);t>e;)n[e]=arguments[e++];return n},i)},function(e,t,n){"use strict";var r=n(27),i=n(269).left,o=r.aTypedArray;r.exportProto("reduce",function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=n(269).right,o=r.aTypedArray;r.exportProto("reduceRight",function(e){return i(o(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=r.aTypedArray,o=Math.floor;r.exportProto("reverse",function(){for(var e,t=i(this).length,n=o(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this})},function(e,t,n){"use strict";var r=n(27),i=n(24),o=n(267),a=n(30),s=n(10),l=r.aTypedArray,u=s(function(){new Int8Array(1).set({})});r.exportProto("set",function(e){l(this);var t=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(e),s=i(r.length),u=0;if(s+t>n)throw RangeError("Wrong length");for(;u<s;)this[t+u]=r[u++]},u)},function(e,t,n){"use strict";var r=n(27),i=n(38),o=n(10),a=r.aTypedArray,s=r.aTypedArrayConstructor,l=[].slice,u=o(function(){new Int8Array(1).slice()});r.exportProto("slice",function(e,t){for(var n=l.call(a(this),e,t),r=i(this,this.constructor),o=0,u=n.length,c=new(s(r))(u);u>o;)c[o]=n[o++];return c},u)},function(e,t,n){"use strict";var r=n(27),i=n(50).some,o=r.aTypedArray;r.exportProto("some",function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(27),i=r.aTypedArray,o=[].sort;r.exportProto("sort",function(e){return o.call(i(this),e)})},function(e,t,n){"use strict";var r=n(27),i=n(24),o=n(79),a=n(38),s=r.aTypedArray;r.exportProto("subarray",function(e,t){var n=s(this),r=n.length,l=o(e,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,i((void 0===t?r:o(t,r))-l))})},function(e,t,n){"use strict";var r=n(14),i=n(27),o=n(10),a=r.Int8Array,s=i.aTypedArray,l=[].toLocaleString,u=[].slice,c=!!a&&o(function(){l.call(new a(1))}),h=o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])});i.exportProto("toLocaleString",function(){return l.apply(c?u.call(s(this)):s(this),arguments)},h)},function(e,t,n){"use strict";var r=n(14),i=n(27),o=n(10),a=r.Uint8Array,s=a&&a.prototype,l=[].toString,u=[].join;o(function(){l.call({})})&&(l=function(){return u.call(this)}),i.exportProto("toString",l,(s||{}).toString!=l)},function(e,t,n){"use strict";n(147)("WeakSet",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},n(270),!1,!0)},function(e,t,n){var r=n(1),i=n(53),o=n(89),a=n(68),s=n(78),l=n(16),u=n(37),c=function(e,t){var n=this;if(!(n instanceof c))return new c(e,t);o&&(n=o(new Error(t),i(n)));var r=[];return l(e,r.push,r),n.errors=r,void 0!==t&&u(n,"message",String(t)),n};c.prototype=a(Error.prototype,{constructor:s(5,c),name:s(5,"AggregateError")}),r({global:!0},{AggregateError:c})},function(e,t,n){"use strict";var r=n(25),i=n(70),o=n(30),a=n(24),s=n(29).f;!r||"lastIndex"in[]||(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?0:t-1}}),i("lastIndex"))},function(e,t,n){"use strict";var r=n(25),i=n(70),o=n(30),a=n(24),s=n(29).f;!r||"lastItem"in[]||(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var e=o(this),t=a(e.length);return 0==t?void 0:e[t-1]},set:function(e){var t=o(this),n=a(t.length);return t[0==n?0:n-1]=e}}),i("lastItem"))},function(e,t,n){var r=n(1),i=n(271),o=n(34),a=n(68),s=function(){var e=o("Object","freeze");return e?e(a(null)):a(null)};r({global:!0},{compositeKey:function(){return i.apply(Object,arguments).get("object",s)}})},function(e,t,n){var r=n(1),i=n(271),o=n(34);r({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?o("Symbol").for(arguments[0]):i.apply(null,arguments).get("symbol",o("Symbol"))}})},function(e,t,n){n(1)({global:!0},{globalThis:n(14)})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(156);r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(35),s=n(71),l=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,function(e,n){if(!r(n,e,t))return l.stop()},void 0,!0,!0).stopped}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(35),u=n(38),c=n(71),h=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Map"))),d=s(i.set);return h(n,function(e,n){r(n,e,t)&&d.call(i,e,n)},void 0,!0,!0),i}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(35),s=n(71),l=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(n,e,t))return l.stop(n)},void 0,!0,!0).result}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(35),s=n(71),l=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(n,e,t))return l.stop(e)},void 0,!0,!0).result}})},function(e,t,n){n(1)({target:"Map",stat:!0},{from:n(157)})},function(e,t,n){"use strict";var r=n(1),i=n(16),o=n(20);r({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;o(t);var r=o(n.has),a=o(n.get),s=o(n.set);return i(e,function(e){var i=t(e);r.call(n,i)?a.call(n,i).push(e):s.call(n,i,[e])}),n}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(71),s=n(551),l=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return l(a(o(this)),function(t,n){if(s(n,e))return l.stop()},void 0,!0,!0).stopped}})},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(1),i=n(16),o=n(20);r({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;o(t);var r=o(n.set);return i(e,function(e){r.call(n,t(e),e)}),n}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(71),s=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(a(o(this)),function(t,n){if(n===e)return s.stop(t)},void 0,!0,!0).result}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(35),u=n(38),c=n(71),h=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Map"))),d=s(i.set);return h(n,function(e,n){d.call(i,r(n,e,t),n)},void 0,!0,!0),i}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(35),u=n(38),c=n(71),h=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Map"))),d=s(i.set);return h(n,function(e,n){d.call(i,e,r(n,e,t))},void 0,!0,!0),i}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(20),s=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){for(var t=o(this),n=a(t.set),r=0;r<arguments.length;)s(arguments[r++],n,t,!0);return t}})},function(e,t,n){n(1)({target:"Map",stat:!0},{of:n(158)})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(20),s=n(71),l=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t,n,r=o(this),i=s(r);if(a(e),arguments.length>1)t=arguments[1];else{if((n=i.next()).done)throw TypeError("Reduce of empty map with no initial value");t=n.value[1]}return l(i,function(n,i){t=e(t,i,n,r)},void 0,!0,!0),t}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(35),s=n(71),l=n(16);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e,n){if(r(n,e,t))return l.stop()},void 0,!0,!0).stopped}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(20);r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=o(this),r=arguments.length;a(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):a(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},function(e,t,n){var r=n(1),i=Math.min,o=Math.max;r({target:"Math",stat:!0},{clamp:function(e,t,n){return i(n,o(t,e))}})},function(e,t,n){n(1)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(1),i=180/Math.PI;r({target:"Math",stat:!0},{degrees:function(e){return e*i}})},function(e,t,n){var r=n(1),i=n(272),o=n(253);r({target:"Math",stat:!0},{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){n(1)({target:"Math",stat:!0},{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){n(1)({target:"Math",stat:!0},{imulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>16,s=r>>16,l=(a*o>>>0)+(i*o>>>16);return a*s+(l>>16)+((i*s>>>0)+(65535&l)>>16)}})},function(e,t,n){n(1)({target:"Math",stat:!0},{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){n(1)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(1),i=Math.PI/180;r({target:"Math",stat:!0},{radians:function(e){return e*i}})},function(e,t,n){n(1)({target:"Math",stat:!0},{scale:n(272)})},function(e,t,n){var r=n(1),i=n(6),o=n(254),a=n(129),s=n(47),l=s.set,u=s.getterFor("Seeded Random Generator"),c=a(function(e){l(this,{type:"Seeded Random Generator",seed:e%2147483647})},"Seeded Random",function(){var e=u(this);return{value:(1073741823&(e.seed=(1103515245*e.seed+12345)%2147483647))/1073741823,done:!1}});r({target:"Math",stat:!0,forced:!0},{seededPRNG:function(e){var t=i(e).seed;if(!o(t))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new c(t)}})},function(e,t,n){n(1)({target:"Math",stat:!0},{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){n(1)({target:"Math",stat:!0},{umulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,l=(a*o>>>0)+(i*o>>>16);return a*s+(l>>>16)+((i*s>>>0)+(65535&l)>>>16)}})},function(e,t,n){"use strict";var r=n(1),i=n(59),o=n(196),a=/^[\da-z]+$/;r({target:"Number",stat:!0},{fromString:function(e,t){var n,r,s=1;if("string"!=typeof e)throw TypeError("Invalid number representation");if(!e.length)throw SyntaxError("Invalid number representation");if("-"==e.charAt(0)&&(s=-1,!(e=e.slice(1)).length))throw SyntaxError("Invalid number representation");if((n=void 0===t?10:i(t))<2||n>36)throw RangeError("Invalid radix");if(!a.test(e)||(r=o(e,n)).toString(n)!==e)throw SyntaxError("Invalid number representation");return s*r}})},function(e,t,n){"use strict";var r=n(1),i=n(25),o=n(90),a=n(20),s=n(6),l=n(21),u=n(72),c=n(29).f,h=n(37),d=n(91),f=n(132),p=n(16),g=n(262),m=n(23),v=n(47),y=m("observable"),b=v.get,_=v.set,w=function(e){return null==e?void 0:a(e)},T=function(e){var t=e.cleanup;if(t){e.cleanup=void 0;try{t()}catch(e){g(e)}}},S=function(e){return void 0===e.observer},E=function(e,t){if(!i){e.closed=!0;var n=t.subscriptionObserver;n&&(n.closed=!0)}t.observer=void 0},x=function(e,t){var n,r=_(this,{cleanup:void 0,observer:s(e),subscriptionObserver:void 0});i||(this.closed=!1);try{(n=w(e.start))&&n.call(e,this)}catch(e){g(e)}if(!S(r)){var o=r.subscriptionObserver=new k(this);try{var l=t(o),u=l;null!=l&&(r.cleanup="function"==typeof l.unsubscribe?function(){u.unsubscribe()}:a(l))}catch(e){return void o.error(e)}S(r)&&T(r)}};x.prototype=d({},{unsubscribe:function(){var e=b(this);S(e)||(E(this,e),T(e))}}),i&&c(x.prototype,"closed",{configurable:!0,get:function(){return S(b(this))}});var k=function(e){_(this,{subscription:e}),i||(this.closed=!1)};k.prototype=d({},{next:function(e){var t=b(b(this).subscription);if(!S(t)){var n=t.observer;try{var r=w(n.next);r&&r.call(n,e)}catch(e){g(e)}}},error:function(e){var t=b(this).subscription,n=b(t);if(!S(n)){var r=n.observer;E(t,n);try{var i=w(r.error);i?i.call(r,e):g(e)}catch(e){g(e)}T(n)}},complete:function(){var e=b(this).subscription,t=b(e);if(!S(t)){var n=t.observer;E(e,t);try{var r=w(n.complete);r&&r.call(n)}catch(e){g(e)}T(t)}}}),i&&c(k.prototype,"closed",{configurable:!0,get:function(){return S(b(b(this).subscription))}});var C=function(e){u(this,C,"Observable"),_(this,{subscriber:a(e)})};d(C.prototype,{subscribe:function(e){var t=arguments.length;return new x("function"==typeof e?{next:e,error:t>1?arguments[1]:void 0,complete:t>2?arguments[2]:void 0}:l(e)?e:{},b(this).subscriber)}}),d(C,{from:function(e){var t="function"==typeof this?this:C,n=w(s(e)[y]);if(n){var r=s(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}var i=f(e);return new t(function(e){p(i,function(t){if(e.next(t),e.closed)return p.stop()},void 0,!1,!0),e.complete()})},of:function(){for(var e="function"==typeof this?this:C,t=arguments.length,n=new Array(t),r=0;r<t;)n[r]=arguments[r++];return new e(function(e){for(var r=0;r<t;r++)if(e.next(n[r]),e.closed)return;e.complete()})}}),h(C.prototype,y,function(){return this}),r({global:!0},{Observable:C}),o("Observable")},function(e,t,n){"use strict";var r=n(1),i=n(20),o=n(131),a=n(151),s=n(16);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,l=n.reject,u=a(function(){var n=i(t.resolve),o=[],a=0,l=1;s(e,function(e){var i=a++,s=!1;o.push(void 0),l++,n.call(t,e).then(function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--l||r(o))},function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--l||r(o))})}),--l||r(o)});return u.error&&l(u.value),n.promise}})},function(e,t,n){"use strict";var r=n(1),i=n(20),o=n(34),a=n(131),s=n(151),l=n(16);r({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),r=n.resolve,u=n.reject,c=s(function(){var n=i(t.resolve),a=[],s=0,c=1,h=!1;l(e,function(e){var i=s++,l=!1;a.push(void 0),c++,n.call(t,e).then(function(e){l||h||(h=!0,r(e))},function(e){l||h||(l=!0,a[i]=e,--c||u(new(o("AggregateError"))(a,"No one promise resolved")))})}),--c||u(new(o("AggregateError"))(a,"No one promise resolved"))});return c.error&&u(c.value),n.promise}})},function(e,t,n){"use strict";var r=n(1),i=n(131),o=n(151);r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{defineMetadata:function(e,t,n){var r=arguments.length<4?void 0:a(arguments[3]);s(e,t,o(n),r)}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=i.toKey,s=i.getMap,l=i.store;r({target:"Reflect",stat:!0},{deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),r=s(o(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var i=l.get(t);return i.delete(n),!!i.size||l.delete(t)}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=n(53),s=i.has,l=i.get,u=i.toKey,c=function e(t,n,r){if(s(t,n,r))return l(t,n,r);var i=a(n);return null!==i?e(t,i,r):void 0};r({target:"Reflect",stat:!0},{getMetadata:function(e,t){var n=arguments.length<3?void 0:u(arguments[2]);return c(e,o(t),n)}})},function(e,t,n){var r=n(1),i=n(263),o=n(74),a=n(6),s=n(53),l=n(16),u=o.keys,c=o.toKey,h=function e(t,n){var r=u(t,n),o=s(t);if(null===o)return r;var a,c,h=e(o,n);return h.length?r.length?(a=new i(r.concat(h)),l(a,(c=[]).push,c),c):h:r};r({target:"Reflect",stat:!0},{getMetadataKeys:function(e){var t=arguments.length<2?void 0:c(arguments[1]);return h(a(e),t)}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=i.get,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=i.keys,s=i.toKey;r({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(e){var t=arguments.length<2?void 0:s(arguments[1]);return a(o(e),t)}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=n(53),s=i.has,l=i.toKey,u=function e(t,n,r){if(s(t,n,r))return!0;var i=a(n);return null!==i&&e(t,i,r)};r({target:"Reflect",stat:!0},{hasMetadata:function(e,t){var n=arguments.length<3?void 0:l(arguments[2]);return u(e,o(t),n)}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=i.has,s=i.toKey;r({target:"Reflect",stat:!0},{hasOwnMetadata:function(e,t){var n=arguments.length<3?void 0:s(arguments[2]);return a(e,o(t),n)}})},function(e,t,n){var r=n(1),i=n(74),o=n(6),a=i.toKey,s=i.set;r({target:"Reflect",stat:!0},{metadata:function(e,t){return function(n,r){s(e,t,o(n),a(r))}}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(273);r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(156);r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(38),u=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),n=new(l(t,o("Set")))(t),r=s(n.delete);return u(e,function(e){r.call(n,e)}),n}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(35),s=n(93),l=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,function(e){if(!r(e,e,t))return l.stop()},void 0,!1,!0).stopped}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(35),u=n(38),c=n(93),h=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Set"))),d=s(i.add);return h(n,function(e){r(e,e,t)&&d.call(i,e)},void 0,!1,!0),i}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(35),s=n(93),l=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e){if(r(e,e,t))return l.stop(e)},void 0,!1,!0).result}})},function(e,t,n){n(1)({target:"Set",stat:!0},{from:n(157)})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(38),u=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),n=new(l(t,o("Set"))),r=s(t.has),i=s(n.add);return u(e,function(e){r.call(t,e)&&i.call(n,e)}),n}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(20),s=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),n=a(t.has);return!s(e,function(e){if(!0===n.call(t,e))return s.stop()}).stopped}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(132),u=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=l(this),n=a(e),r=n.has;return"function"!=typeof r&&(n=new(o("Set"))(e),r=s(n.has)),!u(t,function(e){if(!1===r.call(n,e))return u.stop()},void 0,!1,!0).stopped}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(20),s=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),n=a(t.has);return!s(e,function(e){if(!1===n.call(t,e))return s.stop()}).stopped}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(93),s=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),n=a(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(35),u=n(38),c=n(93),h=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=a(this),n=c(t),r=l(e,arguments.length>1?arguments[1]:void 0,3),i=new(u(t,o("Set"))),d=s(i.add);return h(n,function(e){d.call(i,r(e,e,t))},void 0,!1,!0),i}})},function(e,t,n){n(1)({target:"Set",stat:!0},{of:n(158)})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(20),s=n(93),l=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t,n,r=o(this),i=s(r);if(a(e),arguments.length>1)t=arguments[1];else{if((n=i.next()).done)throw TypeError("Reduce of empty set with no initial value");t=n.value}return l(i,function(n){t=e(t,n,n,r)},void 0,!1,!0),t}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(6),a=n(35),s=n(93),l=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,function(e){if(r(e,e,t))return l.stop()},void 0,!1,!0).stopped}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(38),u=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),n=new(l(t,o("Set")))(t),r=s(n.delete),i=s(n.add);return u(e,function(e){r.call(n,e)||i.call(n,e)}),n}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(34),a=n(6),s=n(20),l=n(38),u=n(16);r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),n=new(l(t,o("Set")))(t);return u(e,s(n.add),n),n}})},function(e,t,n){"use strict";var r=n(1),i=n(106).charAt;r({target:"String",proto:!0},{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(1),i=n(129),o=n(43),a=n(47),s=n(106),l=s.codeAt,u=s.charAt,c=a.set,h=a.getterFor("String Iterator"),d=i(function(e){c(this,{type:"String Iterator",string:e,index:0})},"String",function(){var e,t=h(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=u(n,r),t.index+=e.length,{value:{codePoint:l(e,0),position:r},done:!1})});r({target:"String",proto:!0},{codePoints:function(){return new d(String(o(this)))}})},function(e,t,n){"use strict";var r=n(1),i=n(37),o=n(43),a=n(6),s=n(152),l=n(105),u=n(38),c=n(23),h=n(11),d=c("replaceAll"),f=RegExp.prototype,p=function(e,t){var n=a(this),r=String("flags"in f?n.flags:l.call(n));return~r.indexOf("g")||(n=new(u(n,RegExp))(n.source,r+"g")),String(e).replace(n,t)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,i,a,l,u,c=o(this);if(null!=e){if(void 0!==(n=e[d]))return n.call(e,c,t);if(h&&s(e))return p.call(e,c,t)}if(r=String(c),i=String(e),a=r.split(i),"function"!=typeof t)return a.join(String(t));for(l=a[0],u=1;u<a.length;u++)l+=String(t(i,u-1,r)),l+=a[u];return l}}),h||d in f||i(f,d,p)},function(e,t,n){n(44)("dispose")},function(e,t,n){n(44)("observable")},function(e,t,n){n(44)("patternMatch")},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(156);r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){n(1)({target:"WeakMap",stat:!0},{from:n(157)})},function(e,t,n){n(1)({target:"WeakMap",stat:!0},{of:n(158)})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(273);r({target:"WeakSet",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=n(156);r({target:"WeakSet",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){n(1)({target:"WeakSet",stat:!0},{from:n(157)})},function(e,t,n){n(1)({target:"WeakSet",stat:!0},{of:n(158)})},function(e,t,n){var r=n(14),i=n(274),o=n(620),a=n(37);for(var s in i){var l=r[s],u=l&&l.prototype;if(u&&u.forEach!==o)try{a(u,"forEach",o)}catch(e){u.forEach=o}}},function(e,t,n){"use strict";var r=n(50).forEach,i=n(128);e.exports=i("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){var r=n(14),i=n(274),o=n(146),a=n(37),s=n(23),l=s("iterator"),u=s("toStringTag"),c=o.values;for(var h in i){var d=r[h],f=d&&d.prototype;if(f){if(f[l]!==c)try{a(f,l,c)}catch(e){f[l]=c}if(f[u]||a(f,u,h),i[h])for(var p in o)if(f[p]!==o[p])try{a(f,p,o[p])}catch(e){f[p]=o[p]}}}},function(e,t,n){var r=n(14),i=n(198),o=!r.setImmediate||!r.clearImmediate;n(1)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){var r=n(1),i=n(14),o=n(260),a=n(65),s=i.process,l="process"==a(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=l&&s.domain;o(t?t.bind(e):e)}})},function(e,t,n){"use strict";n(264);var r,i=n(1),o=n(25),a=n(275),s=n(14),l=n(239),u=n(58),c=n(72),h=n(36),d=n(257),f=n(245),p=n(106).codeAt,g=n(625),m=n(69),v=n(276),y=n(47),b=s.URL,_=v.URLSearchParams,w=v.getState,T=y.set,S=y.getterFor("URL"),E=Math.floor,x=Math.pow,k=/[A-Za-z]/,C=/[\d+\-.A-Za-z]/,O=/\d/,P=/^(0x|0X)/,I=/^[0-7]+$/,A=/^\d+$/,R=/^[\dA-Fa-f]+$/,L=/[\u0000\u0009\u000A\u000D #%\/:?@[\\]]/,M=/[\u0000\u0009\u000A\u000D #\/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\u0009\u000A\u000D]/g,j=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=F(t.slice(1,-1))))return"Invalid host";e.host=n}else if($(e)){if(t=g(t),L.test(t))return"Invalid host";if(null===(n=U(t)))return"Invalid host";e.host=n}else{if(M.test(t))return"Invalid host";for(n="",r=f(t),i=0;i<r.length;i++)n+=G(r[i],z);e.host=n}},U=function(e){var t,n,r,i,o,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=P.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?A:8==o?I:R).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=x(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*x(256,3-r);return s},F=function(e){var t,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return e.charAt(h)};if(":"==d()){if(":"!=e.charAt(1))return;h+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&R.test(d());)t=16*t+parseInt(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,u>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!O.test(d()))return;for(;O.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}l[u]=256*l[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l},B=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},z={},H=d({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),V=d({},H,{"#":1,"?":1,"{":1,"}":1}),W=d({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=p(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},q={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},$=function(e){return h(q,e.scheme)},X=function(e){return""!=e.username||""!=e.password},K=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Y=function(e,t){var n;return 2==e.length&&k.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Z=function(e){var t;return e.length>1&&Y(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Q=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Y(t[0],!0)||t.pop()},J=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ie={},oe={},ae={},se={},le={},ue={},ce={},he={},de={},fe={},pe={},ge={},me={},ve={},ye={},be={},_e={},we=function(e,t,n,i){var o,a,s,l,u,c=n||ee,d=0,p="",g=!1,m=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(D,"")),t=t.replace(N,""),o=f(t);d<=o.length;){switch(a=o[d],c){case ee:if(!a||!k.test(a)){if(n)return"Invalid scheme";c=ne;continue}p+=a.toLowerCase(),c=te;break;case te:if(a&&(C.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",c=ne,d=0;continue}if(n&&($(e)!=h(q,p)||"file"==p&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void($(e)&&q[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?c=fe:$(e)&&i&&i.scheme==e.scheme?c=re:$(e)?c=se:"/"==o[d+1]?(c=ie,d++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ye)}break;case ne:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,c=_e;break}c="file"==i.scheme?fe:oe;continue;case re:if("/"!=a||"/"!=o[d+1]){c=oe;continue}c=le,d++;break;case ie:if("/"==a){c=ue;break}c=ve;continue;case oe:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&$(e))c=ae;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",c=be;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),c=ve;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=_e}break;case ae:if(!$(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,c=ve;continue}c=ue}else c=le;break;case se:if(c=le,"/"!=a||"/"!=p.charAt(d+1))continue;d++;break;case le:if("/"!=a&&"\\"!=a){c=ue;continue}break;case ue:if("@"==a){g&&(p="%40"+p),g=!0,s=f(p);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||v){var _=G(b,W);v?e.password+=_:e.username+=_}else v=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)){if(g&&""==p)return"Invalid authority";d-=f(p).length+1,p="",c=ce}else p+=a;break;case ce:case he:if(n&&"file"==e.scheme){c=ge;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)){if($(e)&&""==p)return"Invalid host";if(n&&""==p&&(X(e)||null!==e.port))return;if(l=j(e,p))return l;if(p="",c=me,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return"Invalid host";if(l=j(e,p))return l;if(p="",c=de,n==he)return}break;case de:if(!O.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return"Invalid port";e.port=$(e)&&w===q[e.scheme]?null:w,p=""}if(n)return;c=me;continue}return"Invalid port"}p+=a;break;case fe:if(e.scheme="file","/"==a||"\\"==a)c=pe;else{if(!i||"file"!=i.scheme){c=ve;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",c=be;else{if("#"!=a){Z(o.slice(d).join(""))||(e.host=i.host,e.path=i.path.slice(),Q(e)),c=ve;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",c=_e}}break;case pe:if("/"==a||"\\"==a){c=ge;break}i&&"file"==i.scheme&&!Z(o.slice(d).join(""))&&(Y(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),c=ve;continue;case ge:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&Y(p))c=ve;else if(""==p){if(e.host="",n)return;c=me}else{if(l=j(e,p))return l;if("localhost"==e.host&&(e.host=""),n)return;p="",c=me}continue}p+=a;break;case me:if($(e)){if(c=ve,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(c=ve,"/"!=a))continue}else e.fragment="",c=_e;else e.query="",c=be;break;case ve:if(a==r||"/"==a||"\\"==a&&$(e)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=p).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(Q(e),"/"==a||"\\"==a&&$(e)||e.path.push("")):J(p)?"/"==a||"\\"==a&&$(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Y(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",c=be):"#"==a&&(e.fragment="",c=_e)}else p+=G(a,V);break;case ye:"?"==a?(e.query="",c=be):"#"==a?(e.fragment="",c=_e):a!=r&&(e.path[0]+=G(a,z));break;case be:n||"#"!=a?a!=r&&("'"==a&&$(e)?e.query+="%27":e.query+="#"==a?"%23":G(a,z)):(e.fragment="",c=_e);break;case _e:a!=r&&(e.fragment+=G(a,H))}d++}},Te=function(e){var t,n,r=c(this,Te,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=T(r,{type:"URL"});if(void 0!==i)if(i instanceof Te)t=S(i);else if(n=we(t={},String(i)))throw TypeError(n);if(n=we(s,a,null,t))throw TypeError(n);var l=s.searchParams=new _,u=w(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},o||(r.href=Ee.call(r),r.origin=xe.call(r),r.protocol=ke.call(r),r.username=Ce.call(r),r.password=Oe.call(r),r.host=Pe.call(r),r.hostname=Ie.call(r),r.port=Ae.call(r),r.pathname=Re.call(r),r.search=Le.call(r),r.searchParams=Me.call(r),r.hash=De.call(r))},Se=Te.prototype,Ee=function(){var e=S(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",X(e)&&(u+=n+(r?":"+r:"")+"@"),u+=B(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},xe=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&$(e)?t+"://"+B(e.host)+(null!==n?":"+n:""):"null"},ke=function(){return S(this).scheme+":"},Ce=function(){return S(this).username},Oe=function(){return S(this).password},Pe=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?B(t):B(t)+":"+n},Ie=function(){var e=S(this).host;return null===e?"":B(e)},Ae=function(){var e=S(this).port;return null===e?"":String(e)},Re=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Le=function(){var e=S(this).query;return e?"?"+e:""},Me=function(){return S(this).searchParams},De=function(){var e=S(this).fragment;return e?"#"+e:""},Ne=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&l(Se,{href:Ne(Ee,function(e){var t=S(this),n=String(e),r=we(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)}),origin:Ne(xe),protocol:Ne(ke,function(e){var t=S(this);we(t,String(e)+":",ee)}),username:Ne(Ce,function(e){var t=S(this),n=f(String(e));if(!K(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=G(n[r],W)}}),password:Ne(Oe,function(e){var t=S(this),n=f(String(e));if(!K(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=G(n[r],W)}}),host:Ne(Pe,function(e){var t=S(this);t.cannotBeABaseURL||we(t,String(e),ce)}),hostname:Ne(Ie,function(e){var t=S(this);t.cannotBeABaseURL||we(t,String(e),he)}),port:Ne(Ae,function(e){var t=S(this);K(t)||(""==(e=String(e))?t.port=null:we(t,e,de))}),pathname:Ne(Re,function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",me))}),search:Ne(Le,function(e){var t=S(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,be)),w(t.searchParams).updateSearchParams(t.query)}),searchParams:Ne(Me),hash:Ne(De,function(e){var t=S(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,_e)):t.fragment=null})}),u(Se,"toJSON",function(){return Ee.call(this)},{enumerable:!0}),u(Se,"toString",function(){return Ee.call(this)},{enumerable:!0}),b){var je=b.createObjectURL,Ue=b.revokeObjectURL;je&&u(Te,"createObjectURL",function(e){return je.apply(b,arguments)}),Ue&&u(Te,"revokeObjectURL",function(e){return Ue.apply(b,arguments)})}m(Te,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Te})},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},c=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,c=128,h=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var f=r.length,p=f;for(f&&r.push("-");p<i;){var g=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=c&&n<g&&(g=n);var m=p+1;if(g-c>a((2147483647-h)/m))throw RangeError(o);for(h+=(g-c)*m,c=g,t=0;t<e.length;t++){if((n=e[t])<c&&++h>2147483647)throw RangeError(o);if(n==c){for(var v=h,y=36;;y+=36){var b=y<=d?1:y>=d+26?26:y-d;if(v<b)break;var _=v-b,w=36-b;r.push(s(l(b+_%w))),v=a(_/w)}r.push(s(l(v))),d=u(h,m,p==f),h=0,++p}}++h,++c}return r.join("")};e.exports=function(e){var t,n,o=[],a=e.toLowerCase().replace(i,".").split(".");for(t=0;t<a.length;t++)n=a[t],o.push(r.test(n)?"xn--"+c(n):n);return o.join(".")}},function(e,t,n){"use strict";n(1)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){n(628),n(629)},function(e,t,n){n(44)("matchAll")},function(e,t,n){"use strict";var r=n(1),i=n(129),o=n(43),a=n(24),s=n(20),l=n(6),u=n(127),c=n(105),h=n(37),d=n(23),f=n(38),p=n(154),g=n(47),m=n(11),v=d("matchAll"),y=g.set,b=g.getterFor("RegExp String Iterator"),_=RegExp.prototype,w=_.exec,T=i(function(e,t,n,r){y(this,{type:"RegExp String Iterator",regexp:e,string:t,global:n,unicode:r,done:!1})},"RegExp String",function(){var e=b(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,r=e.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(e,t)))throw TypeError("Incorrect exec result");return n}return w.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=p(n,a(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})}),S=function(e){var t,n,r,i,o,s,u=l(this),h=String(e);return t=f(u,RegExp),void 0===(n=u.flags)&&u instanceof RegExp&&!("flags"in _)&&(n=c.call(u)),r=void 0===n?"":String(n),i=new t(t===RegExp?u.source:u,r),o=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=a(u.lastIndex),new T(i,h,o,s)};r({target:"String",proto:!0},{matchAll:function(e){var t,n,r,i=o(this);return null!=e&&(void 0===(n=e[v])&&m&&"RegExp"==u(e)&&(n=S),null!=n)?s(n).call(e,i):(t=String(i),r=new RegExp(e,"g"),m?S.call(r,t):r[v](t))}}),m||v in _||h(_,v,S)},function(e,t,n){"use strict";n(631),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(659),n(667),n(668),n(669),n(671),n(678),n(679),n(680),"undefined"==typeof Promise&&(n(681).enable(),window.Promise=n(683)),"undefined"!=typeof window&&n(684),Object.assign=n(221)},function(e,t,n){"use strict";var r=n(54),i=n(66),o=n(94),a=n(159),s=n(133),l=n(161),u=n(163),c=n(75),h=n(136),d=n(137),f=n(212),p=n(62),g=n(283),m=n(48),v=n(639),y=n(219),b=n(96),_=n(76),w=n(135),T=n(160),S=n(134),E=n(284),x=n(642),k=n(206),C=n(80),O=n(207),P=n(95),I=n(218),A=n(162)("hidden"),R=n(211),L=R.set,M=R.getterFor("Symbol"),D=k.f,N=C.f,j=x.f,U=r.Symbol,F=r.JSON,B=F&&F.stringify,z=p("toPrimitive"),H=O.f,V=h("symbol-registry"),W=h("symbols"),G=h("op-symbols"),q=h("wks"),$=Object.prototype,X=r.QObject,K=n(282),Y=!X||!X.prototype||!X.prototype.findChild,Z=o&&c(function(){return 7!=E(N({},"a",{get:function(){return N(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=D($,t);r&&delete $[t],N(e,t,n),r&&e!==$&&N($,t,r)}:N,Q=function(e,t){var n=W[e]=E(U.prototype);return L(n,{type:"Symbol",tag:e,description:t}),o||(n.description=t),n},J=K&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof U},ee=function(e,t,n){return e===$&&ee(G,t,n),b(e),t=T(t,!0),b(n),i(W,t)?(n.enumerable?(i(e,A)&&e[A][t]&&(e[A][t]=!1),n=E(n,{enumerable:S(0,!1)})):(i(e,A)||N(e,A,S(1,{})),e[A][t]=!0),Z(e,t,n)):N(e,t,n)},te=function(e,t){b(e);for(var n,r=v(t=w(t)),i=0,o=r.length;o>i;)ee(e,n=r[i++],t[n]);return e},ne=function(e){var t=H.call(this,e=T(e,!0));return!(this===$&&i(W,e)&&!i(G,e))&&(!(t||!i(this,e)||!i(W,e)||i(this,A)&&this[A][e])||t)},re=function(e,t){if(e=w(e),t=T(t,!0),e!==$||!i(W,t)||i(G,t)){var n=D(e,t);return!n||!i(W,t)||i(e,A)&&e[A][t]||(n.enumerable=!0),n}},ie=function(e){for(var t,n=j(w(e)),r=[],o=0;n.length>o;)i(W,t=n[o++])||i(u,t)||r.push(t);return r},oe=function(e){for(var t,n=e===$,r=j(n?G:w(e)),o=[],a=0;r.length>a;)!i(W,t=r[a++])||n&&!i($,t)||o.push(W[t]);return o};K||(l((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var e=void 0===arguments[0]?void 0:String(arguments[0]),t=f(e),n=function e(n){this===$&&e.call(G,n),i(this,A)&&i(this[A],t)&&(this[A][t]=!1),Z(this,t,S(1,n))};return o&&Y&&Z($,t,{configurable:!0,set:n}),Q(t,e)}).prototype,"toString",function(){return M(this).tag}),O.f=ne,C.f=ee,k.f=re,n(213).f=x.f=ie,n(217).f=oe,o&&(N(U.prototype,"description",{configurable:!0,get:function(){return M(this).description}}),a||l($,"propertyIsEnumerable",ne,{unsafe:!0})),g.f=function(e){return Q(p(e),e)}),s({global:!0,wrap:!0,forced:!K,sham:!K},{Symbol:U});for(var ae=I(q),se=0;ae.length>se;)m(ae[se++]);s({target:"Symbol",stat:!0,forced:!K},{for:function(e){return i(V,e+="")?V[e]:V[e]=U(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol");for(var t in V)if(V[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),s({target:"Object",stat:!0,forced:!K,sham:!o},{create:function(e,t){return void 0===t?E(e):te(E(e),t)},defineProperty:ee,defineProperties:te,getOwnPropertyDescriptor:re}),s({target:"Object",stat:!0,forced:!K},{getOwnPropertyNames:ie,getOwnPropertySymbols:oe}),F&&s({target:"JSON",stat:!0,forced:!K||c(function(){var e=U();return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))})},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!J(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!J(t))return t}),r[1]=t,B.apply(F,r)}}),U.prototype[z]||P(U.prototype,z,U.prototype.valueOf),d(U,"Symbol"),u[A]=!0},function(e,t,n){var r=n(75),i=n(208),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(279),i=n(54).WeakMap;e.exports="function"==typeof i&&/native code/.test(r.call(i))},function(e,t,n){var r=n(213),i=n(217),o=n(96),a=n(54).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(135),i=n(214),o=n(636);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(215),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r=n(75),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},function(e,t,n){e.exports=n(54)},function(e,t,n){var r=n(218),i=n(217),o=n(207);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(94),i=n(80),o=n(96),a=n(218);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(54).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(135),i=n(213).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(94),i=n(66),o=n(76),a=n(80).f,s=n(280),l=n(54).Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var u={},c=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof c?new l(e):void 0===e?l():l(e);return""===e&&(u[t]=!0),t};s(c,l);var h=c.prototype=l.prototype;h.constructor=c;var d=h.toString,f="Symbol(test)"==String(l("test")),p=/^Symbol\((.*)\)[^)]+$/;a(h,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=d.call(e);if(i(u,e))return"";var n=f?t.slice(7,-1):t.replace(p,"$1");return""===n?void 0:n}}),n(133)({global:!0,forced:!0},{Symbol:c})}},function(e,t,n){n(48)("asyncIterator")},function(e,t,n){n(48)("hasInstance")},function(e,t,n){n(48)("isConcatSpreadable")},function(e,t,n){n(48)("iterator")},function(e,t,n){n(48)("match")},function(e,t,n){n(48)("replace")},function(e,t,n){n(48)("search")},function(e,t,n){n(48)("species")},function(e,t,n){n(48)("split")},function(e,t,n){n(48)("toPrimitive")},function(e,t,n){n(48)("toStringTag")},function(e,t,n){n(48)("unscopables")},function(e,t,n){"use strict";var r=n(219),i=n(76),o=n(220),a=n(214),s=n(285),l=n(657),u=n(62)("isConcatSpreadable"),c=!n(75)(function(){var e=[];return e[u]=!1,e.concat()[0]!==e}),h=n(658)("concat"),d=function(e){if(!i(e))return!1;var t=e[u];return void 0!==t?!!t:r(e)},f=!c||!h;n(133)({target:"Array",proto:!0,forced:f},{concat:function(e){var t,n,r,i,u,c=o(this),h=l(c,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(u=-1===t?c:arguments[t],d(u)){if(f+(i=a(u.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in u&&s(h,f,u[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(h,f++,u)}return h.length=f,h}})},function(e,t,n){var r=n(76),i=n(219),o=n(62)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(75),i=n(62)("species");e.exports=function(e){return!r(function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){var r=!n(660)(function(e){Array.from(e)});n(133)({target:"Array",stat:!0,forced:r},{from:n(661)})},function(e,t,n){var r=n(62)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(662),i=n(220),o=n(664),a=n(665),s=n(214),l=n(285),u=n(666);e.exports=function(e){var t,n,c,h,d=i(e),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=u(d);if(m&&(g=r(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&a(y))for(n=new f(t=s(d.length));t>v;v++)l(n,v,m?g(d[v],v):d[v]);else for(h=y.call(d),n=new f;!(c=h.next()).done;v++)l(n,v,m?o(h,g,[c.value,v],!0):c.value);return n.length=v,n}},function(e,t,n){var r=n(663);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(96);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(164),i=n(62)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(286),i=n(62)("iterator"),o=n(164);e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){n(137)(n(54).JSON,"JSON",!0)},function(e,t,n){n(137)(Math,"Math",!0)},function(e,t,n){var r=n(670),i=Object.prototype;r!==i.toString&&n(161)(i,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var r=n(286),i={};i[n(62)("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(e,t,n){"use strict";var r=n(672),i=n(211),o=n(673),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(e){a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i,!0),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(215),i=n(209);e.exports=function(e,t,n){var o,a,s=String(i(e)),l=r(t),u=s.length;return l<0||l>=u?n?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?n?s.charAt(l):o:n?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}},function(e,t,n){"use strict";var r=n(133),i=n(674),o=n(288),a=n(676),s=n(137),l=n(95),u=n(161),c=n(159),h=n(62)("iterator"),d=n(164),f=n(287),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=function(){return this};e.exports=function(e,t,n,f,v,y,b){i(n,t,f);var _,w,T,S=function(e){if(e===v&&O)return O;if(!g&&e in k)return k[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},E=t+" Iterator",x=!1,k=e.prototype,C=k[h]||k["@@iterator"]||v&&k[v],O=!g&&C||S(v),P="Array"==t&&k.entries||C;if(P&&(_=o(P.call(new e)),p!==Object.prototype&&_.next&&(c||o(_)===p||(a?a(_,p):"function"!=typeof _[h]&&l(_,h,m)),s(_,E,!0,!0),c&&(d[E]=m))),"values"==v&&C&&"values"!==C.name&&(x=!0,O=function(){return C.call(this)}),c&&!b||k[h]===O||l(k,h,O),d[t]=O,v)if(w={values:S("values"),keys:y?O:S("keys"),entries:S("entries")},b)for(T in w)!g&&!x&&T in k||u(k,T,w[T]);else r({target:t,proto:!0,forced:g||x},w);return w}},function(e,t,n){"use strict";var r=n(287).IteratorPrototype,i=n(284),o=n(134),a=n(137),s=n(164),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,u,!1,!0),s[u]=l,e}},function(e,t,n){e.exports=!n(75)(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(677);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n,i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var r=n(76),i=n(96);e.exports=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}},function(e,t,n){n(48)("dispose")},function(e,t,n){n(48)("observable")},function(e,t,n){n(48)("patternMatch")},function(e,t,n){"use strict";var r=n(289),i=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,r._l=null,r._m=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},o&&a();o=!0;var t=0,n=0,l={};function u(t){(e.allRejections||s(l[t].error,e.whitelist||i))&&(l[t].displayId=n++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(l[t].displayId,l[t].error)))}r._l=function(t){2===t._i&&l[t._o]&&(l[t._o].logged?function(t){l[t].logged&&(e.onHandled?e.onHandled(l[t].displayId,l[t].error):l[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[t].displayId+".")))}(t._o):clearTimeout(l[t._o].timeout),delete l[t._o])},r._m=function(e,n){0===e._h&&(e._o=t++,l[e._o]={displayId:null,error:n,timeout:setTimeout(u.bind(null,e._o),s(n,i)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0,a=1024;function s(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>a){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var l,u,c,h=void 0!==t?t:self,d=h.MutationObserver||h.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(l=1,u=new d(s),c=document.createTextNode(""),u.observe(c,{characterData:!0}),r=function(){l=-l,c.data=l}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(this,n(28))},function(e,t,n){"use strict";var r=n(289);e.exports=r;var i=c(!0),o=c(!1),a=c(null),s=c(void 0),l=c(0),u=c("");function c(e){var t=new r(r._n);return t._i=1,t._j=e,t}r.resolve=function(e){if(e instanceof r)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return i;if(!1===e)return o;if(0===e)return l;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new r(t.bind(e))}catch(e){return new r(function(t,n){n(e)})}return c(e)},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){if(0===t.length)return e([]);var i=t.length;function o(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._i;)s=s._j;return 1===s._i?o(a,s._j):(2===s._i&&n(s._j),void s.then(function(e){o(a,e)},n))}var l=s.then;if("function"==typeof l)return void new r(l.bind(s)).then(function(e){o(a,e)},n)}t[a]=s,0==--i&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){e.forEach(function(e){r.resolve(e).then(t,n)})})},r.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",function(){return u}),n.d(t,"Request",function(){return m}),n.d(t,"Response",function(){return y}),n.d(t,"DOMException",function(){return _}),n.d(t,"fetch",function(){return w});var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=a(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[a(e)]},u.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},u.prototype.set=function(e,t){this.map[a(e)]=s(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),l(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),l(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){var n,r,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),g.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},p.call(m.prototype),p.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];y.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})};var _=self.DOMException;try{new _}catch(e){(_=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function w(e,t){return new Promise(function(n,i){var o=new m(e,t);if(o.signal&&o.signal.aborted)return i(new _("Aborted","AbortError"));var a=new XMLHttpRequest;function s(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new y(i,r))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new _("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",s),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",s)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=u,self.Request=m,self.Response=y)},function(e,t,n){"use strict";var r=n(221),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function w(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}function T(){}function S(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||b}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=w.prototype;var E=S.prototype=new T;E.constructor=S,r(E,w.prototype),E.isPureReactComponent=!0;var x={current:null},k={current:null},C=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:k.current}}function I(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,R=[];function L(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+N(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+N(s=t[u],u);l+=e(s,c,r,i)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=v&&t[v]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+N(s,u++),r,i);else"object"===s&&y("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,function(e){return e}):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),D(e,U,t=L(t,o,r,i)),M(t)}function B(){var e=x.current;return null===e&&y("321"),e}var z={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,j,t=L(null,null,t,n)),M(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return F(e,t,null,function(e){return e}),t},only:function(e){return I(e)||y("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,StrictMode:l,Suspense:p,createElement:P,cloneElement:function(e,t,n){null==e&&y("267",e);var i=void 0,a=r({},e.props),s=e.key,l=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,u=k.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)C.call(t,i)&&!O.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var h=0;h<i;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:o,type:e.type,key:s,ref:l,props:a,_owner:u}},createFactory:function(e){var t=P.bind(null,e);return t.type=e,t},isValidElement:I,version:"16.8.6",unstable_ConcurrentMode:d,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:x,ReactCurrentOwner:k,assign:r}},H={default:z},V=H&&z||H;e.exports=V.default||V},function(e,t,n){"use strict";var r=n(0),i=n(221),o=n(687);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],u=0;(e=Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,l=null,u=!1,c=null,h={onError:function(e){s=!0,l=e}};function d(e,t,n,r,i,o,a,u,c){s=!1,l=null,function(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(h,arguments)}var f=null,p={};function g(){if(f)for(var e in p){var t=p[e],n=f.indexOf(e);if(-1<n||a("96",e),!v[n])for(var r in t.extractEvents||a("97",e),v[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;y.hasOwnProperty(l)&&a("99",l),y[l]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&m(u[i],s,l);i=!0}else o.registrationName?(m(o.registrationName,s,l),i=!0):i=!1;i||a("98",r,e)}}}function m(e,t,n){b[e]&&a("100",e),b[e]=t,_[e]=t.eventTypes[n].dependencies}var v=[],y={},b={},_={},w=null,T=null,S=null;function E(e,t,n){var r=e.type||"unknown-event";e.currentTarget=S(n),function(e,t,n,r,i,o,h,f,p){if(d.apply(this,arguments),s){if(s){var g=l;s=!1,l=null}else a("198"),g=void 0;u||(u=!0,c=g)}}(r,t,void 0,e),e.currentTarget=null}function x(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function k(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var C=null;function O(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)E(e,t[r],n[r]);else t&&E(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var P={injectEventPluginOrder:function(e){f&&a("101"),f=Array.prototype.slice.call(e),g()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];p.hasOwnProperty(t)&&p[t]===r||(p[t]&&a("102",t),p[t]=r,n=!0)}n&&g()}};function I(e,t){var n=e.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function A(e){if(null!==e&&(C=x(C,e)),e=C,C=null,e&&(k(e,O),C&&a("95"),u))throw e=c,u=!1,c=null,e}var R=Math.random().toString(36).slice(2),L="__reactInternalInstance$"+R,M="__reactEventHandlers$"+R;function D(e){if(e[L])return e[L];for(;!e[L];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[L]).tag||6===e.tag?e:null}function N(e){return!(e=e[L])||5!==e.tag&&6!==e.tag?null:e}function j(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function U(e){return e[M]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=I(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=x(n._dispatchListeners,t),n._dispatchInstances=x(n._dispatchInstances,e))}function z(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function H(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=I(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=x(n._dispatchListeners,t),n._dispatchInstances=x(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&H(e._targetInst,null,e)}function W(e){k(e,z)}var G=!("undefined"==typeof window||!window.document||!window.document.createElement);function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},X={},K={};function Y(e){if(X[e])return X[e];if(!$[e])return e;var t,n=$[e];for(t in n)if(n.hasOwnProperty(t)&&t in K)return X[e]=n[t];return e}G&&(K=document.createElement("div").style,"AnimationEvent"in window||(delete $.animationend.animation,delete $.animationiteration.animation,delete $.animationstart.animation),"TransitionEvent"in window||delete $.transitionend.transition);var Z=Y("animationend"),Q=Y("animationiteration"),J=Y("animationstart"),ee=Y("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function oe(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ue(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ce(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function he(e){e.eventPool=[],e.getPooled=ue,e.release=ce}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,he(n),n},he(le);var de=le.extend({data:null}),fe=le.extend({data:null}),pe=[9,13,27,32],ge=G&&"CompositionEvent"in window,me=null;G&&"documentMode"in document&&(me=document.documentMode);var ve=G&&"TextEvent"in window&&!me,ye=G&&(!ge||me&&8<me&&11>=me),be=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function Te(e,t){switch(e){case"keyup":return-1!==pe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Se(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ee=!1;var xe={eventTypes:_e,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ge)e:{switch(e){case"compositionstart":i=_e.compositionStart;break e;case"compositionend":i=_e.compositionEnd;break e;case"compositionupdate":i=_e.compositionUpdate;break e}i=void 0}else Ee?Te(e,n)&&(i=_e.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=_e.compositionStart);return i?(ye&&"ko"!==n.locale&&(Ee||i!==_e.compositionStart?i===_e.compositionEnd&&Ee&&(o=oe()):(re="value"in(ne=r)?ne.value:ne.textContent,Ee=!0)),i=de.getPooled(i,t,n,r),o?i.data=o:null!==(o=Se(n))&&(i.data=o),W(i),o=i):o=null,(e=ve?function(e,t){switch(e){case"compositionend":return Se(t);case"keypress":return 32!==t.which?null:(we=!0,be);case"textInput":return(e=t.data)===be&&we?null:e;default:return null}}(e,n):function(e,t){if(Ee)return"compositionend"===e||!ge&&Te(e,t)?(e=oe(),ie=re=ne=null,Ee=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=fe.getPooled(_e.beforeInput,t,n,r)).data=e,W(t)):t=null,null===o?t:null===t?o:[o,t]}},ke=null,Ce=null,Oe=null;function Pe(e){if(e=T(e)){"function"!=typeof ke&&a("280");var t=w(e.stateNode);ke(e.stateNode,e.type,t)}}function Ie(e){Ce?Oe?Oe.push(e):Oe=[e]:Ce=e}function Ae(){if(Ce){var e=Ce,t=Oe;if(Oe=Ce=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Re(e,t){return e(t)}function Le(e,t,n){return e(t,n)}function Me(){}var De=!1;function Ne(e,t){if(De)return e(t);De=!0;try{return Re(e,t)}finally{De=!1,(null!==Ce||null!==Oe)&&(Me(),Ae())}}var je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!je[e.type]:"textarea"===t}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!G)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function ze(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function He(e){e._valueTracker||(e._valueTracker=function(e){var t=ze(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ze(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var We=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;We.hasOwnProperty("ReactCurrentDispatcher")||(We.ReactCurrentDispatcher={current:null});var Ge=/^(.*)[\\\/]/,qe="function"==typeof Symbol&&Symbol.for,$e=qe?Symbol.for("react.element"):60103,Xe=qe?Symbol.for("react.portal"):60106,Ke=qe?Symbol.for("react.fragment"):60107,Ye=qe?Symbol.for("react.strict_mode"):60108,Ze=qe?Symbol.for("react.profiler"):60114,Qe=qe?Symbol.for("react.provider"):60109,Je=qe?Symbol.for("react.context"):60110,et=qe?Symbol.for("react.concurrent_mode"):60111,tt=qe?Symbol.for("react.forward_ref"):60112,nt=qe?Symbol.for("react.suspense"):60113,rt=qe?Symbol.for("react.memo"):60115,it=qe?Symbol.for("react.lazy"):60116,ot="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ke:return"Fragment";case Xe:return"Portal";case Ze:return"Profiler";case Ye:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Qe:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case it:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=st(e.type);n=null,r&&(n=st(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Ge,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,ht={},dt={};function ft(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new ft(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new ft(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new ft(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new ft(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new ft(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new ft(e,3,!0,e,null)}),["capture","download"].forEach(function(e){pt[e]=new ft(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){pt[e]=new ft(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){pt[e]=new ft(e,5,!1,e.toLowerCase(),null)});var gt=/[\-:]([a-z])/g;function mt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var i=pt.hasOwnProperty(t)?pt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ct.call(dt,e)||!ct.call(ht,e)&&(ut.test(e)?dt[e]=!0:(ht[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _t(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function Tt(e,t){wt(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Et(e,t.type,n):t.hasOwnProperty("defaultValue")&&Et(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function St(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Et(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,mt);pt[t]=new ft(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,mt);pt[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,mt);pt[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new ft(e,1,!1,e.toLowerCase(),null)});var xt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function kt(e,t,n){return(e=le.getPooled(xt.change,e,t,n)).type="change",Ie(n),W(e),e}var Ct=null,Ot=null;function Pt(e){A(e)}function It(e){if(Ve(j(e)))return e}function At(e,t){if("change"===e)return t}var Rt=!1;function Lt(){Ct&&(Ct.detachEvent("onpropertychange",Mt),Ot=Ct=null)}function Mt(e){"value"===e.propertyName&&It(Ot)&&Ne(Pt,e=kt(Ot,e,Fe(e)))}function Dt(e,t,n){"focus"===e?(Lt(),Ot=n,(Ct=t).attachEvent("onpropertychange",Mt)):"blur"===e&&Lt()}function Nt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(Ot)}function jt(e,t){if("click"===e)return It(t)}function Ut(e,t){if("input"===e||"change"===e)return It(t)}G&&(Rt=Be("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:xt,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var i=t?j(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=At:Ue(i)?Rt?o=Ut:(o=Nt,a=Dt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=jt),o&&(o=o(e,t)))return kt(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Et(i,"number",i.value)}},Bt=le.extend({view:null,detail:null}),zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ht(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=zt[e])&&!!t[e]}function Vt(){return Ht}var Wt=0,Gt=0,qt=!1,$t=!1,Xt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Wt;return Wt=e.screenX,qt?"mousemove"===e.type?e.screenX-t:0:(qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Gt;return Gt=e.screenY,$t?"mousemove"===e.type?e.screenY-t:0:($t=!0,0)}}),Kt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zt={eventTypes:Yt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?D(t):null):o=null,o===t)return null;var a=void 0,s=void 0,l=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=Xt,s=Yt.mouseLeave,l=Yt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Kt,s=Yt.pointerLeave,l=Yt.pointerEnter,u="pointer");var c=null==o?i:j(o);if(i=null==t?i:j(t),(e=a.getPooled(s,o,n,r)).type=u+"leave",e.target=c,e.relatedTarget=i,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=c,r=t,o&&r)e:{for(i=r,u=0,a=t=o;a;a=F(a))u++;for(a=0,l=i;l;l=F(l))a++;for(;0<u-a;)t=F(t),u--;for(;0<a-u;)i=F(i),a--;for(;u--;){if(t===i||t===i.alternate)break e;t=F(t),i=F(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(u=o.alternate)||u!==i);)t.push(o),o=F(o);for(o=[];r&&r!==i&&(null===(u=r.alternate)||u!==i);)o.push(r),r=F(r);for(r=0;r<t.length;r++)H(t[r],"bubbled",e);for(r=o.length;0<r--;)H(o[r],"captured",n);return[e,n]}};function Qt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Jt=Object.prototype.hasOwnProperty;function en(e,t){if(Qt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jt.call(t,n[r])||!Qt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return nn(i),e;if(s===r)return nn(i),t;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Bt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn=Bt.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dn=Xt.extend({dataTransfer:null}),fn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),pn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),mn=[["abort","abort"],[Z,"animationEnd"],[Q,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},yn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),mn.forEach(function(e){bn(e,!1)});var _n={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=yn[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=hn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fn;break;case Z:case Q:case J:e=on;break;case ee:e=pn;break;case"scroll":e=Bt;break;case"wheel":e=gn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Kt;break;default:e=le}return W(t=e.getPooled(i,t,n,r)),t}},wn=_n.isInteractiveTopLevelEventType,Tn=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=D(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Fe(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<v.length;s++){var l=v[s];l&&(l=l.extractEvents(r,t,o,i))&&(a=x(a,l))}A(a)}}var En=!0;function xn(e,t){if(!t)return null;var n=(wn(e)?Cn:On).bind(null,e);t.addEventListener(e,n,!1)}function kn(e,t){if(!t)return null;var n=(wn(e)?Cn:On).bind(null,e);t.addEventListener(e,n,!0)}function Cn(e,t){Le(On,e,t)}function On(e,t){if(En){var n=Fe(t);if(null===(n=D(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),Tn.length){var r=Tn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Ne(Sn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Tn.length&&Tn.push(e)}}}var Pn={},In=0,An="_reactListenersID"+(""+Math.random()).slice(2);function Rn(e){return Object.prototype.hasOwnProperty.call(e,An)||(e[An]=In++,Pn[e[An]]={}),Pn[e[An]]}function Ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dn(e,t){var n,r=Mn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function Nn(){for(var e=window,t=Ln();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Ln((e=t.contentWindow).document)}return t}function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Un(e){var t=Nn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&jn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Dn(n,o);var a=Dn(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fn=G&&"documentMode"in document&&11>=document.documentMode,Bn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zn=null,Hn=null,Vn=null,Wn=!1;function Gn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wn||null==zn||zn!==Ln(n)?null:("selectionStart"in(n=zn)&&jn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vn&&en(Vn,n)?null:(Vn=n,(e=le.getPooled(Bn.select,Hn,e,t)).type="select",e.target=zn,W(e),e))}var qn={eventTypes:Bn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Rn(o),i=_.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?j(t):window,e){case"focus":(Ue(o)||"true"===o.contentEditable)&&(zn=o,Hn=t,Vn=null);break;case"blur":Vn=Hn=zn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,Gn(n,r);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Gn(n,r)}return null}};function $n(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Kn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Zn(e,t){var n=yt(t.value),r=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Qn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}P.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=U,T=N,S=j,P.injectEventPluginsByName({SimpleEventPlugin:_n,EnterLeaveEventPlugin:Zt,ChangeEventPlugin:Ft,SelectEventPlugin:qn,BeforeInputEventPlugin:xe});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr=void 0,rr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Jn.svg||"innerHTML"in e)e.innerHTML=t;else{for((nr=nr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=nr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var or={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ar=["Webkit","ms","Moz","O"];function sr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function lr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=sr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(or).forEach(function(e){ar.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});var ur=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cr(e,t){t&&(ur[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function hr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function dr(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=_[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":kn("scroll",e);break;case"focus":case"blur":kn("focus",e),kn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Be(i)&&kn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&xn(i,e)}n[i]=!0}}}function fr(){}var pr=null,gr=null;function mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,br="function"==typeof clearTimeout?clearTimeout:void 0,_r=o.unstable_scheduleCallback,wr=o.unstable_cancelCallback;function Tr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Sr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Er=[],xr=-1;function kr(e){0>xr||(e.current=Er[xr],Er[xr]=null,xr--)}function Cr(e,t){Er[++xr]=e.current,e.current=t}var Or={},Pr={current:Or},Ir={current:!1},Ar=Or;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Or;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Lr(e){return null!=(e=e.childContextTypes)}function Mr(e){kr(Ir),kr(Pr)}function Dr(e){kr(Ir),kr(Pr)}function Nr(e,t,n){Pr.current!==Or&&a("168"),Cr(Pr,t),Cr(Ir,n)}function jr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",st(t)||"Unknown",o);return i({},n,r)}function Ur(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Or,Ar=Pr.current,Cr(Pr,t),Cr(Ir,Ir.current),!0}function Fr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=jr(e,t,Ar),r.__reactInternalMemoizedMergedChildContext=t,kr(Ir),kr(Pr),Cr(Pr,t)):kr(Ir),Cr(Ir,n)}var Br=null,zr=null;function Hr(e){return function(t){try{return e(t)}catch(e){}}}function Vr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Wr(e,t,n,r){return new Vr(e,t,n,r)}function Gr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qr(e,t){var n=e.alternate;return null===n?((n=Wr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $r(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Gr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Ke:return Xr(n.children,i,o,t);case et:return Kr(n,3|i,o,t);case Ye:return Kr(n,2|i,o,t);case Ze:return(e=Wr(12,n,t,4|i)).elementType=Ze,e.type=Ze,e.expirationTime=o,e;case nt:return(e=Wr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Qe:s=10;break e;case Je:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case it:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Wr(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Xr(e,t,n,r){return(e=Wr(7,e,r,t)).expirationTime=n,e}function Kr(e,t,n,r){return e=Wr(8,e,r,t),t=0==(1&t)?Ye:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Yr(e,t,n){return(e=Wr(6,e,null,t)).expirationTime=n,e}function Zr(e,t,n){return(t=Wr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ti(t,e)}function Jr(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ti(t,e)}function ei(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ti(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ni(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ri=(new r.Component).refs;function ii(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var oi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ws(),i=Ko(r=Xa(r,e));i.payload=t,null!=n&&(i.callback=n),Ha(),Zo(e,i),Za(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ws(),i=Ko(r=Xa(r,e));i.tag=Vo,i.payload=t,null!=n&&(i.callback=n),Ha(),Zo(e,i),Za(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ws(),r=Ko(n=Xa(n,e));r.tag=Wo,null!=t&&(r.callback=t),Ha(),Zo(e,r),Za(e,n)}};function ai(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,o))}function si(e,t,n){var r=!1,i=Or,o=t.contextType;return"object"==typeof o&&null!==o?o=zo(o):(i=Lr(t)?Ar:Pr.current,o=(r=null!=(r=t.contextTypes))?Rr(e,i):Or),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function li(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function ui(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ri;var o=t.contextType;"object"==typeof o&&null!==o?i.context=zo(o):(o=Lr(t)?Ar:Pr.current,i.context=Rr(e,o)),null!==(o=e.updateQueue)&&(ta(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(ii(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oi.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(ta(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var ci=Array.isArray;function hi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ri&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function di(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function fi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=qr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=hi(e,t,n),r.return=e,r):((r=$r(n.type,n.key,n.props,null,e.mode,r)).ref=hi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Xr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Yr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case $e:return(n=$r(t.type,t.key,t.props,null,e.mode,n)).ref=hi(e,null,t),n.return=e,n;case Xe:return(t=Zr(t,e.mode,n)).return=e,t}if(ci(t)||at(t))return(t=Xr(t,e.mode,n,null)).return=e,t;di(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case $e:return n.key===i?n.type===Ke?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case Xe:return n.key===i?c(e,t,n,r):null}if(ci(n)||at(n))return null!==i?null:h(e,t,n,r,null);di(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case $e:return e=e.get(null===r.key?n:r.key)||null,r.type===Ke?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case Xe:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ci(r)||at(r))return h(t,e=e.get(n)||null,r,i,null);di(t,r)}return null}function g(i,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(i,h,s[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,g),null===c?u=v:c.sibling=v,c=v,h=m}if(g===s.length)return n(i,h),u;if(null===h){for(;g<s.length;g++)(h=d(i,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);g<s.length;g++)(m=p(h,i,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach(function(e){return t(i,e)}),u}function m(i,s,l,u){var c=at(l);"function"!=typeof c&&a("150"),null==(l=c.call(l))&&a("151");for(var h=c=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=f(i,g,y.value,u);if(null===b){g||(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),c;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,u))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return c}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,u))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return e&&g.forEach(function(e){return t(i,e)}),c}return function(e,r,o,l){var u="object"==typeof o&&null!==o&&o.type===Ke&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case $e:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?o.type===Ke:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===Ke?o.props.children:o.props)).ref=hi(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Ke?((r=Xr(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=$r(o.type,o.key,o.props,null,e.mode,l)).ref=hi(e,r,o),l.return=e,e=l)}return s(e);case Xe:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zr(o,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yr(o,e.mode,l)).return=e,e=r),s(e);if(ci(o))return g(e,r,o,l);if(at(o))return m(e,r,o,l);if(c&&di(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:a("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var pi=fi(!0),gi=fi(!1),mi={},vi={current:mi},yi={current:mi},bi={current:mi};function _i(e){return e===mi&&a("174"),e}function wi(e,t){Cr(bi,t),Cr(yi,e),Cr(vi,mi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}kr(vi),Cr(vi,t)}function Ti(e){kr(vi),kr(yi),kr(bi)}function Si(e){_i(bi.current);var t=_i(vi.current),n=tr(t,e.type);t!==n&&(Cr(yi,e),Cr(vi,n))}function Ei(e){yi.current===e&&(kr(vi),kr(yi))}var xi=0,ki=2,Ci=4,Oi=8,Pi=16,Ii=32,Ai=64,Ri=128,Li=We.ReactCurrentDispatcher,Mi=0,Di=null,Ni=null,ji=null,Ui=null,Fi=null,Bi=null,zi=0,Hi=null,Vi=0,Wi=!1,Gi=null,qi=0;function $i(){a("321")}function Xi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function Ki(e,t,n,r,i,o){if(Mi=o,Di=t,ji=null!==e?e.memoizedState:null,Li.current=null===ji?lo:uo,t=n(r,i),Wi){do{Wi=!1,qi+=1,ji=null!==e?e.memoizedState:null,Bi=Ui,Hi=Fi=Ni=null,Li.current=uo,t=n(r,i)}while(Wi);Gi=null,qi=0}return Li.current=so,(e=Di).memoizedState=Ui,e.expirationTime=zi,e.updateQueue=Hi,e.effectTag|=Vi,e=null!==Ni&&null!==Ni.next,Mi=0,Bi=Fi=Ui=ji=Ni=Di=null,zi=0,Hi=null,Vi=0,e&&a("300"),t}function Yi(){Li.current=so,Mi=0,Bi=Fi=Ui=ji=Ni=Di=null,zi=0,Hi=null,Vi=0,Wi=!1,Gi=null,qi=0}function Zi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Fi?Ui=Fi=e:Fi=Fi.next=e,Fi}function Qi(){if(null!==Bi)Bi=(Fi=Bi).next,ji=null!==(Ni=ji)?Ni.next:null;else{null===ji&&a("310");var e={memoizedState:(Ni=ji).memoizedState,baseState:Ni.baseState,queue:Ni.queue,baseUpdate:Ni.baseUpdate,next:null};Fi=null===Fi?Ui=e:Fi.next=e,ji=Ni.next}return Fi}function Ji(e,t){return"function"==typeof t?t(e):t}function eo(e){var t=Qi(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<qi){var r=n.dispatch;if(null!==Gi){var i=Gi.get(n);if(void 0!==i){Gi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Qt(o,t.memoizedState)||(wo=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=i=null,u=r,c=!1;do{var h=u.expirationTime;h<Mi?(c||(c=!0,l=s,i=o),h>zi&&(zi=h)):o=u.eagerReducer===e?u.eagerState:e(o,u.action),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,i=o),Qt(o,t.memoizedState)||(wo=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function to(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Hi?(Hi={lastEffect:null}).lastEffect=e.next=e:null===(t=Hi.lastEffect)?Hi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Hi.lastEffect=e),e}function no(e,t,n,r){var i=Zi();Vi|=e,i.memoizedState=to(t,n,void 0,void 0===r?null:r)}function ro(e,t,n,r){var i=Qi();r=void 0===r?null:r;var o=void 0;if(null!==Ni){var a=Ni.memoizedState;if(o=a.destroy,null!==r&&Xi(r,a.deps))return void to(xi,n,o,r)}Vi|=e,i.memoizedState=to(t,n,o,r)}function io(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oo(){}function ao(e,t,n){25>qi||a("301");var r=e.alternate;if(e===Di||null!==r&&r===Di)if(Wi=!0,e={expirationTime:Mi,action:n,eagerReducer:null,eagerState:null,next:null},null===Gi&&(Gi=new Map),void 0===(n=Gi.get(t)))Gi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Ha();var i=ws(),o={expirationTime:i=Xa(i,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(o.eagerReducer=r,o.eagerState=c,Qt(c,u))return}catch(e){}Za(e,i)}}var so={readContext:zo,useCallback:$i,useContext:$i,useEffect:$i,useImperativeHandle:$i,useLayoutEffect:$i,useMemo:$i,useReducer:$i,useRef:$i,useState:$i,useDebugValue:$i},lo={readContext:zo,useCallback:function(e,t){return Zi().memoizedState=[e,void 0===t?null:t],e},useContext:zo,useEffect:function(e,t){return no(516,Ri|Ai,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,no(4,Ci|Ii,io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4,Ci|Ii,e,t)},useMemo:function(e,t){var n=Zi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ao.bind(null,Di,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zi().memoizedState=e},useState:function(e){var t=Zi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e}).dispatch=ao.bind(null,Di,e),[t.memoizedState,e]},useDebugValue:oo},uo={readContext:zo,useCallback:function(e,t){var n=Qi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:zo,useEffect:function(e,t){return ro(516,Ri|Ai,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ro(4,Ci|Ii,io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4,Ci|Ii,e,t)},useMemo:function(e,t){var n=Qi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:eo,useRef:function(){return Qi().memoizedState},useState:function(e){return eo(Ji)},useDebugValue:oo},co=null,ho=null,fo=!1;function po(e,t){var n=Wr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function mo(e){if(fo){var t=ho;if(t){var n=t;if(!go(e,t)){if(!(t=Tr(n))||!go(e,t))return e.effectTag|=2,fo=!1,void(co=e);po(co,n)}co=e,ho=Sr(t)}else e.effectTag|=2,fo=!1,co=e}}function vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;co=e}function yo(e){if(e!==co)return!1;if(!fo)return vo(e),fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vr(t,e.memoizedProps))for(t=ho;t;)po(e,t),t=Tr(t);return vo(e),ho=co?Tr(e.stateNode):null,!0}function bo(){ho=co=null,fo=!1}var _o=We.ReactCurrentOwner,wo=!1;function To(e,t,n,r){t.child=null===e?gi(t,null,n,r):pi(t,e.child,n,r)}function So(e,t,n,r,i){n=n.render;var o=t.ref;return Bo(t,i),r=Ki(e,t,n,r,o,i),null===e||wo?(t.effectTag|=1,To(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ro(e,t,i))}function Eo(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Gr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$r(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xo(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?Ro(e,t,o):(t.effectTag|=1,(e=qr(a,r)).ref=t.ref,e.return=t,t.child=e)}function xo(e,t,n,r,i,o){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(wo=!1,i<o)?Ro(e,t,o):Co(e,t,n,r,o)}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Co(e,t,n,r,i){var o=Lr(n)?Ar:Pr.current;return o=Rr(t,o),Bo(t,i),n=Ki(e,t,n,r,o,i),null===e||wo?(t.effectTag|=1,To(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ro(e,t,i))}function Oo(e,t,n,r,i){if(Lr(n)){var o=!0;Ur(t)}else o=!1;if(Bo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),si(t,n,r),ui(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=zo(u):u=Rr(t,u=Lr(n)?Ar:Pr.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&li(t,a,r,u),qo=!1;var d=t.memoizedState;l=a.state=d;var f=t.updateQueue;null!==f&&(ta(t,f,r,a,i),l=t.memoizedState),s!==r||d!==l||Ir.current||qo?("function"==typeof c&&(ii(t,n,c,r),l=t.memoizedState),(s=qo||ai(t,n,s,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:ni(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=zo(u):u=Rr(t,u=Lr(n)?Ar:Pr.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&li(t,a,r,u),qo=!1,l=t.memoizedState,d=a.state=l,null!==(f=t.updateQueue)&&(ta(t,f,r,a,i),d=t.memoizedState),s!==r||l!==d||Ir.current||qo?("function"==typeof c&&(ii(t,n,c,r),d=t.memoizedState),(c=qo||ai(t,n,s,r,l,d,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Po(e,t,n,r,o,i)}function Po(e,t,n,r,i,o){ko(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Fr(t,n,!1),Ro(e,t,o);r=t.stateNode,_o.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=pi(t,e.child,null,o),t.child=pi(t,null,s,o)):To(e,t,s,o),t.memoizedState=r.state,i&&Fr(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),wi(e,t.containerInfo)}function Ao(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=i.fallback;e=Xr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Xr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=gi(t,null,i.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,a?(n=i.fallback,i=qr(r,r.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=a)),r=i.sibling=qr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=pi(t,r.child,i.children,n)):(s=e.child,a?(a=i.fallback,(i=Xr(null,r,0,null)).child=s,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Xr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=pi(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Ro(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=qr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Lo(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Ir.current)wo=!0;else if(r<n){switch(wo=!1,t.tag){case 3:Io(t),bo();break;case 5:Si(t);break;case 1:Lr(t.type)&&Ur(t);break;case 4:wi(t,t.stateNode.containerInfo);break;case 10:Uo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ao(e,t,n):null!==(t=Ro(e,t,n))?t.sibling:null}return Ro(e,t,n)}}else wo=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Rr(t,Pr.current);if(Bo(t,n),i=Ki(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Yi(),Lr(r)){var o=!0;Ur(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&ii(t,r,s,e),i.updater=oi,t.stateNode=i,i._reactInternalFiber=t,ui(t,r,e,n),t=Po(null,t,r,!0,o,n)}else t.tag=0,To(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Gr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),o=ni(e,o),s=void 0,i){case 0:s=Co(null,t,e,o,n);break;case 1:s=Oo(null,t,e,o,n);break;case 11:s=So(null,t,e,o,n);break;case 14:s=Eo(null,t,e,ni(e.type,o),r,n);break;default:a("306",e,"")}return s;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:ni(r,i),n);case 1:return r=t.type,i=t.pendingProps,Oo(e,t,r,i=t.elementType===r?i:ni(r,i),n);case 3:return Io(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,ta(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(bo(),t=Ro(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(ho=Sr(t.stateNode.containerInfo),co=t,i=fo=!0),i?(t.effectTag|=2,t.child=gi(t,null,r,n)):(To(e,t,r,n),bo()),t=t.child),t;case 5:return Si(t),null===e&&mo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,vr(r,i)?s=null:null!==o&&vr(r,o)&&(t.effectTag|=16),ko(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(To(e,t,s,n),t=t.child),t;case 6:return null===e&&mo(t),null;case 13:return Ao(e,t,n);case 4:return wi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pi(t,null,r,n):To(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:ni(r,i),n);case 7:return To(e,t,t.pendingProps,n),t.child;case 8:case 12:return To(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Uo(t,o=i.value),null!==s){var l=s.value;if(0===(o=Qt(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!Ir.current){t=Ro(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.contextDependencies;if(null!==u){s=l.child;for(var c=u.first;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===l.tag&&((c=Ko(n)).tag=Wo,Zo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var h=l.return;null!==h;){var d=h.alternate;if(h.childExpirationTime<c)h.childExpirationTime=c,null!==d&&d.childExpirationTime<c&&(d.childExpirationTime=c);else{if(!(null!==d&&d.childExpirationTime<c))break;d.childExpirationTime=c}h=h.return}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}To(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Bo(t,n),r=r(i=zo(i,o.unstable_observedBits)),t.effectTag|=1,To(e,t,r,n),t.child;case 14:return o=ni(i=t.type,t.pendingProps),Eo(e,t,i,o=ni(i.type,o),r,n);case 15:return xo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ni(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Lr(r)?(e=!0,Ur(t)):e=!1,Bo(t,n),si(t,r,i),ui(t,r,i,n),Po(null,t,r,!0,e,n)}a("156")}var Mo={current:null},Do=null,No=null,jo=null;function Uo(e,t){var n=e.type._context;Cr(Mo,n._currentValue),n._currentValue=t}function Fo(e){var t=Mo.current;kr(Mo),e.type._context._currentValue=t}function Bo(e,t){Do=e,jo=No=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(wo=!0),e.contextDependencies=null}function zo(e,t){return jo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(jo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===No?(null===Do&&a("308"),No=t,Do.contextDependencies={first:t,expirationTime:0}):No=No.next=t),e._currentValue}var Ho=0,Vo=1,Wo=2,Go=3,qo=!1;function $o(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ko(e){return{expirationTime:e,tag:Ho,payload:null,callback:null,next:null,nextEffect:null}}function Yo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Zo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=$o(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=$o(e.memoizedState),i=n.updateQueue=$o(n.memoizedState)):r=e.updateQueue=Xo(i):null===i&&(i=n.updateQueue=Xo(r));null===i||r===i?Yo(r,t):null===r.lastUpdate||null===i.lastUpdate?(Yo(r,t),Yo(i,t)):(Yo(r,t),i.lastUpdate=t)}function Qo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=$o(e.memoizedState):Jo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Jo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Xo(t)),t}function ea(e,t,n,r,o,a){switch(n.tag){case Vo:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case Go:e.effectTag=-2049&e.effectTag|64;case Ho:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case Wo:qo=!0}return r}function ta(e,t,n,r,i){qo=!1;for(var o=(t=Jo(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(u=ea(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<i?(null===c&&(c=l,null===a&&(o=u)),s<h&&(s=h)):(u=ea(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=u}function na(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ra(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ra(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ra(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function ia(e,t){return{value:e,source:t,stack:lt(t)}}function oa(e){e.effectTag|=4}var aa=void 0,sa=void 0,la=void 0,ua=void 0;aa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},sa=function(){},la=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(_i(vi.current),e=null,n){case"input":a=bt(s,a),r=bt(s,r),e=[];break;case"option":a=$n(s,a),r=$n(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Kn(s,a),r=Kn(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=fr)}cr(n,r),s=n=void 0;var l=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(s in u)u.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(l||(l={}),l[s]=c[s])}else l||(e||(e=[]),e.push(n,l)),l=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=c&&dr(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}l&&(e=e||[]).push("style",l),o=e,(t.updateQueue=o)&&oa(t)}},ua=function(e,t,n,r){n!==r&&oa(t)};var ca="function"==typeof WeakSet?WeakSet:Set;function ha(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function da(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){$a(e,t)}else t.current=null}function fa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==xi){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==xi&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function pa(e){switch("function"==typeof zr&&zr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){$a(i,e)}}n=n.next}while(n!==t)}break;case 1:if(da(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){$a(e,t)}break;case 5:da(e);break;case 4:va(e)}}function ga(e){return 5===e.tag||3===e.tag||4===e.tag}function ma(e){e:{for(var t=e.return;null!==t;){if(ga(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(ir(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ga(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,s=i.stateNode,l=n;8===o.nodeType?o.parentNode.insertBefore(s,l):o.insertBefore(s,l)}else t.insertBefore(i.stateNode,n);else r?(s=t,l=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(l,s):(o=s).appendChild(l),null!=(s=s._reactRootContainer)||null!==o.onclick||(o.onclick=fr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function va(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(pa(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(pa(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function ya(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fa(Ci,Oi,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[M]=i,"input"===n&&"radio"===i.type&&null!=i.name&&wt(e,i),hr(n,r),r=hr(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?lr(e,s):"dangerouslySetInnerHTML"===a?rr(e,s):"children"===a?ir(e,s):vt(e,a,s,r)}switch(n){case"input":Tt(e,i);break;case"textarea":Zn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Xn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Xn(e,!!i.multiple,i.defaultValue,!0):Xn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=ws())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=sr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new ca),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Xa(t=ws(),e),null!==(e=Ya(e,t))&&(Qr(e,t),0!==(t=e.expirationTime)&&Ts(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:a("163")}}var ba="function"==typeof WeakMap?WeakMap:Map;function _a(e,t,n){(n=Ko(n)).tag=Go,n.payload={element:null};var r=t.value;return n.callback=function(){As(r),ha(e,t)},n}function wa(e,t,n){(n=Ko(n)).tag=Go;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ja?ja=new Set([this]):ja.add(this));var n=t.value,i=t.stack;ha(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Ta(e){switch(e.tag){case 1:Lr(e.type)&&Mr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ti(),Dr(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Ei(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Ti(),null;case 10:return Fo(e),null;default:return null}}var Sa=We.ReactCurrentDispatcher,Ea=We.ReactCurrentOwner,xa=1073741822,ka=!1,Ca=null,Oa=null,Pa=0,Ia=-1,Aa=!1,Ra=null,La=!1,Ma=null,Da=null,Na=null,ja=null;function Ua(){if(null!==Ca)for(var e=Ca.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Mr();break;case 3:Ti(),Dr();break;case 5:Ei(t);break;case 4:Ti();break;case 10:Fo(t)}e=e.return}Oa=null,Pa=0,Ia=-1,Aa=!1,Ca=null}function Fa(){for(;null!==Ra;){var e=Ra.effectTag;if(16&e&&ir(Ra.stateNode,""),128&e){var t=Ra.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:ma(Ra),Ra.effectTag&=-3;break;case 6:ma(Ra),Ra.effectTag&=-3,ya(Ra.alternate,Ra);break;case 4:ya(Ra.alternate,Ra);break;case 8:va(e=Ra),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ra=Ra.nextEffect}}function Ba(){for(;null!==Ra;){if(256&Ra.effectTag)e:{var e=Ra.alternate,t=Ra;switch(t.tag){case 0:case 11:case 15:fa(ki,xi,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ni(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Ra=Ra.nextEffect}}function za(e,t){for(;null!==Ra;){var n=Ra.effectTag;if(36&n){var r=Ra.alternate,i=Ra,o=t;switch(i.tag){case 0:case 11:case 15:fa(Pi,Ii,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var l=i.elementType===i.type?r.memoizedProps:ni(i.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&na(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}na(0,r,s)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&mr(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=Ra.ref)&&(o=Ra.stateNode,"function"==typeof i?i(o):i.current=o)),512&n&&(Ma=e),Ra=Ra.nextEffect}}function Ha(){null!==Da&&wr(Da),null!==Na&&Na()}function Va(e,t){La=ka=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Qr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Qr(e,t)):t>n&&Qr(e,t)}ti(0,e)}(e,i>r?i:r),Ea.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,pr=En,gr=function(){var e=Nn();if(jn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,s=-1,l=0,u=0,c=e,h=null;t:for(;;){for(var d;c!==t||0!==r&&3!==c.nodeType||(a=o+r),c!==i||0!==n&&3!==c.nodeType||(s=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(d=c.firstChild);)h=c,c=d;for(;;){if(c===e)break t;if(h===t&&++l===r&&(a=o),h===i&&++u===n&&(s=o),null!==(d=c.nextSibling))break;h=(c=h).parentNode}c=d}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),En=!1,Ra=r;null!==Ra;){i=!1;var s=void 0;try{Ba()}catch(e){i=!0,s=e}i&&(null===Ra&&a("178"),$a(Ra,s),null!==Ra&&(Ra=Ra.nextEffect))}for(Ra=r;null!==Ra;){i=!1,s=void 0;try{Fa()}catch(e){i=!0,s=e}i&&(null===Ra&&a("178"),$a(Ra,s),null!==Ra&&(Ra=Ra.nextEffect))}for(Un(gr),gr=null,En=!!pr,pr=null,e.current=t,Ra=r;null!==Ra;){i=!1,s=void 0;try{za(e,n)}catch(e){i=!0,s=e}i&&(null===Ra&&a("178"),$a(Ra,s),null!==Ra&&(Ra=Ra.nextEffect))}if(null!==r&&null!==Ma){var l=function(e,t){Na=Da=Ma=null;var n=rs;rs=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;fa(Ri,xi,o),fa(xi,Ai,o)}catch(e){r=!0,i=e}r&&$a(t,i)}t=t.nextEffect}while(null!==t);rs=n,0!==(n=e.expirationTime)&&Ts(e,n),us||rs||Cs(1073741823,!1)}.bind(null,e,r);Da=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return _r(l)}),Na=l}ka=La=!1,"function"==typeof Br&&Br(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(ja=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Wa(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Ca=e;e:{var o=t,s=Pa,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Lr(t.type)&&Mr();break;case 3:Ti(),Dr(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==o&&null!==o.child||(yo(t),t.effectTag&=-3),sa(t);break;case 5:Ei(t);var u=_i(bi.current);if(s=t.type,null!==o&&null!=t.stateNode)la(o,t,s,l,u),o.ref!==t.ref&&(t.effectTag|=128);else if(l){var c=_i(vi.current);if(yo(t)){o=(l=t).stateNode;var h=l.type,d=l.memoizedProps,f=u;switch(o[L]=l,o[M]=d,s=void 0,u=h){case"iframe":case"object":xn("load",o);break;case"video":case"audio":for(h=0;h<te.length;h++)xn(te[h],o);break;case"source":xn("error",o);break;case"img":case"image":case"link":xn("error",o),xn("load",o);break;case"form":xn("reset",o),xn("submit",o);break;case"details":xn("toggle",o);break;case"input":_t(o,d),xn("invalid",o),dr(f,"onChange");break;case"select":o._wrapperState={wasMultiple:!!d.multiple},xn("invalid",o),dr(f,"onChange");break;case"textarea":Yn(o,d),xn("invalid",o),dr(f,"onChange")}for(s in cr(u,d),h=null,d)d.hasOwnProperty(s)&&(c=d[s],"children"===s?"string"==typeof c?o.textContent!==c&&(h=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(h=["children",""+c]):b.hasOwnProperty(s)&&null!=c&&dr(f,s));switch(u){case"input":He(o),St(o,d,!0);break;case"textarea":He(o),Qn(o);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(o.onclick=fr)}s=h,l.updateQueue=s,(l=null!==s)&&oa(t)}else{d=t,f=s,o=l,h=9===u.nodeType?u:u.ownerDocument,c===Jn.html&&(c=er(f)),c===Jn.html?"script"===f?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"==typeof o.is?h=h.createElement(f,{is:o.is}):(h=h.createElement(f),"select"===f&&(f=h,o.multiple?f.multiple=!0:o.size&&(f.size=o.size))):h=h.createElementNS(c,f),(o=h)[L]=d,o[M]=l,aa(o,t,!1,!1),f=o;var p=u,g=hr(h=s,d=l);switch(h){case"iframe":case"object":xn("load",f),u=d;break;case"video":case"audio":for(u=0;u<te.length;u++)xn(te[u],f);u=d;break;case"source":xn("error",f),u=d;break;case"img":case"image":case"link":xn("error",f),xn("load",f),u=d;break;case"form":xn("reset",f),xn("submit",f),u=d;break;case"details":xn("toggle",f),u=d;break;case"input":_t(f,d),u=bt(f,d),xn("invalid",f),dr(p,"onChange");break;case"option":u=$n(f,d);break;case"select":f._wrapperState={wasMultiple:!!d.multiple},u=i({},d,{value:void 0}),xn("invalid",f),dr(p,"onChange");break;case"textarea":Yn(f,d),u=Kn(f,d),xn("invalid",f),dr(p,"onChange");break;default:u=d}cr(h,u),c=void 0;var m=h,v=f,y=u;for(c in y)if(y.hasOwnProperty(c)){var _=y[c];"style"===c?lr(v,_):"dangerouslySetInnerHTML"===c?null!=(_=_?_.__html:void 0)&&rr(v,_):"children"===c?"string"==typeof _?("textarea"!==m||""!==_)&&ir(v,_):"number"==typeof _&&ir(v,""+_):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(b.hasOwnProperty(c)?null!=_&&dr(p,c):null!=_&&vt(v,c,_,g))}switch(h){case"input":He(f),St(f,d,!1);break;case"textarea":He(f),Qn(f);break;case"option":null!=d.value&&f.setAttribute("value",""+yt(d.value));break;case"select":(u=f).multiple=!!d.multiple,null!=(f=d.value)?Xn(u,!!d.multiple,f,!1):null!=d.defaultValue&&Xn(u,!!d.multiple,d.defaultValue,!0);break;default:"function"==typeof u.onClick&&(f.onclick=fr)}(l=mr(s,l))&&oa(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?ua(o,t,o.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&a("166")),o=_i(bi.current),_i(vi.current),yo(t)?(s=(l=t).stateNode,o=l.memoizedProps,s[L]=l,(l=s.nodeValue!==o)&&oa(t)):(s=t,(l=(9===o.nodeType?o:o.ownerDocument).createTextNode(l))[L]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,Ca=t;break e}l=null!==l,s=null!==o&&null!==o.memoizedState,null!==o&&!l&&s&&(null!==(o=o.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(l||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ti(),sa(t);break;case 10:Fo(t);break;case 9:case 14:break;case 17:Lr(t.type)&&Mr();break;case 18:break;default:a("156")}Ca=null}if(t=e,1===Pa||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(o=s.expirationTime)>l&&(l=o),(u=s.childExpirationTime)>l&&(l=u),s=s.sibling;t.childExpirationTime=l}if(null!==Ca)return Ca;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Ta(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Ga(e){var t=Lo(e.alternate,e,Pa);return e.memoizedProps=e.pendingProps,null===t&&(t=Wa(e)),Ea.current=null,t}function qa(e,t){ka&&a("243"),Ha(),ka=!0;var n=Sa.current;Sa.current=so;var r=e.nextExpirationTimeToWorkOn;r===Pa&&e===Oa&&null!==Ca||(Ua(),Pa=r,Ca=qr((Oa=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Ca&&!xs();)Ca=Ga(Ca);else for(;null!==Ca;)Ca=Ga(Ca)}catch(t){if(jo=No=Do=null,Yi(),null===Ca)i=!0,As(t);else{null===Ca&&a("271");var o=Ca,s=o.return;if(null!==s){e:{var l=e,u=s,c=o,h=t;if(s=Pa,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){var d=h;h=u;var f=-1,p=-1;do{if(13===h.tag){var g=h.alternate;if(null!==g&&null!==(g=g.memoizedState)){p=10*(1073741822-g.timedOutAt);break}"number"==typeof(g=h.pendingProps.maxDuration)&&(0>=g?f=0:(-1===f||g<f)&&(f=g))}h=h.return}while(null!==h);h=u;do{if((g=13===h.tag)&&(g=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),g){if(null===(u=h.updateQueue)?((u=new Set).add(d),h.updateQueue=u):u.add(d),0==(1&h.mode)){h.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((s=Ko(1073741823)).tag=Wo,Zo(c,s))),c.expirationTime=1073741823;break e}u=s;var m=(c=l).pingCache;null===m?(m=c.pingCache=new ba,g=new Set,m.set(d,g)):void 0===(g=m.get(d))&&(g=new Set,m.set(d,g)),g.has(u)||(g.add(u),c=Ka.bind(null,c,d,u),d.then(c,c)),-1===f?l=1073741823:(-1===p&&(p=10*(1073741822-ei(l,s))-5e3),l=p+f),0<=l&&Ia<l&&(Ia=l),h.effectTag|=2048,h.expirationTime=s;break e}h=h.return}while(null!==h);h=Error((st(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(c))}Aa=!0,h=ia(h,c),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,Qo(l,s=_a(l,h,s));break e;case 1:if(f=h,p=l.type,c=l.stateNode,0==(64&l.effectTag)&&("function"==typeof p.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===ja||!ja.has(c)))){l.effectTag|=2048,l.expirationTime=s,Qo(l,s=wa(l,f,s));break e}}l=l.return}while(null!==l)}Ca=Wa(o);continue}i=!0,As(t)}}break}if(ka=!1,Sa.current=n,jo=No=Do=null,Yi(),i)Oa=null,e.finishedWork=null;else if(null!==Ca)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Oa=null,Aa){if(i=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==s&&s<r)return Jr(e,r),void _s(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void _s(e,n,r,t,-1)}t&&-1!==Ia?(Jr(e,r),(t=10*(1073741822-ei(e,r)))<Ia&&(Ia=t),t=10*(1073741822-ws()),t=Ia-t,_s(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function $a(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ja||!ja.has(r)))return Zo(n,e=wa(n,e=ia(t,e),1073741823)),void Za(n,1073741823);break;case 3:return Zo(n,e=_a(n,e=ia(t,e),1073741823)),void Za(n,1073741823)}n=n.return}3===e.tag&&(Zo(e,n=_a(e,n=ia(t,e),1073741823)),Za(e,1073741823))}function Xa(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(ka&&!La)r=Pa;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==Oa&&r===Pa&&--r}return n===o.unstable_UserBlockingPriority&&(0===as||r<as)&&(as=r),r}function Ka(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Oa&&Pa===n?Oa=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ti(n,e),0!==(n=e.expirationTime)&&Ts(e,n)))}function Ya(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Za(e,t){null!==(e=Ya(e,t))&&(!ka&&0!==Pa&&t>Pa&&Ua(),Qr(e,t),ka&&!La&&Oa===e||Ts(e,e.expirationTime),ms>gs&&(ms=0,a("185")))}function Qa(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}var Ja=null,es=null,ts=0,ns=void 0,rs=!1,is=null,os=0,as=0,ss=!1,ls=null,us=!1,cs=!1,hs=null,ds=o.unstable_now(),fs=1073741822-(ds/10|0),ps=fs,gs=50,ms=0,vs=null;function ys(){fs=1073741822-((o.unstable_now()-ds)/10|0)}function bs(e,t){if(0!==ts){if(t<ts)return;null!==ns&&o.unstable_cancelCallback(ns)}ts=t,e=o.unstable_now()-ds,ns=o.unstable_scheduleCallback(ks,{timeout:10*(1073741822-t)-e})}function _s(e,t,n,r,i){e.expirationTime=r,0!==i||xs()?0<i&&(e.timeoutHandle=yr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,ys(),ps=fs,Os(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ws(){return rs?ps:(Ss(),0!==os&&1!==os||(ys(),ps=fs),ps)}function Ts(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===es?(Ja=es=e,e.nextScheduledRoot=e):(es=es.nextScheduledRoot=e).nextScheduledRoot=Ja):t>e.expirationTime&&(e.expirationTime=t),rs||(us?cs&&(is=e,os=1073741823,Ps(e,1073741823,!1)):1073741823===t?Cs(1073741823,!1):bs(e,t))}function Ss(){var e=0,t=null;if(null!==es)for(var n=es,r=Ja;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===es)&&a("244"),r===r.nextScheduledRoot){Ja=es=r.nextScheduledRoot=null;break}if(r===Ja)Ja=i=r.nextScheduledRoot,es.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===es){(es=n).nextScheduledRoot=Ja,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===es)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}is=t,os=e}var Es=!1;function xs(){return!!Es||!!o.unstable_shouldYield()&&(Es=!0)}function ks(){try{if(!xs()&&null!==Ja){ys();var e=Ja;do{var t=e.expirationTime;0!==t&&fs<=t&&(e.nextExpirationTimeToWorkOn=fs),e=e.nextScheduledRoot}while(e!==Ja)}Cs(0,!0)}finally{Es=!1}}function Cs(e,t){if(Ss(),t)for(ys(),ps=fs;null!==is&&0!==os&&e<=os&&!(Es&&fs>os);)Ps(is,os,fs>os),Ss(),ys(),ps=fs;else for(;null!==is&&0!==os&&e<=os;)Ps(is,os,!1),Ss();if(t&&(ts=0,ns=null),0!==os&&bs(is,os),ms=0,vs=null,null!==hs)for(e=hs,hs=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ss||(ss=!0,ls=e)}}if(ss)throw e=ls,ls=null,ss=!1,e}function Os(e,t){rs&&a("253"),is=e,os=t,Ps(e,t,!1),Cs(1073741823,!1)}function Ps(e,t,n){if(rs&&a("245"),rs=!0,n){var r=e.finishedWork;null!==r?Is(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),qa(e,n),null!==(r=e.finishedWork)&&(xs()?e.finishedWork=r:Is(e,r,t)))}else null!==(r=e.finishedWork)?Is(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),qa(e,n),null!==(r=e.finishedWork)&&Is(e,r,t));rs=!1}function Is(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===hs?hs=[r]:hs.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===vs?ms++:(vs=e,ms=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){Va(e,t)})}function As(e){null===is&&a("246"),is.expirationTime=0,ss||(ss=!0,ls=e)}function Rs(e,t){var n=us;us=!0;try{return e(t)}finally{(us=n)||rs||Cs(1073741823,!1)}}function Ls(e,t){if(us&&!cs){cs=!0;try{return e(t)}finally{cs=!1}}return e(t)}function Ms(e,t,n){us||rs||0===as||(Cs(as,!1),as=0);var r=us;us=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(us=r)||rs||Cs(1073741823,!1)}}function Ds(e,t,n,r,i){var o=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Lr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var l=n.type;if(Lr(l)){n=jr(n,l,s);break e}}n=s}else n=Or;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Ko(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Ha(),Zo(o,i),Za(o,r),r}function Ns(e,t,n,r){var i=t.current;return Ds(e,t,n,i=Xa(ws(),i),r)}function js(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Us(e){var t=1073741822-25*(1+((1073741822-ws()+500)/25|0));t>=xa&&(t=xa-1),this._expirationTime=xa=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Bs(e,t,n){e={current:t=Wr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function zs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Hs(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=js(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bs(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=js(o._internalRoot);s.call(e)}}Ls(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return js(o._internalRoot)}function Vs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return zs(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Xe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}ke=function(e,t,n){switch(t){case"input":if(Tt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=U(r);i||a("90"),Ve(r),Tt(r,i)}}}break;case"textarea":Zn(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},Us.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Fs;return Ds(e,t,null,n,r._onCommit),r},Us.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Us.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Os(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Us.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Fs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},Bs.prototype.render=function(e,t){var n=this._internalRoot,r=new Fs;return null!==(t=void 0===t?null:t)&&r.then(t),Ns(e,n,null,r._onCommit),r},Bs.prototype.unmount=function(e){var t=this._internalRoot,n=new Fs;return null!==(e=void 0===e?null:e)&&n.then(e),Ns(null,t,null,n._onCommit),n},Bs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Fs;return null!==(n=void 0===n?null:n)&&i.then(n),Ns(t,r,e,i._onCommit),i},Bs.prototype.createBatch=function(){var e=new Us(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Re=Rs,Le=Ms,Me=function(){rs||0===as||(Cs(as,!1),as=0)};var Ws,Gs,qs={createPortal:Vs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return zs(t)||a("200"),Hs(null,e,t,!0,n)},render:function(e,t,n){return zs(t)||a("200"),Hs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return zs(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Hs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return zs(e)||a("40"),!!e._reactRootContainer&&(Ls(function(){Hs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Vs.apply(void 0,arguments)},unstable_batchedUpdates:Rs,unstable_interactiveUpdates:Ms,flushSync:function(e,t){rs&&a("187");var n=us;us=!0;try{return Qa(e,t)}finally{us=n,Cs(1073741823,!1)}},unstable_createRoot:function(e,t){return zs(e)||a("299","unstable_createRoot"),new Bs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=us;us=!0;try{Qa(e)}finally{(us=t)||rs||Cs(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[N,j,U,P.injectEventPluginsByName,y,W,function(e){k(e,V)},Ie,Ae,On,A]}};Gs=(Ws={findFiberByHostInstance:D,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Br=Hr(function(e){return t.onCommitFiberRoot(n,e)}),zr=Hr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}}(i({},Ws,{overrideProps:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Gs?Gs(e):null}}));var $s={default:qs},Xs=$s&&qs||$s;e.exports=Xs.default||Xs},function(e,t,n){"use strict";e.exports=n(688)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,s=!1,l=!1;function u(){if(!s){var e=n.expirationTime;l?S():l=!0,T(d,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=i,s=a;i=e,a=t;try{var l=r()}finally{i=o,a=s}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=l,u()),(t=r.previous).next=r.previous=l,l.next=r,l.previous=t}}function h(){if(-1===o&&null!==n&&1===n.priorityLevel){s=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?u():l=!1}}}function d(e){s=!0;var i=r;r=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!E())}finally{s=!1,r=i,null!==n?u():l=!1,h()}}var f,p,g=Date,m="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,y="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){f=y(function(t){v(p),e(t)}),p=m(function(){b(f),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return g.now()};var T,S,E,x=null;if("undefined"!=typeof window?x=window:void 0!==e&&(x=e),x&&x._schedMock){var k=x._schedMock;T=k[0],S=k[1],E=k[2],t.unstable_now=k[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var C=null,O=function(e){if(null!==C)try{C(e)}finally{C=null}};T=function(e){null!==C?setTimeout(T,0,e):(C=e,setTimeout(O,0,!1))},S=function(){C=null},E=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var P=null,I=!1,A=-1,R=!1,L=!1,M=0,D=33,N=33;E=function(){return M<=t.unstable_now()};var j=new MessageChannel,U=j.port2;j.port1.onmessage=function(){I=!1;var e=P,n=A;P=null,A=-1;var r=t.unstable_now(),i=!1;if(0>=M-r){if(!(-1!==n&&n<=r))return R||(R=!0,_(F)),P=e,void(A=n);i=!0}if(null!==e){L=!0;try{e(i)}finally{L=!1}}};var F=function e(t){if(null!==P){_(e);var n=t-M+N;n<N&&D<N?(8>n&&(n=8),N=n<D?D:n):D=n,M=t+N,I||(I=!0,U.postMessage(void 0))}else R=!1};T=function(e,t){P=e,A=t,L||0>t?U.postMessage(void 0):R||(R=!0,_(F))},S=function(){P=null,I=!1,A=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,a=o;i=e,o=t.unstable_now();try{return n()}finally{i=r,o=a,h()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=o;i=n,o=t.unstable_now();try{return e()}finally{i=r,o=a,h()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==o?o:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,u();else{a=null;var s=n;do{if(s.expirationTime>r){a=s;break}s=s.next}while(s!==n);null===a?a=n:a===n&&(n=e,u()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=o;i=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,o=a,h()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||E())},t.unstable_continueExecution=function(){null!==n&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(28))},function(e,t,n){(function(t,r,i){var o=n(293),a=n(97),s=n(294),l=n(295),u=n(700),c=s.IncomingMessage,h=s.readyStates;var d=e.exports=function(e){var n,r=this;l.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};a(d,l.Writable),d.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===f.indexOf(n)&&(this._headers[n]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,a=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=o.arraybuffer?u(t.concat(e._body)):o.blobConstructor?new r.Blob(e._body.map(function(e){return u(e)}),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var l=[];if(Object.keys(a).forEach(function(e){var t=a[e].name,n=a[e].value;Array.isArray(n)?n.forEach(function(e){l.push([t,e])}):l.push([t,n])}),"fetch"===e._mode){var c=null;if(o.abortController){var d=new AbortController;c=d.signal,e._fetchAbortController=d,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:l,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:c}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var f=e._xhr=new r.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}"responseType"in f&&(f.responseType=e._mode.split(":")[0]),"withCredentials"in f&&(f.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(f.timeout=n.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),l.forEach(function(e){f.setRequestHeader(e[0],e[1])}),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{f.send(s)}catch(t){return void i.nextTick(function(){e.emit("error",t)})}}}},d.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},d.prototype._write=function(e,t,n){this._body.push(e),n()},d.prototype.abort=d.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},d.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),l.Writable.prototype.end.call(this,e,t,n)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(107).Buffer,n(28),n(108))},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),l=0,c=a>0?r-4:r,h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[l++]=255&t);1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+f]=255&a,f+=p,a/=256,u-=8);e[n+f-p]|=128*g}},function(e,t){},function(e,t,n){"use strict";var r=n(222).Buffer,i=n(694);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(696),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(28))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){p(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},d.clearImmediate=f}function f(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(28),n(108))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(28))},function(e,t,n){var r=n(107),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=o;var r=n(301),i=n(138);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(97),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(107).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){(function(e,r){var i;!function(o){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,u=36,c=1,h=26,d=38,f=700,p=72,g=128,m="-",v=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,T=Math.floor,S=String.fromCharCode;function E(e){throw new RangeError(_[e])}function x(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function k(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+x((e=e.replace(b,".")).split("."),t).join(".")}function C(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function O(e){return x(e,function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)}).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var r=0;for(e=n?T(e/f):e>>1,e+=T(e/t);e>w*h>>1;r+=u)e=T(e/w);return T(r+(w+1)*e/(e+d))}function A(e){var t,n,r,i,o,a,s,d,f,v,y,b=[],_=e.length,w=0,S=g,x=p;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(o=w,a=1,s=u;i>=_&&E("invalid-input"),((d=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||d>T((l-w)/a))&&E("overflow"),w+=d*a,!(d<(f=s<=x?c:s>=x+h?h:s-x));s+=u)a>T(l/(v=u-f))&&E("overflow"),a*=v;x=I(w-o,t=b.length+1,0==o),T(w/t)>l-S&&E("overflow"),S+=T(w/t),w%=t,b.splice(w++,0,S)}return O(b)}function R(e){var t,n,r,i,o,a,s,d,f,v,y,b,_,w,x,k=[];for(b=(e=C(e)).length,t=g,n=0,o=p,a=0;a<b;++a)(y=e[a])<128&&k.push(S(y));for(r=i=k.length,i&&k.push(m);r<b;){for(s=l,a=0;a<b;++a)(y=e[a])>=t&&y<s&&(s=y);for(s-t>T((l-n)/(_=r+1))&&E("overflow"),n+=(s-t)*_,t=s,a=0;a<b;++a)if((y=e[a])<t&&++n>l&&E("overflow"),y==t){for(d=n,f=u;!(d<(v=f<=o?c:f>=o+h?h:f-o));f+=u)x=d-v,w=u-v,k.push(S(P(v+x%w,0))),d=T(x/w);k.push(S(P(d,0))),o=I(n,_,r==i),n=0,++r}++n,++t}return k.join("")}s={version:"1.4.1",ucs2:{decode:C,encode:O},decode:A,encode:R,toASCII:function(e){return k(e,function(e){return y.test(e)?"xn--"+R(e):e})},toUnicode:function(e){return k(e,function(e){return v.test(e)?A(e.slice(4).toLowerCase()):e})}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(703)(e),n(28))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(706),t.encode=t.stringify=n(707)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=e.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,d,f,p,g=e[c].replace(s,"%20"),m=g.indexOf(n);m>=0?(h=g.substr(0,m),d=g.substr(m+1)):(h=g,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),r(a,f)?i(a[f])?a[f].push(p):a[f]=[a[f],p]:a[f]=p}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var s=encodeURIComponent(r(a))+n;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[a]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r=n(291),i=n(223),o=e.exports;for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),r.request.call(this,e,t)},o.get=function(e,t){return e=s(e),r.get.call(this,e,t)}},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/folder.9b34cd11.svg"},function(e,t,n){e.exports=n.p+"static/media/file.431a529d.svg"},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){var r=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,i=n(714),o=Object.create?Object.create(null):{};function a(e,t,n,r,i){var o=t.indexOf("<",r),a=t.slice(r,-1===o?void 0:o);/^\s*$/.test(a)&&(a=" "),(!i&&o>-1&&n+e.length>=0||" "!==a)&&e.push({type:"text",content:a})}e.exports=function(e,t){t||(t={}),t.components||(t.components=o);var n,s=[],l=-1,u=[],c={},h=!1;return e.replace(r,function(r,o){if(h){if(r!=="</"+n.name+">")return;h=!1}var d,f="/"!==r.charAt(1),p=0===r.indexOf("\x3c!--"),g=o+r.length,m=e.charAt(g);f&&!p&&(l++,"tag"===(n=i(r)).type&&t.components[n.name]&&(n.type="component",h=!0),n.voidElement||h||!m||"<"===m||a(n.children,e,l,g,t.ignoreWhitespace),c[n.tagName]=n,0===l&&s.push(n),(d=u[l-1])&&d.children.push(n),u[l]=n),(p||!f||n.voidElement)&&(p||l--,!h&&"<"!==m&&m&&a(d=-1===l?s:u[l].children,e,l,g,t.ignoreWhitespace))}),!s.length&&e.length&&a(s,e,0,0,t.ignoreWhitespace),s}},function(e,t,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n(715);e.exports=function(e){var t,n=0,o=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(r,function(r){if("="===r)return o=!0,void n++;o?0===n?((i[r]||"/"===e.charAt(e.length-2))&&(a.voidElement=!0),a.name=r):(a.attrs[t]=r.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(a.attrs[t]=t),t=r),n++,o=!1}),a}},function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(e,t){function n(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(n,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce(function(e,t){return e+n("",t)},"")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports=n.p+"static/media/iiif.114ccd33.png"},function(e,t,n){},function(e,t,n){},function(e,t){},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(28))},function(e,t){e.exports=function(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},function(e,t,n){var r=n(727),i=n(740);e.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n,i=e.indexOf(":"),o=r(e.slice(0,i)).toLowerCase(),a=r(e.slice(i+1));void 0===t[o]?t[o]=a:(n=t[o],"[object Array]"===Object.prototype.toString.call(n)?t[o].push(a):t[o]=[t[o],a])}),t}},function(e,t,n){"use strict";var r=n(224),i=n(303),o=n(305),a=n(308),s=n(739),l=r.call(Function.call,a());i(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError(r+t);for(var n,a=i.call(arguments,1),s=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},l=Math.max(0,t.length-a.length),u=[],c=0;c<l;c++)u.push("$"+c);if(n=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var h=function(){};h.prototype=t.prototype,n.prototype=new h,h.prototype=null}return n}},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(304),o=Object.keys,a=o?function(e){return o(e)}:n(730),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(304),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var g=0;g<e.length;++g)d.push(String(g));if(r&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var v in e)p&&"prototype"===v||!i.call(e,v)||d.push(String(v));if(l)for(var y=function(e){if("undefined"==typeof window||!f)return h(e);try{return h(e)}catch(e){return!1}}(e),b=0;b<c.length;++b)y&&"constructor"===c[b]||!i.call(e,c[b])||d.push(c[b]);return d}}e.exports=r},function(e,t,n){"use strict";var r=n(306),i=r("%Object%"),o=r("%TypeError%"),a=r("%String%"),s=n(732),l=n(733),u=n(734),c=n(735),h=n(736),d=n(225),f=n(737),p=n(307),g={ToPrimitive:f,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return l(t)?0:0!==t&&u(t)?c(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(l(t)||0===t||!u(t))return 0;var n=c(t)*Math.floor(Math.abs(t));return h(n,65536)},ToString:function(e){return a(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new o(t||"Cannot call method on "+e);return e},IsCallable:d,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:l(e)&&l(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(p(e,n)&&!t[n])return!1;var r=p(e,"[[Value]]"),i=p(e,"[[Get]]")||p(e,"[[Set]]");if(r&&i)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Get]]")&&!p(e,"[[Set]]")))},IsDataDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!p(e,"[[Value]]")&&!p(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new o("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new o("ToPropertyDescriptor requires an object");var t={};if(p(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),p(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),p(e,"value")&&(t["[[Value]]"]=e.value),p(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),p(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(p(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new o("setter must be a function");t["[[Set]]"]=r}if((p(t,"[[Get]]")||p(t,"[[Set]]"))&&(p(t,"[[Value]]")||p(t,"[[Writable]]")))throw new o("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=g},function(e,t,n){"use strict";var r=n(306),i=r("%TypeError%"),o=r("%SyntaxError%"),a=n(307),s={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var n={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in t)if(a(t,r)&&!n[r])return!1;var o=a(t,"[[Value]]"),s=a(t,"[[Get]]")||a(t,"[[Set]]");if(o&&s)throw new i("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,n,r){var a=s[t];if("function"!=typeof a)throw new o("unknown record type: "+t);if(!a(e,r))throw new i(n+" must be a "+t);console.log(a(e,r),r)}},function(e,t){e.exports=Number.isNaN||function(e){return e!=e}},function(e,t){var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=n(738),o=n(225),a=function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===r.call(e)?String:Number)===String||t===Number){var n,a,s=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(o(e[s[a]])&&(n=e[s[a]](),i(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e){return i(e)?e:arguments.length>1?a(e,arguments[1]):a(e)}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(303),i=n(308);e.exports=function(){var e=i();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,n){"use strict";var r=n(225),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(e,t,n){for(var r=0,i=e.length;r<i;r++)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))},s=function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},l=function(e,t,n){for(var r in e)o.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))};e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),"[object Array]"===i.call(e)?a(e,t,o):"string"==typeof e?s(e,t,o):l(e,t,o)}},function(e,t){var n=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function r(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function o(){this.values=n(null)}function a(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)t(a[0],a[1])}}function s(e,t,n){var s=e;function l(){var t=i(e);if(null===t)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=l(),u(),"--\x3e"!==e.substr(0,3))throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.substr(3),u(),t.endTime=l(),u(),function(e,t){var r=new o;a(e,function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align","middle"),t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,t)}r.prototype=n(Error.prototype),r.prototype.constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={v:"title",lang:"lang"},h={rt:"ruby"};function d(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e){return l[e]}function o(e){for(;y=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(y[0],r);return e}function a(e,t){return!h[t.localName]||h[t.localName]===e.localName}function s(t,n){var r=u[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=c[t];return o&&n&&(i[o]=n.trim()),i}for(var d,f=e.document.createElement("div"),p=f,g=[];null!==(d=n());)if("<"!==d[0])p.appendChild(e.document.createTextNode(o(d)));else{if("/"===d[1]){g.length&&g[g.length-1]===d.substr(2).replace(">","")&&(g.pop(),p=p.parentNode);continue}var m,v=i(d.substr(1,d.length-2));if(v){m=e.document.createProcessingInstruction("timestamp",v),p.appendChild(m);continue}var y=d.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=s(y[1],y[3])))continue;if(!a(p,m))continue;y[2]&&(m.className=y[2].substr(1).replace("."," ")),g.push(y[1]),p.appendChild(m),p=m}return f}var f=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(e){for(var t=0;t<f.length;t++){var n=f[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function g(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var o=0;o<n.length;o++)if(p(n.charCodeAt(o)))return"rtl";return"ltr"}function m(){}function v(e,t,n){m.call(this),this.cue=t,this.cueDiv=d(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:g(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"middle":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function y(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function b(e,t,n,r){var i=new y(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var u=i.lineHeight,c=u*Math.round(a),h=n[l]+u,d=s[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/u)*u),a<0&&(c+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(d,c)}else{var f=i.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new y(t)}var p=function(e,t){for(var i,o=new y(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);a>l&&(i=new y(e),a=l),e=new y(o)}return i||o}(i,s);t.move(p.toCSSCompatValues(n))}function _(){}m.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},m.prototype.formatStyle=function(e,t){return 0===e?0:e+t},v.prototype=n(m.prototype),v.prototype.constructor=v,y.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},y.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},y.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},y.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},y.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},y.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},y.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},_.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},_.convertCueToDOMTree=function(e,t){return e&&t?d(e,t):null};_.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=y.getSimpleBoxPosition(r),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,l=0;l<t.length;l++)s=t[l],n=new v(e,s,a),r.appendChild(n.div),b(0,n,o,i),s.displayState=n.div,i.push(y.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},_.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},_.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof r))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function l(e){e.match(/X-TIMESTAMP-MAP/)?a(e,function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new o;a(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",i(t))}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}},/=/):a(e,function(e,n){switch(e){case"Region":!function(e){var n=new o;if(a(e,function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new o;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}},/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}},/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var u;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var c=(u=n()).match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new r(r.Errors.BadSignature);t.state="HEADER"}for(var h=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(h?h=!1:u=n(),t.state){case"HEADER":/:/.test(u)?l(u):u||(t.state="ID");continue;case"NOTE":u||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){t.state="NOTE";break}if(!u)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",-1===u.indexOf("--\x3e")){t.cue.id=u;continue}case"CUE":try{s(u,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var d=-1!==u.indexOf("--\x3e");if(!u||d&&(h=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=u;continue;case"BADCUE":u||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new r(r.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=_},function(e,t){var n="auto",r={"":1,lr:1,rl:1},i={start:1,middle:1,end:1,left:1,right:1};function o(e){return"string"==typeof e&&(!!i[e.toLowerCase()]&&e.toLowerCase())}function a(e,t,i){this.hasBeenReset=!1;var a="",s=!1,l=e,u=t,c=i,h=null,d="",f=!0,p="auto",g="start",m=50,v="middle",y=50,b="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");l=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return h},set:function(e){h=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"==typeof e&&!!r[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&e!==n)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=o(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return v},set:function(e){var t=o(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return b},set:function(e){var t=o(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=a},function(e,t){var n={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,i=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}},function(e,t){e.exports={toUnsigned:function(e){return e>>>0}}},function(e,t){var n=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n};e.exports={groupNalsIntoFrames:function(e){var t,n,r=[],i=[];for(r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.push(r),i},groupFramesIntoGops:function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var r,i,o,a,s,l=t||0,u=[];for(r=0;r<e.length;r++)for(a=e[r],i=0;i<a.length;i++)s=a[i],l+=(o=n(s,l)).size,u.push(o);return u},concatenateNalData:function(e){var t,n,r,i,o,a,s=0,l=e.byteLength,u=e.nalCount,c=new Uint8Array(l+4*u),h=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)a=o[r],h.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c}}},function(e,t,n){var r=n(747),i=n(748);e.exports={prefixWithSilence:function(e,t,n,o){var a,s,l,u,c=0,h=0,d=0;if(t.length&&(a=i.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(9e4/(e.samplerate/1024)),n&&o&&(c=a-Math.max(n,o),d=(h=Math.floor(c/s))*s),!(h<1||d>45e3))){for((l=r[e.samplerate])||(l=t[0].data),u=0;u<h;u++)t.splice(u,0,{data:l});e.baseMediaDecodeTime-=Math.floor(i.videoTsToAudioTs(d,e.samplerate))}},trimAdtsFramesByEarliestDts:function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},generateSampleTable:function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},concatenateFrameData:function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],i.set(n.data,r),r+=n.data.byteLength;return i}}},function(e,t){var n,r=[33,16,5,32,164,27],i=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],o=function(e){for(var t=[];e--;)t.push(0);return t},a={96e3:[r,[227,64],o(154),[56]],88200:[r,[231],o(170),[56]],64e3:[r,[248,192],o(240),[56]],48e3:[r,[255,192],o(268),[55,148,128],o(54),[112]],44100:[r,[255,192],o(268),[55,163,128],o(84),[112]],32e3:[r,[255,192],o(268),[55,234],o(226),[112]],24e3:[r,[255,192],o(268),[55,255,128],o(268),[111,112],o(126),[224]],16e3:[r,[255,192],o(268),[55,255,128],o(268),[111,255],o(269),[223,108],o(195),[1,192]],12e3:[i,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,253,128],o(259),[56]],11025:[i,o(268),[3,127,248],o(268),[6,255,240],o(268),[13,255,224],o(268),[27,255,192],o(268),[55,175,128],o(108),[112]],8e3:[i,o(268),[3,121,16],o(47),[7]]};e.exports=(n=a,Object.keys(n).reduce(function(e,t){return e[t]=new Uint8Array(n[t].reduce(function(e,t){return e.concat(t)},[])),e},{}))},function(e,t){var n,r,i,o,a,s;n=function(e){return 9e4*e},r=function(e,t){return e*t},i=function(e){return e/9e4},o=function(e,t){return e/t},a=function(e,t){return n(o(e,t))},s=function(e,t){return r(i(e),t)},e.exports={secondsToVideoTs:n,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:o,audioTsToVideoTs:a,videoTsToAudioTs:s}},function(e,t){e.exports={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/9e4,n=Math.floor(n)),n},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}}},function(e,t,n){"use strict";var r,i,o,a=n(81),s=n(310),l=n(139),u=n(312).TimestampRolloverStream,c=n(139);(r=function(){var e=new Uint8Array(188),t=0;r.prototype.init.call(this),this.push=function(n){var r,i=0,o=188;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=188,o+=188);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")}}).prototype=new a,(i=function(){var e,t,n,r;i.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var o=e[i],a=(31&e[i+1])<<8|e[i+2];o===l.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===l.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===l.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=l.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=l.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new a,i.STREAM_TYPES={h264:27,adts:15},(o=function(){var e=this,t={data:[],size:0},n={data:[],size:0},r={data:[],size:0},i=function(t,n,r){var i,o,a=new Uint8Array(t.size),s={type:n},l=0,u=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,l=0;l<t.data.length;l++)o=t.data[l],a.set(o.data,u),u+=o.data.byteLength;var c,h,d;c=a,(h=s).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),i="video"===n||s.packetLength<=t.size,(r||i)&&(t.size=0,t.data.length=0),i&&e.trigger("data",s)}};o.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,a;switch(o.streamType){case l.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=t,a="video";break;case l.ADTS_STREAM_TYPE:e=n,a="audio";break;case l.METADATA_STREAM_TYPE:e=r,a="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&i(e,a,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},n=o.programMapTable;null!==n.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[o.type]()},this.flush=function(){i(t,"video"),i(n,"audio"),i(r,"timed-metadata"),this.trigger("done")}}).prototype=new a;var h={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:r,TransportParseStream:i,ElementaryStream:o,TimestampRolloverStream:u,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n(751)};for(var d in l)l.hasOwnProperty(d)&&(h[d]=l[d]);e.exports=h},function(e,t,n){"use strict";var r,i=n(81),o=n(139),a=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},s=function(e,t,n){return decodeURIComponent(a(e,t,n))},l=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},u={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,n;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(n=e.data,unescape(a(n,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(r=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},i=0,a=[],s=0;if(r.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,o,c,h;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,a.length=0),0===a.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(a.push(e),s+=e.data.byteLength,1===a.length&&(i=l(e.data.subarray(6,10)),i+=10),!(s<i)){for(t={data:new Uint8Array(i),frames:[],pts:a[0].pts,dts:a[0].dts},h=0;h<i;)t.data.set(a[0].data.subarray(0,i-h),h),h+=a[0].data.byteLength,s-=a[0].data.byteLength,a.shift();r=10,64&t.data[5]&&(r+=4,r+=l(t.data.subarray(10,14)),i-=l(t.data.subarray(16,20)));do{if((o=l(t.data.subarray(r+4,r+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((c={id:String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),data:t.data.subarray(r+10,r+o+10)}).key=c.id,u[c.id]&&(u[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var d=c.data,f=(1&d[3])<<30|d[4]<<22|d[5]<<14|d[6]<<6|d[7]>>>2;f*=4,f+=3&d[7],c.timeStamp=f,void 0===t.pts&&void 0===t.dts&&(t.pts=c.timeStamp,t.dts=c.timeStamp),this.trigger("timestamp",c)}t.frames.push(c),r+=10,r+=o}while(r<i);this.trigger("data",t)}}}).prototype=new i,e.exports=r},function(e,t,n){"use strict";var r,i=n(81),o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(r=function(){var e;r.prototype.init.call(this),this.push=function(t){var n,r,i,a,s,l,u=0,c=0;if("audio"===t.type)for(e?(a=e,(e=new Uint8Array(a.byteLength+t.data.byteLength)).set(a),e.set(t.data,a.byteLength)):e=t.data;u+5<e.length;)if(255===e[u]&&240==(246&e[u+1])){if(r=2*(1&~e[u+1]),n=(3&e[u+3])<<11|e[u+4]<<3|(224&e[u+5])>>5,l=9e4*(s=1024*(1+(3&e[u+6])))/o[(60&e[u+2])>>>2],i=u+n,e.byteLength<i)return;if(this.trigger("data",{pts:t.pts+c*l,dts:t.dts+c*l,sampleCount:s,audioobjecttype:1+(e[u+2]>>>6&3),channelcount:(1&e[u+2])<<2|(192&e[u+3])>>>6,samplerate:o[(60&e[u+2])>>>2],samplingfrequencyindex:(60&e[u+2])>>>2,samplesize:16,data:e.subarray(u+7+r,i)}),e.byteLength===i)return void(e=void 0);c++,e=e.subarray(i)}else u++},this.flush=function(){this.trigger("done")}}).prototype=new i,e.exports=r},function(e,t,n){"use strict";var r,i,o,a=n(81),s=n(754);(i=function(){var e,t,n=0;i.prototype.init.call(this),this.push=function(r){var i;for(t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}}).prototype=new a,o={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(r=function(){var e,t,n,a,l,u,c,h=new i;r.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,a=e.dts,h.push(e))},h.on("data",function(r){var i={trackId:t,pts:n,dts:a,data:r};switch(31&r[0]){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp",i.escapedRBSP=l(r.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp",i.escapedRBSP=l(r.subarray(1)),i.config=u(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",i)}),h.on("done",function(){e.trigger("done")}),this.flush=function(){h.flush()},c=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},l=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},u=function(e){var t,n,r,i,a,l,u,h,d,f,p,g,m,v=0,y=0,b=0,_=0,w=1;if(n=(t=new s(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),o[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==a?8:12,m=0;m<p;m++)t.readBoolean()&&c(m<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(l=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),m=0;m<u;m++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),h=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(f=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(v=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:g=[1,1];break;case 2:g=[12,11];break;case 3:g=[10,11];break;case 4:g=[16,11];break;case 5:g=[40,33];break;case 6:g=[24,11];break;case 7:g=[20,11];break;case 8:g=[32,11];break;case 9:g=[80,33];break;case 10:g=[18,11];break;case 11:g=[15,11];break;case 12:g=[64,33];break;case 13:g=[160,99];break;case 14:g=[4,3];break;case 15:g=[3,2];break;case 16:g=[2,1];break;case 255:g=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}g&&(w=g[0]/g[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(h+1)-2*v-2*y)*w),height:(2-f)*(d+1)*16-2*b-2*_}}}).prototype=new a,e.exports={H264Stream:r,NalByteStream:i}},function(e,t,n){"use strict";var r;r=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=r},function(e,t,n){"use strict";var r,i=n(81),o=n(227);(r=function(){var e=new Uint8Array,t=0;r.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,a,s,l=0,u=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-u>=3;)if(e[u]!=="I".charCodeAt(0)||e[u+1]!=="D".charCodeAt(0)||e[u+2]!=="3".charCodeAt(0))if(255!=(255&e[u])||240!=(240&e[u+1]))u++;else{if(e.length-u<7)break;if(u+(l=o.parseAdtsSize(e,u))>e.length)break;a={type:"audio",data:e.subarray(u,u+l),pts:t,dts:t},this.trigger("data",a),u+=l}else{if(e.length-u<10)break;if(u+(l=o.parseId3TagSize(e,u))>e.length)break;i={type:"timed-metadata",data:e.subarray(u,u+l)},this.trigger("data",i),u+=l}r=e.length-u,e=r>0?e.subarray(u):new Uint8Array}}).prototype=new i,e.exports=r},function(e,t,n){"use strict";var r=n(311).discardEmulationPreventionBytes,i=n(310).CaptionStream,o=n(82),a=n(757),s=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},l=function(e,t){var n=o.findBox(e,["moof","traf"]),i=o.findBox(e,["mdat"]),l={},u=[];return i.forEach(function(e,t){var r=n[t];u.push({mdat:e,traf:r})}),u.forEach(function(e){var n,i=e.mdat,u=e.traf,c=o.findBox(u,["tfhd"]),h=a.parseTfhd(c[0]),d=h.trackId,f=o.findBox(u,["tfdt"]),p=f.length>0?a.parseTfdt(f[0]).baseMediaDecodeTime:0,g=o.findBox(u,["trun"]);t===d&&g.length>0&&(n=function(e,t,n){var i,o,a,l,u=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(o=0;o+4<e.length;o+=a)if(a=u.getUint32(o),o+=4,!(a<=0))switch(31&e[o]){case 6:var h=e.subarray(o+1,o+1+a),d=s(o,t);i={nalUnitType:"sei_rbsp",size:a,data:h,escapedRBSP:r(h),trackId:n},d?(i.pts=d.pts,i.dts=d.dts,l=d):(i.pts=l.pts,i.dts=l.dts),c.push(i)}return c}(i,function(e,t,n){var r=t,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,s=n.trackId,l=[];return e.forEach(function(e){var t=a.parseTrun(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=s,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration}),l=l.concat(t)}),l}(g,p,h),d),l[d]||(l[d]=[]),l[d]=l[d].concat(n))}),l};e.exports=function(){var e,t,n,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(){e=new i,a=!0,e.on("data",function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,o.captions.push(e),o.captionStreams[e.stream]=!0})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&r===t[n])},this.parse=function(e,i,a){var s;if(!this.isInitialized())return null;if(!i||!a)return null;if(this.isNewInit(i,a))n=i[0],r=a[n];else if(!n||!r)return t.push(e),null;for(;t.length>0;){var u=t.shift();this.parse(u,i,a)}return null!==(s=function(e,t,n){return t?{seiNals:l(e,t)[t],timescale:n}:null}(e,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),o):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;e.flush()},this.clearParsedCaptions=function(){o.captions=[],o.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,o?this.clearParsedCaptions():o={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},function(e,t,n){"use strict";var r,i,o=n(82).parseType,a=function(e){return new Date(1e3*e-20828448e5)},s=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},l=function(e){var t,n,r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[];for(t=0;t+4<e.length;t+=n)if(n=r.getUint32(t),t+=4,n<=0)i.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:i.push("slice_layer_without_partitioning_rbsp");break;case 5:i.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:i.push("sei_rbsp");break;case 7:i.push("seq_parameter_set_rbsp");break;case 8:i.push("pic_parameter_set_rbsp");break;case 9:i.push("access_unit_delimiter_rbsp");break;default:i.push("UNKNOWN NAL - "+e[t]&31)}return i},u={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:r(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,r,i,o=new DataView(e.buffer,e.byteOffset,e.byteLength),a={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(r=6,i=0;i<s;i++)n=o.getUint16(r),r+=2,a.sps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;for(t=e[r],r++,i=0;i<t;i++)n=o.getUint16(r),r+=2,a.pps.push(new Uint8Array(e.subarray(r,r+n))),r+=n;return a},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){for(var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:o(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},r=8;r<e.byteLength;)n.compatibleBrands.push(o(e.subarray(r,r+4))),r+=4;return n},dinf:function(e){return{boxes:r(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:r(e.subarray(8))}},hdlr:function(e){var t={version:new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:o(e.subarray(8,12)),name:""},n=8;for(n=24;n<e.byteLength;n++){if(0===e[n]){n++;break}t.name+=String.fromCharCode(e[n])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(e){return{byteLength:e.byteLength,nals:l(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=4,i={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===i.version?(r+=4,i.creationTime=a(n.getUint32(r)),r+=8,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=8,i.duration=n.getUint32(r)):(i.creationTime=a(n.getUint32(r)),r+=4,i.modificationTime=a(n.getUint32(r)),r+=4,i.timescale=n.getUint32(r),r+=4,i.duration=n.getUint32(r)),r+=4,t=n.getUint16(r),i.language+=String.fromCharCode(96+(t>>10)),i.language+=String.fromCharCode(96+((992&t)>>5)),i.language+=String.fromCharCode(96+(31&t)),i},mdia:function(e){return{boxes:r(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:r(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=r(e.subarray(28))[0]),n},moof:function(e){return{boxes:r(e)}},moov:function(e){return{boxes:r(e)}},mvex:function(e){return{boxes:r(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(t.getUint32(n)),n+=8,r.modificationTime=a(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=8,r.duration=t.getUint32(n)):(r.creationTime=a(t.getUint32(n)),n+=4,r.modificationTime=a(t.getUint32(n)),n+=4,r.timescale=t.getUint32(n),n+=4,r.duration=t.getUint32(n)),n+=4,r.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,r.nextTrackId=t.getUint32(n),r},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(t=24;i;t+=12,i--)r.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return r},smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:r(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},i=n.getUint32(4);for(t=8;i;t+=4,i--)r.chunkOffsets.push(n.getUint32(t));return r},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=n.getUint32(4),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;r;t+=12,r--)i.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return i},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:r(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)r.entries.push(n.getUint32(t));return r},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},i=n.getUint32(4);for(t=8;i;t+=8,i--)r.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return r},styp:function(e){return u.ftyp(e)},tfdt:function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:e[4]<<24|e[5]<<16|e[6]<<8|e[7]};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),t},tfhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],l=32&r.flags[2],u=65536&r.flags[0],c=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),l&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&c&&(r.baseDataOffsetIsMoof=!0),r},tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,r={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===r.version?(n+=4,r.creationTime=a(t.getUint32(n)),n+=8,r.modificationTime=a(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=8,r.duration=t.getUint32(n)):(r.creationTime=a(t.getUint32(n)),n+=4,r.modificationTime=a(t.getUint32(n)),n+=4,r.trackId=t.getUint32(n),n+=4,n+=4,r.duration=t.getUint32(n)),n+=4,n+=8,r.layer=t.getUint16(n),n+=2,r.alternateGroup=t.getUint16(n),n+=2,r.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,r.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,r.width=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,r.height=t.getUint16(n)+t.getUint16(n+2)/16,r},traf:function(e){return{boxes:r(e)}},trak:function(e){return{boxes:r(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],l=2&n.flags[1],u=4&n.flags[1],c=8&n.flags[1],h=r.getUint32(4),d=8;for(i&&(n.dataOffset=r.getInt32(d),d+=4),o&&h&&(t={flags:s(e.subarray(d,d+4))},d+=4,a&&(t.duration=r.getUint32(d),d+=4),l&&(t.size=r.getUint32(d),d+=4),c&&(t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t),h--);h--;)t={},a&&(t.duration=r.getUint32(d),d+=4),l&&(t.size=r.getUint32(d),d+=4),u&&(t.flags=s(e.subarray(d,d+4)),d+=4),c&&(t.compositionTimeOffset=r.getUint32(d),d+=4),n.samples.push(t);return n},"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};r=function(e){for(var t,n,r,i,a,s=0,l=[],c=new ArrayBuffer(e.length),h=new Uint8Array(c),d=0;d<e.length;++d)h[d]=e[d];for(t=new DataView(c);s<e.byteLength;)n=t.getUint32(s),r=o(e.subarray(s+4,s+8)),i=n>1?s+n:e.byteLength,(a=(u[r]||function(e){return{data:e}})(e.subarray(s+8,i))).size=n,a.type=r,l.push(a),s=i;return l},i=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map(function(e,r){return n+e.type+"\n"+Object.keys(e).filter(function(e){return"type"!==e&&"boxes"!==e}).map(function(t){var r=n+"  "+t+": ",i=e[t];if(i instanceof Uint8Array||i instanceof Uint32Array){var o=Array.prototype.slice.call(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)).map(function(e){return" "+("00"+e.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return o?1===o.length?r+"<"+o.join("").slice(1)+">":r+"<\n"+o.map(function(e){return n+"  "+e}).join("\n")+"\n"+n+"  >":r+"<>"}return r+JSON.stringify(i,null,2).split("\n").map(function(e,t){return 0===t?e:n+"  "+e}).join("\n")}).join("\n")+(e.boxes?"\n"+i(e.boxes,t+1):"")}).join("\n")},e.exports={inspect:r,textify:i,parseTfdt:u.tfdt,parseHdlr:u.hdlr,parseTfhd:u.tfhd,parseTrun:u.trun,parseSidx:u.sidx}},function(e,t,n){"use strict";var r=n(139),i=function(e){var t=31&e[1];return t<<=8,t|=e[2]},o=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=o(e),n=4+a(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=o(e),r=4+a(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<i;){var l=r+s;t[(31&e[l+1])<<8|e[l+2]]=e[l],s+=5+((15&e[l+3])<<8|e[l+4])}return t}},parsePayloadUnitStartIndicator:o,parsePesType:function(e,t){switch(t[i(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!o(e))return null;var t=4+a(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+a(e),n=e.subarray(t),r=0,i=0,o=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0),o}}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=n(762);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(764)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case u:return e;default:return t}}case m:case g:case o:return t}}}function y(e){return v(e)===d}t.typeOf=v,t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=u,t.Element=i,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return y(e)||v(e)===h},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return v(e)===f},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===m},t.isMemo=function(e){return v(e)===g},t.isPortal=function(e){return v(e)===o},t.isProfiler=function(e){return v(e)===l},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===p}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e){e.exports={iconView:"Icon view",listView:"List view",navBar:"Navigation bar",language:"Language",attribution:"Attribution",license:"License",logout:"Logout",emptyFolder:"This folder is empty",showFile:"Show file",fileManifestations:"File manifestations"}},function(e){e.exports={iconView:"Symbol-Ansicht",listView:"Listen-Ansicht",navBar:"Navigations-Leiste",language:"Sprache",attribution:"Attribution",license:"Lizenz",logout:"Ausloggen",emptyFolder:"Dieser Ordner ist leer",showFile:"Datei anzeigen",fileManifestations:"Manifestationen der Datei"}},function(e){e.exports={iconView:"Symboolweergave",listView:"Lijstweergave",navBar:"Navigatiebalk",language:"Taal",attribution:"Naamsvermelding",license:"Licentie",logout:"Uitloggen",emptyFolder:"Deze folder is leeg",showFile:"Toon bestand",fileManifestations:"Bestandsmanifestaties"}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(146),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(396),n(397),n(398),n(193),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(263),n(473),n(474),n(475),n(476),n(264),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(205),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(552),n(553),n(554),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(585),n(586),n(587),n(588),n(589),n(590),n(591),n(592),n(593),n(594),n(595),n(596),n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(621),n(622),n(623),n(624),n(626),n(276),n(627),n(630);var r=n(8),i=n(0),o=n(31),a=n(314);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=function e(t){Object(r.a)(this,e),o.render(i.createElement(a.a,{config:t}),document.getElementById(t.id)),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};t.default=s},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(13)),c=n(22),h=n(40),d=l.a.forwardRef(function(e,t){var n=e.children,r=e.classes,o=e.className,s=e.color,c=void 0===s?"inherit":s,d=e.component,f=void 0===d?"svg":d,p=e.fontSize,g=void 0===p?"default":p,m=e.htmlColor,v=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,_=a()(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return l.a.createElement(f,i()({className:Object(u.a)(r.root,o,"inherit"!==c&&r["color".concat(Object(h.a)(c))],"default"!==g&&r["fontSize".concat(Object(h.a)(g))]),focusable:"false",viewBox:b,color:m,"aria-hidden":v?"false":"true",role:v?"img":"presentation",ref:t},_),n,v?l.a.createElement("title",null,v):null)});d.muiName="SvgIcon";var f=Object(c.a)(function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},{name:"MuiSvgIcon"})(d);n.d(t,"default",function(){return f})},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(13)),c=n(22),h=n(343),d=l.a.forwardRef(function(e,t){var n=e.children,r=e.classes,o=e.className,s=e.disableTypography,c=void 0!==s&&s,d=a()(e,["children","classes","className","disableTypography"]);return l.a.createElement("div",i()({className:Object(u.a)(r.root,o),ref:t},d),c?n:l.a.createElement(h.a,{variant:"h6"},n))});t.a=Object(c.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(d)},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(13)),c=n(22),h=l.a.forwardRef(function(e,t){var n=e.classes,r=e.className,o=e.dividers,s=void 0!==o&&o,c=a()(e,["classes","className","dividers"]);return l.a.createElement("div",i()({className:Object(u.a)(n.root,r,s&&n.dividers),ref:t},c))});t.a=Object(c.a)(function(e){return{root:{flex:"1 1 auto",padding:"8px 24px",WebkitOverflowScrolling:"touch",overflowY:"auto"},dividers:{borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},{name:"MuiDialogContent"})(h)},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(0),a=n.n(o),s=(n(26),n(22)),l=n(343),u=a.a.forwardRef(function(e,t){return a.a.createElement(l.a,i()({component:"p",variant:"body1",color:"textSecondary",ref:t},e))});t.a=Object(s.a)({root:{marginBottom:16}},{name:"MuiDialogContentText"})(u)},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(13)),c=n(22),h=n(31),d=n.n(h);n(39);var f=n(55),p=n(176),g=n(40),m=n(807),v=n(808),y=n(175),b=n(86),_=n(32);function w(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var T={entering:{opacity:1,transform:w(1)},entered:{opacity:1,transform:"none"}},S=l.a.forwardRef(function(e,t){var n=e.children,r=e.in,o=e.onEnter,s=e.onExit,u=e.style,c=e.timeout,h=void 0===c?"auto":c,d=a()(e,["children","in","onEnter","onExit","style","timeout"]),f=l.a.useRef(),p=l.a.useRef(),g=Object(_.c)(n.ref,t),m=Object(y.a)();return l.a.useEffect(function(){return function(){clearTimeout(f.current)}},[]),l.a.createElement(v.a,i()({appear:!0,in:r,onEnter:function(e){Object(b.b)(e);var t=Object(b.a)({style:u,timeout:h},{mode:"enter"}),n=t.duration,r=t.delay,i=0;"auto"===h?(i=m.transitions.getAutoHeightDuration(e.clientHeight),p.current=i):i=n,e.style.transition=[m.transitions.create("opacity",{duration:i,delay:r}),m.transitions.create("transform",{duration:.666*i,delay:r})].join(","),o&&o(e)},onExit:function(e){var t=0,n=Object(b.a)({style:u,timeout:h},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===h?(t=m.transitions.getAutoHeightDuration(e.clientHeight),p.current=t):t=r,e.style.transition=[m.transitions.create("opacity",{duration:t,delay:i}),m.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=w(.75),s&&s(e)},addEndListener:function(e,t){"auto"===h&&(f.current=setTimeout(t,p.current||0))},timeout:"auto"===h?null:h},d),function(e,t){return l.a.cloneElement(n,i()({style:i()({opacity:0,transform:w(.75),visibility:"exited"!==e||r?void 0:"hidden"},T[e],u,n.props.style),ref:g},t))})});S.muiSupportAuto=!0;var E=S,x=n(805);function k(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function C(e,t){var n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function O(e){return[e.horizontal,e.vertical].map(function(e){return"number"==typeof e?"".concat(e,"px"):e}).join(" ")}function P(e){return"function"==typeof e?e():e}var I=l.a.forwardRef(function(e,t){var n=e.action,r=e.anchorEl,o=e.anchorOrigin,s=void 0===o?{vertical:"top",horizontal:"left"}:o,c=e.anchorPosition,h=e.anchorReference,v=void 0===h?"anchorEl":h,y=e.children,b=e.classes,_=e.container,w=e.elevation,T=void 0===w?8:w,S=e.getContentAnchorEl,I=e.marginThreshold,A=void 0===I?16:I,R=e.ModalClasses,L=e.onEnter,M=e.onEntered,D=e.onEntering,N=e.onExit,j=e.onExited,U=e.onExiting,F=e.open,B=e.PaperProps,z=void 0===B?{}:B,H=e.transformOrigin,V=void 0===H?{vertical:"top",horizontal:"left"}:H,W=e.TransitionComponent,G=void 0===W?E:W,q=e.transitionDuration,$=void 0===q?"auto":q,X=e.TransitionProps,K=void 0===X?{}:X,Y=a()(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","container","elevation","getContentAnchorEl","marginThreshold","ModalClasses","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),Z=l.a.useRef(),Q=l.a.useRef(function(){});l.a.useImperativeHandle(n,function(){return{updatePosition:Q.current}},[]);var J=l.a.useCallback(function(e){if("anchorPosition"===v)return c;var t=P(r),n=(t instanceof Element?t:Object(f.a)(Z.current).body).getBoundingClientRect(),i=0===e?s.vertical:"center";return{top:n.top+k(n,i),left:n.left+C(n,s.horizontal)}},[r,s.horizontal,s.vertical,c,v]),ee=l.a.useCallback(function(e){var t=0;if(S&&"anchorEl"===v){var n=S(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentNode).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}}return t},[s.vertical,v,S]),te=l.a.useCallback(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:k(e,V.vertical)+t,horizontal:C(e,V.horizontal)}},[V.horizontal,V.vertical]),ne=l.a.useCallback(function(e){var t=ee(e),n={width:e.offsetWidth,height:e.offsetHeight},i=te(n,t);if("none"===v)return{top:null,left:null,transformOrigin:O(i)};var o=J(t),a=o.top-i.vertical,s=o.left-i.horizontal,l=a+n.height,u=s+n.width,c=Object(p.a)(P(r)),h=c.innerHeight-A,d=c.innerWidth-A;if(a<A){var f=a-A;a-=f,i.vertical+=f}else if(l>h){var g=l-h;a-=g,i.vertical+=g}if(s<A){var m=s-A;s-=m,i.horizontal+=m}else if(u>d){var y=u-d;s-=y,i.horizontal+=y}return{top:"".concat(a,"px"),left:"".concat(s,"px"),transformOrigin:O(i)}},[r,v,J,ee,te,A]),re=l.a.useCallback(function(e){var t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin},[ne]),ie=l.a.useCallback(function(e){Z.current=d.a.findDOMNode(e)},[]);l.a.useEffect(function(){return Q.current=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(t),t=setTimeout(function(){e.apply(a,i)},n)}return r.clear=function(){clearTimeout(t)},r}(function(){F&&re(Z.current)}),window.addEventListener("resize",Q.current),function(){Q.current.clear(),window.removeEventListener("resize",Q.current)}},[F,re]);var oe=$;"auto"!==$||G.muiSupportAuto||(oe=void 0);var ae=_||(r?Object(f.a)(P(r)).body:void 0);return l.a.createElement(m.a,i()({classes:R,container:ae,open:F,ref:t,BackdropProps:{invisible:!0}},Y),l.a.createElement(G,i()({appear:!0,in:F,onEnter:L,onEntered:M,onExit:N,onExited:j,onExiting:U,timeout:oe},K,{onEntering:Object(g.b)(function(e){D&&D(e),re(e)},K.onEntering)}),l.a.createElement(x.a,i()({elevation:T,ref:ie},z,{className:Object(u.a)(b.paper,z.className)}),y)))}),A=Object(c.a)({paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:"none"}},{name:"MuiPopover"})(I),R=n(116),L=l.a.forwardRef(function(e,t){var n=e.children,r=e.classes,o=e.className,s=e.component,c=void 0===s?"ul":s,h=e.dense,d=void 0!==h&&h,f=e.disablePadding,p=void 0!==f&&f,g=e.subheader,m=a()(e,["children","classes","className","component","dense","disablePadding","subheader"]),v=l.a.useMemo(function(){return{dense:d}},[d]);return l.a.createElement(R.a.Provider,{value:v},l.a.createElement(c,i()({className:Object(u.a)(r.root,o,d&&r.dense,!p&&r.padding,g&&r.subheader),ref:t},m),g,n))}),M=Object(c.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(L),D=n(177);function N(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function j(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function U(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),void 0!==n&&(0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join(""))))}function F(e,t,n,r,i){for(var o=!1,a=r(e,t,!!t&&n);a;){if(a===e.firstChild){if(o)return!1;o=!0}if(a.hasAttribute("tabindex")&&!a.disabled&&"true"!==a.getAttribute("aria-disabled")&&U(a,i))return a.focus(),!0;a=r(e,a,n)}return!1}var B="undefined"==typeof window?l.a.useEffect:l.a.useLayoutEffect,z=l.a.forwardRef(function(e,t){var n=e.actions,r=e.autoFocus,o=void 0!==r&&r,s=e.className,u=e.onKeyDown,c=e.disableListWrap,h=void 0!==c&&c,p=a()(e,["actions","autoFocus","className","onKeyDown","disableListWrap"]),g=l.a.useRef(null),m=l.a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});B(function(){o&&g.current.focus()},[o]),l.a.useImperativeHandle(n,function(){return{adjustStyleForScrollbar:function(e,t){var n=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&n){var r="".concat(Object(D.a)(!0),"px");g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width="calc(100% + ".concat(r,")")}return g.current}}},[]);var v=l.a.useCallback(function(e){g.current=d.a.findDOMNode(e)},[]),y=Object(_.c)(v,t);return l.a.createElement(M,i()({role:"menu",ref:y,className:s,onKeyDown:function(e){var t=g.current,n=e.key,r=Object(f.a)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),F(t,r,h,N);else if("ArrowUp"===n)e.preventDefault(),F(t,r,h,j);else if("Home"===n)e.preventDefault(),F(t,null,h,N);else if("End"===n)e.preventDefault(),F(t,null,h,j);else if(1===n.length){var i=m.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&U(r,i);i.previousKeyMatched&&(s||F(t,r,!1,N,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:o?0:-1},p))}),H={vertical:"top",horizontal:"right"},V={vertical:"top",horizontal:"left"},W=l.a.forwardRef(function(e,t){var n=e.autoFocus,r=e.children,o=e.classes,s=e.disableAutoFocusItem,c=void 0!==s&&s,h=e.MenuListProps,f=void 0===h?{}:h,p=e.onClose,g=e.onEntering,m=e.open,v=e.PaperProps,y=void 0===v?{}:v,b=e.PopoverClasses,w=e.theme,T=e.transitionDuration,S=void 0===T?"auto":T,E=e.variant,x=void 0===E?"selectedMenu":E,k=a()(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","theme","transitionDuration","variant"]),C=(void 0!==n?n:!c)&&m,O=l.a.useRef(null),P=l.a.useRef(null),I=l.a.useRef(null),R=null,L=null,M=l.a.Children.map(r,function(e,t){if(!l.a.isValidElement(e))return null;null===R&&(R=t);var n=null;return"menu"!==x&&null===L&&e.props.selected&&!e.props.disabled?(L=t,n={},C&&(n.autoFocus=!0),void 0===e.props.tabIndex&&(n.tabIndex=0),n.ref=function(t){I.current=d.a.findDOMNode(t),Object(_.b)(e.ref,t)}):t===R&&(n={ref:function(t){P.current=d.a.findDOMNode(t),Object(_.b)(e.ref,t)}}),null!==n?l.a.cloneElement(e,n):e});return l.a.createElement(A,i()({getContentAnchorEl:function(){return I.current||P.current},classes:b,onClose:p,onEntering:function(e){O.current&&O.current.adjustStyleForScrollbar(e,w),g&&g(e)},anchorOrigin:"rtl"===w.direction?H:V,transformOrigin:"rtl"===w.direction?H:V,PaperProps:i()({},y,{classes:i()({},y.classes,{root:o.paper})}),open:m,ref:t,transitionDuration:S},k),l.a.createElement(z,i()({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:O,autoFocus:C&&null===L},f,{className:Object(u.a)(o.list,f.className)}),M))});t.a=Object(c.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:"none"}},{name:"MuiMenu",withTheme:!0})(W)},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(7),a=n.n(o),s=n(63),l=n.n(s),u=n(0),c=n.n(u),h=(n(26),n(13)),d=n(22),f=n(40),p=n(807),g=n(808),m=n(84),v=n(175),y=n(86),b=n(32),_={entering:{opacity:1},entered:{opacity:1}},w={enter:m.b.enteringScreen,exit:m.b.leavingScreen},T=c.a.forwardRef(function(e,t){var n=e.children,r=e.in,o=e.onEnter,s=e.onExit,l=e.style,u=e.timeout,h=void 0===u?w:u,d=a()(e,["children","in","onEnter","onExit","style","timeout"]),f=Object(v.a)(),p=Object(b.c)(n.ref,t);return c.a.createElement(g.a,i()({appear:!0,in:r,onEnter:function(e){Object(y.b)(e);var t=Object(y.a)({style:l,timeout:h},{mode:"enter"});e.style.webkitTransition=f.transitions.create("opacity",t),e.style.transition=f.transitions.create("opacity",t),o&&o(e)},onExit:function(e){var t=Object(y.a)({style:l,timeout:h},{mode:"exit"});e.style.webkitTransition=f.transitions.create("opacity",t),e.style.transition=f.transitions.create("opacity",t),s&&s(e)},timeout:h},d),function(e,t){return c.a.cloneElement(n,i()({style:i()({opacity:0,visibility:"exited"!==e||r?void 0:"hidden"},_[e],l,n.props.style),ref:p},t))})}),S=c.a.forwardRef(function(e,t){var n=e.classes,r=e.className,o=e.invisible,s=void 0!==o&&o,l=e.open,u=e.transitionDuration,d=a()(e,["classes","className","invisible","open","transitionDuration"]);return c.a.createElement(T,i()({in:l,timeout:u},d),c.a.createElement("div",{className:Object(h.a)(n.root,r,s&&n.invisible),"aria-hidden":!0,ref:t}))}),E=Object(d.a)({root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(S),x=n(805),k={enter:m.b.enteringScreen,exit:m.b.leavingScreen},C=c.a.forwardRef(function(e,t){var n=e.BackdropProps,r=e.children,o=e.classes,s=e.className,l=e.disableBackdropClick,u=void 0!==l&&l,d=e.disableEscapeKeyDown,g=void 0!==d&&d,m=e.fullScreen,v=void 0!==m&&m,y=e.fullWidth,b=void 0!==y&&y,_=e.maxWidth,w=void 0===_?"sm":_,S=e.onBackdropClick,C=e.onClose,O=e.onEnter,P=e.onEntered,I=e.onEntering,A=e.onEscapeKeyDown,R=e.onExit,L=e.onExited,M=e.onExiting,D=e.open,N=e.PaperComponent,j=void 0===N?x.a:N,U=e.PaperProps,F=void 0===U?{}:U,B=e.scroll,z=void 0===B?"paper":B,H=e.TransitionComponent,V=void 0===H?T:H,W=e.transitionDuration,G=void 0===W?k:W,q=e.TransitionProps,$=a()(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"]),X=c.a.useRef();return c.a.createElement(p.a,i()({className:Object(h.a)(o.root,s),BackdropComponent:E,BackdropProps:i()({transitionDuration:G},n),closeAfterTransition:!0,disableBackdropClick:u,disableEscapeKeyDown:g,onEscapeKeyDown:A,onClose:C,open:D,ref:t,role:"dialog"},$),c.a.createElement(V,i()({appear:!0,in:D,timeout:G,onEnter:O,onEntering:I,onEntered:P,onExit:R,onExiting:M,onExited:L},q),c.a.createElement("div",{className:Object(h.a)(o.container,o["scroll".concat(Object(f.a)(z))]),onClick:function(e){e.target===e.currentTarget&&e.target===X.current&&(X.current=null,S&&S(e),!u&&C&&C(e,"backdropClick"))},onMouseDown:function(e){X.current=e.target},role:"document"},c.a.createElement(j,i()({elevation:24},F,{className:Object(h.a)(o.paper,o["paperScroll".concat(Object(f.a)(z))],o["paperWidth".concat(Object(f.a)(String(w)))],F.className,v&&o.paperFullScreen,b&&o.paperFullWidth)}),r))))});t.a=Object(d.a)(function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:"none"},paper:{margin:48,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 96px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 96px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":l()({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+96),{maxWidth:"calc(100% - 96px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":l()({},e.breakpoints.down(e.breakpoints.values.sm+96),{maxWidth:"calc(100% - 96px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":l()({},e.breakpoints.down(e.breakpoints.values.md+96),{maxWidth:"calc(100% - 96px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":l()({},e.breakpoints.down(e.breakpoints.values.lg+96),{maxWidth:"calc(100% - 96px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":l()({},e.breakpoints.down(e.breakpoints.values.xl+96),{maxWidth:"calc(100% - 96px)"})},paperFullWidth:{width:"calc(100% - 96px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},{name:"MuiDialog"})(C)},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(3),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(13)),c=n(22),h=n(806),d=n(32),f=n(116),p=n(31),g=n.n(p),m=(n(39),"undefined"==typeof window?l.a.useEffect:l.a.useLayoutEffect),v=l.a.forwardRef(function(e,t){var n=e.alignItems,r=void 0===n?"center":n,o=e.autoFocus,s=void 0!==o&&o,c=e.button,p=void 0!==c&&c,v=e.children,y=e.classes,b=e.className,_=e.component,w=e.ContainerComponent,T=void 0===w?"li":w,S=e.ContainerProps,E=(S=void 0===S?{}:S).className,x=i()(S,["className"]),k=e.dense,C=e.disabled,O=void 0!==C&&C,P=e.disableGutters,I=void 0!==P&&P,A=e.divider,R=void 0!==A&&A,L=e.focusVisibleClassName,M=e.selected,D=void 0!==M&&M,N=i()(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),j=l.a.useContext(f.a),U={dense:k||j.dense||!1,alignItems:r},F=l.a.useRef(null);m(function(){s&&F.current&&F.current.focus()},[s]);var B=l.a.Children.toArray(v),z=B.length&&Object(d.a)(B[B.length-1],["ListItemSecondaryAction"]),H=l.a.useCallback(function(e){F.current=g.a.findDOMNode(e)},[]),V=Object(d.c)(H,t),W=a()({className:Object(u.a)(y.root,b,U.dense&&y.dense,!I&&y.gutters,R&&y.divider,O&&y.disabled,p&&y.button,"center"!==r&&y.alignItemsFlexStart,z&&y.secondaryAction,D&&y.selected),disabled:O},N),G=_||"li";return p&&(W.component=_||"div",W.focusVisibleClassName=Object(u.a)(y.focusVisible,L),G=h.a),z?(G=W.component||_?G:"div","li"===T&&("li"===G?G="div":"li"===W.component&&(W.component="div")),l.a.createElement(f.a.Provider,{value:U},l.a.createElement(T,a()({className:Object(u.a)(y.container,E),ref:V},x),l.a.createElement(G,W,B),B.pop()))):l.a.createElement(f.a.Provider,{value:U},l.a.createElement(G,a()({ref:V},W),B))}),y=Object(c.a)(function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(v),b=l.a.forwardRef(function(e,t){var n,r=e.classes,o=e.className,s=e.component,c=void 0===s?"li":s,h=e.disableGutters,d=void 0!==h&&h,f=e.role,p=void 0===f?"menuitem":f,g=e.selected,m=e.tabIndex,v=i()(e,["classes","className","component","disableGutters","role","selected","tabIndex"]);return e.disabled||(n=void 0!==m?m:-1),l.a.createElement(y,a()({button:!0,role:p,tabIndex:n,component:c,selected:g,disableGutters:d,className:Object(u.a)(r.root,o,g&&r.selected,!d&&r.gutters),ref:t},v))});t.a=Object(c.a)(function(e){return{root:a()({},e.typography.subtitle1,{minHeight:48,paddingTop:4,paddingBottom:4,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"}),gutters:{paddingLeft:16,paddingRight:16},selected:{}}},{name:"MuiMenuItem"})(b)},function(e,t,n){"use strict";var r=n(0),i=n.n(r),o=i.a.createContext(null);function a(){return i.a.useContext(o)}n.d(t,"a",function(){return a})},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=n(3),a=n.n(o),s=n(0),l=n.n(s),u=(n(26),n(13)),c=(n(39),n(22)),h=l.a.forwardRef(function(e,t){var n=e.classes,r=e.className,o=e.component,s=void 0===o?"div":o,c=e.square,h=void 0!==c&&c,d=e.elevation,f=void 0===d?1:d,p=i()(e,["classes","className","component","square","elevation"]),g=Object(u.a)(n.root,n["elevation".concat(f)],r,!h&&n.rounded);return l.a.createElement(s,a()({className:g,ref:t},p))});t.a=Object(c.a)(function(e){var t={};return e.shadows.forEach(function(e,n){t["elevation".concat(n)]={boxShadow:e}}),a()({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius}},t)},{name:"MuiPaper"})(h)},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(45),a=n.n(o),s=n(7),l=n.n(s),u=n(0),c=n.n(u),h=(n(26),n(31)),d=n.n(h),f=n(13),p=n(32),g=n(85),m=n(22),v="undefined"!=typeof window?c.a.useLayoutEffect:c.a.useEffect;var y=function(e){var t=e.children,n=e.defer,r=void 0!==n&&n,i=e.fallback,o=void 0===i?null:i,s=c.a.useState(!1),l=a()(s,2),u=l[0],h=l[1];return v(function(){r||h(!0)},[r]),c.a.useEffect(function(){r&&h(!0)},[r]),c.a.createElement(c.a.Fragment,null,u?t:o)},b=!0,_=!1,w=null,T={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function S(){b=!0}function E(){b=!1}function x(){"hidden"===this.visibilityState&&_&&(b=!0)}function k(e){var t=e.target;try{return t.matches(":focus-visible")}catch(e){}return b||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!T[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function C(){_=!0,window.clearTimeout(w),w=window.setTimeout(function(){_=!1,window.clearTimeout(w)},100)}function O(){return{isFocusVisible:k,onBlurVisible:C,ref:c.a.useCallback(function(e){var t,n=d.a.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",S,!0),t.addEventListener("mousedown",E,!0),t.addEventListener("pointerdown",E,!0),t.addEventListener("touchstart",E,!0),t.addEventListener("visibilitychange",x,!0))},[])}}var P=n(173),I=n.n(P),A=n(113),R=n.n(A),L=n(114),M=n.n(L),D=n(328),N=n.n(D),j=n(329),U=n.n(j),F=n(330),B=n.n(F),z=n(174),H=n(33),V=n(99),W=n(51),G=n(101);function q(e,t){var n=Object.create(null);return e&&u.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&Object(u.isValidElement)(e)?t(e):e}(e)}),n}function $(e,t,n){return null!=n[t]?n[t]:e.props[t]}function X(e,t,n){var r=q(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach(function(o){var a=i[o];if(Object(u.isValidElement)(a)){var s=o in t,l=o in r,c=t[o],h=Object(u.isValidElement)(c)&&!c.props.in;!l||s&&!h?l||!s||h?l&&s&&Object(u.isValidElement)(c)&&(i[o]=Object(u.cloneElement)(a,{onExited:n.bind(null,a),in:c.props.in,exit:$(a,"exit",e),enter:$(a,"enter",e)})):i[o]=Object(u.cloneElement)(a,{in:!1}):i[o]=Object(u.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:$(a,"exit",e),enter:$(a,"enter",e)})}}),i}var K=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Y=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(W.a)(Object(W.a)(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(V.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,q(n.children,function(e){return Object(u.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:$(e,"appear",n),enter:$(e,"enter",n),exit:$(e,"exit",n)})})):X(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=q(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=Object(H.a)({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(z.a)(e,["component","childFactory"]),i=this.state.contextValue,o=K(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?c.a.createElement(G.a.Provider,{value:i},o):c.a.createElement(G.a.Provider,{value:i},c.a.createElement(t,r,o))},t}(c.a.Component);Y.propTypes={},Y.defaultProps={component:"div",childFactory:function(e){return e}};var Z=Y,Q=n(808);var J=function(e){var t=e.classes,n=e.className,r=e.pulsate,o=void 0!==r&&r,s=e.rippleX,u=e.rippleY,h=e.rippleSize,d=l()(e,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),p=c.a.useState(!1),g=a()(p,2),m=g[0],v=g[1],y=c.a.useState(!1),b=a()(y,2),_=b[0],w=b[1],T=Object(f.a)(t.ripple,n,m&&t.rippleVisible,o&&t.ripplePulsate),S={width:h,height:h,top:-h/2+u,left:-h/2+s},E=Object(f.a)(t.child,_&&t.childLeaving,o&&t.childPulsate);return c.a.createElement(Q.a,i()({onEnter:function(){v(!0)},onExit:function(){w(!0)}},d),c.a.createElement("span",{className:T,style:S},c.a.createElement("span",{className:E})))},ee=550,te=80,ne=function(e){function t(){var e,n;R()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=N()(this,(e=U()(t)).call.apply(e,[this].concat(i)))).state={nextKey:0,ripples:[]},n.container=c.a.createRef(),n.pulsate=function(){n.start({},{pulsate:!0})},n.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=t.pulsate,o=void 0!==i&&i,a=t.center,s=void 0===a?n.props.center||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&n.ignoringMouseDown)n.ignoringMouseDown=!1;else{"touchstart"===e.type&&(n.ignoringMouseDown=!0);var c,h,d,f=u?null:n.container.current,p=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),h=Math.round(p.height/2);else{var g=e.clientX?e.clientX:e.touches[0].clientX,m=e.clientY?e.clientY:e.touches[0].clientY;c=Math.round(g-p.left),h=Math.round(m-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2==0&&(d+=1);else{var v=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,y=2*Math.max(Math.abs((f?f.clientHeight:0)-h),h)+2;d=Math.sqrt(Math.pow(v,2)+Math.pow(y,2))}e.touches?(n.startTimerCommit=function(){n.startCommit({pulsate:o,rippleX:c,rippleY:h,rippleSize:d,cb:r})},n.startTimer=setTimeout(function(){n.startTimerCommit&&(n.startTimerCommit(),n.startTimerCommit=null)},te)):n.startCommit({pulsate:o,rippleX:c,rippleY:h,rippleSize:d,cb:r})}},n.startCommit=function(e){var t=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,a=e.cb;n.setState(function(e){return{nextKey:e.nextKey+1,ripples:[].concat(I()(e.ripples),[c.a.createElement(J,{key:e.nextKey,classes:n.props.classes,timeout:{exit:ee,enter:ee},pulsate:t,rippleX:r,rippleY:i,rippleSize:o})])}},a)},n.stop=function(e,t){if(clearTimeout(n.startTimer),"touchend"===e.type&&n.startTimerCommit)return e.persist(),n.startTimerCommit(),n.startTimerCommit=null,void(n.startTimer=setTimeout(function(){n.stop(e,t)}));n.startTimerCommit=null,n.setState(function(e){var t=e.ripples;return t&&t.length?{ripples:t.slice(1)}:null},t)},n}return B()(t,e),M()(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),n=e.className,r=l()(e,["center","classes","className"]);return c.a.createElement("span",i()({className:Object(f.a)(t.root,n),ref:this.container},r),c.a.createElement(Z,{component:null,enter:!0,exit:!0},this.state.ripples))}}]),t}(c.a.PureComponent);ne.defaultProps={center:!1};var re=Object(m.a)(function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(ee,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-enter"},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(ee,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-exit"},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite"),animationName:"$mui-ripple-pulsate"},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},{flip:!1,name:"MuiTouchRipple"})(ne),ie=c.a.forwardRef(function(e,t){var n=e.action,r=e.buttonRef,o=e.centerRipple,s=void 0!==o&&o,u=e.children,h=e.classes,m=e.className,v=e.component,b=void 0===v?"button":v,_=e.disabled,w=e.disableRipple,T=void 0!==w&&w,S=e.disableTouchRipple,E=void 0!==S&&S,x=e.focusRipple,k=void 0!==x&&x,C=e.focusVisibleClassName,P=e.onBlur,I=e.onClick,A=e.onFocus,R=e.onFocusVisible,L=e.onKeyDown,M=e.onKeyUp,D=e.onMouseDown,N=e.onMouseLeave,j=e.onMouseUp,U=e.onTouchEnd,F=e.onTouchMove,B=e.onTouchStart,z=e.onDragLeave,H=e.tabIndex,V=void 0===H?0:H,W=e.TouchRippleProps,G=e.type,q=void 0===G?"button":G,$=l()(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),X=c.a.useRef(null);var K=c.a.useRef(null),Y=c.a.useState(!1),Z=a()(Y,2),Q=Z[0],J=Z[1];_&&Q&&J(!1);var ee=O(),te=ee.isFocusVisible,ne=ee.onBlurVisible,ie=ee.ref;function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E;return Object(g.a)(function(r){return t&&t(r),!(r.defaultPrevented||n)&&K.current&&K.current[e](r),!0})}c.a.useImperativeHandle(n,function(){return{focusVisible:function(){J(!0),X.current.focus()}}},[]),c.a.useEffect(function(){Q&&k&&!T&&K.current.pulsate()},[T,k,Q]);var ae=oe("start",D),se=oe("stop",z),le=oe("stop",j),ue=oe("stop",function(e){Q&&e.preventDefault(),N&&N(e)}),ce=oe("start",B),he=oe("stop",U),de=oe("stop",F),fe=oe("stop",function(e){Q&&(ne(e),J(!1)),P&&P(e)},!1),pe=Object(g.a)(function(e){_||(X.current||(X.current=e.currentTarget),te(e)&&(J(!0),R&&R(e)),A&&A(e))}),ge=c.a.useRef(!1),me=Object(g.a)(function(e){k&&!ge.current&&Q&&K.current&&" "===e.key&&(ge.current=!0,e.persist(),K.current.stop(e,function(){K.current.start(e)})),L&&L(e);var t=d.a.findDOMNode(X.current);e.target!==e.currentTarget||!b||"button"===b||" "!==e.key&&"Enter"!==e.key||"A"===t.tagName&&t.href||(e.preventDefault(),I&&I(e))}),ve=Object(g.a)(function(e){k&&" "===e.key&&K.current&&Q&&(ge.current=!1,e.persist(),K.current.stop(e,function(){K.current.pulsate(e)})),M&&M(e)}),ye=Object(f.a)(h.root,m,Q&&[h.focusVisible,C],_&&h.disabled),be=b;"button"===be&&$.href&&(be="a");var _e={};"button"===be?(_e.type=q,_e.disabled=_):("a"===be&&$.href||(_e.role="button"),_e["aria-disabled"]=_);var we=Object(p.c)(r,t),Te=Object(p.c)(ie,X),Se=Object(p.c)(we,Te);return c.a.createElement(be,i()({className:ye,onBlur:fe,onClick:I,onFocus:pe,onKeyDown:me,onKeyUp:ve,onMouseDown:ae,onMouseLeave:ue,onMouseUp:le,onDragLeave:se,onTouchEnd:he,onTouchMove:de,onTouchStart:ce,ref:Se,tabIndex:_?-1:V},_e,$),u,T||_?null:c.a.createElement(y,null,c.a.createElement(re,i()({ref:K,center:s},W))))});t.a=Object(m.a)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(ie)},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(45),a=n.n(o),s=n(7),l=n.n(s),u=n(0),c=n.n(u),h=n(31),d=n.n(h),f=(n(26),n(785)),p=n(55),g=n(32);var m="undefined"!=typeof window?c.a.useLayoutEffect:c.a.useEffect;var v=c.a.forwardRef(function(e,t){var n=e.children,r=e.container,i=e.disablePortal,o=void 0!==i&&i,s=e.onRendered,l=c.a.useState(null),u=a()(l,2),h=u[0],f=u[1],p=c.a.useRef(null),v=Object(g.c)(n.ref,p);return m(function(){o||f(function(e){return e="function"==typeof e?e():e,d.a.findDOMNode(e)}(r)||document.body)},[r,o]),c.a.useImperativeHandle(t,function(){return h||p.current},[h]),m(function(){s&&h&&s()},[h,s]),o?(c.a.Children.only(n),c.a.cloneElement(n,{ref:v})):h?d.a.createPortal(n,h):h}),y=n(40),b=n(85),_=n(172),w=n(113),T=n.n(w),S=n(114),E=n.n(S),x=n(173),k=n.n(x),C=n(177),O=n(176);function P(e){var t=Object(p.a)(e);return t.body===e?Object(O.a)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function I(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function A(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}var R=["template","script","style"];function L(e,t,n,r,i){var o=[t,n].concat(k()(r));[].forEach.call(e.children,function(e){-1===o.indexOf(e)&&function(e){return 1===e.nodeType&&-1===R.indexOf(e.tagName.toLowerCase())}(e)&&i(e)})}function M(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0;L(e,t,n,r,function(e){return I(e,i)})}function D(e,t){var n=-1;return e.some(function(e,r){return!!t(e)&&(n=r,!0)}),n}var N=function(){function e(){T()(this,e),this.modals=[],this.contaniners=[]}return E()(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&I(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);M(t,e.mountNode,e.modalRef,r,!0);var i=D(this.contaniners,function(e){return e.container===t});return-1!==i?(this.contaniners[i].modals.push(e),n):(this.contaniners.push({modals:[e],container:t,overflowing:P(t),restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e){var t=D(this.contaniners,function(t){return-1!==t.modals.indexOf(e)}),n=this.contaniners[t];n.restore||(n.restore=function(e){var t,n={overflow:e.container.style.overflow,paddingRight:e.container.style.paddingRight},r={overflow:"hidden"},i=[];if(e.overflowing){var o=Object(C.a)();r.paddingRight="".concat(A(e.container)+o,"px"),t=Object(p.a)(e.container).querySelectorAll(".mui-fixed"),[].forEach.call(t,function(e){var t=A(e);i.push(t),e.style.paddingRight="".concat(t+o,"px")})}return Object.keys(r).forEach(function(t){e.container.style[t]=r[t]}),function(){t&&[].forEach.call(t,function(e,t){e.style.paddingRight="".concat(i[t],"px")}),Object.keys(n).forEach(function(t){e.container.style[t]=n[t]})}}(n))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=D(this.contaniners,function(t){return-1!==t.modals.indexOf(e)}),r=this.contaniners[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&I(e.modalRef,!0),M(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.contaniners.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&I(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}();n(39);var j=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,a=e.disableRestoreFocus,s=void 0!==a&&a,l=e.getDoc,u=e.isEnabled,h=e.open,f=c.a.useRef(),m=c.a.useRef(null),v=c.a.useRef(null),y=c.a.useRef(),b=c.a.useRef(null),_=c.a.useCallback(function(e){b.current=d.a.findDOMNode(e)},[]),w=Object(g.c)(t.ref,_);return c.a.useMemo(function(){h&&(y.current=l().activeElement)},[h]),c.a.useEffect(function(){if(h){var e=Object(p.a)(b.current);r||!b.current||b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var t=function(){o||!u()||f.current?f.current=!1:b.current&&!b.current.contains(e.activeElement)&&b.current.focus()},n=function(t){!o&&u()&&9===t.keyCode&&e.activeElement===b.current&&(f.current=!0,t.shiftKey?v.current.focus():m.current.focus())};return e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0),function(){e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(y.current&&y.current.focus&&y.current.focus(),y.current=null)}}},[r,o,s,u,h]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelStart"}),c.a.cloneElement(t,{ref:w}),c.a.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))},U={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",touchAction:"none"},invisible:{backgroundColor:"transparent"}},F=c.a.forwardRef(function(e,t){var n=e.invisible,r=void 0!==n&&n,o=e.open,a=l()(e,["invisible","open"]);return o?c.a.createElement("div",i()({"aria-hidden":!0,ref:t},a,{style:i()({},U.root,r?U.invisible:{},a.style)})):null});var B=new N;function z(e,t,n){return e.current.modalRef=n.current,e.current.mountNode=t.current,e.current}var H=c.a.forwardRef(function(e,t){var n=e.BackdropComponent,r=void 0===n?F:n,o=e.BackdropProps,s=e.children,u=e.closeAfterTransition,h=void 0!==u&&u,m=e.container,w=e.disableAutoFocus,T=void 0!==w&&w,S=e.disableBackdropClick,E=void 0!==S&&S,x=e.disableEnforceFocus,k=void 0!==x&&x,C=e.disableEscapeKeyDown,O=void 0!==C&&C,P=e.disablePortal,A=void 0!==P&&P,R=e.disableRestoreFocus,L=void 0!==R&&R,M=e.hideBackdrop,D=void 0!==M&&M,N=e.keepMounted,U=void 0!==N&&N,H=e.manager,V=void 0===H?B:H,W=e.onBackdropClick,G=e.onClose,q=e.onEscapeKeyDown,$=e.onRendered,X=e.open,K=l()(e,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Y=Object(f.a)(),Z=c.a.useState(!X),Q=a()(Z,2),J=Q[0],ee=Q[1],te=c.a.useRef({}),ne=c.a.useRef(null),re=c.a.useRef(null),ie=Object(g.c)(re,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),ae=function(){return Object(p.a)(ne.current)},se=function(){V.mount(z(te,ne,re)),re.current.scrollTop=0},le=Object(b.a)(function(){var e=function(e){return e="function"==typeof e?e():e,d.a.findDOMNode(e)}(m)||ae().body;V.add(z(te,ne,re),e),re.current&&se()}),ue=Object(b.a)(function(){$&&$(),X?se():I(re.current,!0)}),ce=c.a.useCallback(function(){V.remove(z(te,ne,re))},[V]);c.a.useEffect(function(){return function(){ce()}},[ce]),c.a.useEffect(function(){X?le():oe&&h||ce()},[X,ce,oe,h,le]);var he=c.a.useCallback(function(){return V.isTopModal(z(te,ne,re))},[V]);if(!U&&!X&&(!oe||J))return null;var de=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(Y||{zIndex:_.a}),fe={};return void 0===s.role&&(fe.role=s.role||"document"),void 0===s.tabIndex&&(fe.tabIndex=s.tabIndex||"-1"),oe&&(fe.onEnter=Object(y.b)(function(){ee(!1)},s.props.onEnter),fe.onExited=Object(y.b)(function(){ee(!0),h&&ce()},s.props.onExited)),c.a.createElement(v,{ref:ne,container:m,disablePortal:A,onRendered:ue},c.a.createElement("div",i()({ref:ie,onKeyDown:function(e){"Escape"===e.key&&he()&&(e.stopPropagation(),q&&q(e),!O&&G&&G(e,"escapeKeyDown"))},role:"presentation"},K,{style:i()({},de.root,!X&&J?de.hidden:{},K.style)}),D?null:c.a.createElement(r,i()({open:X,onClick:function(e){e.target===e.currentTarget&&(W&&W(e),!E&&G&&G(e,"backdropClick"))}},o)),c.a.createElement(j,{disableEnforceFocus:k,disableAutoFocus:T,disableRestoreFocus:L,getDoc:ae,isEnabled:he,open:X},c.a.cloneElement(s,fe))))});t.a=H},function(e,t,n){"use strict";var r=n(174),i=n(99),o=(n(26),n(0)),a=n.n(o),s=n(31),l=n.n(s),u=!1,c=n(101),h="unmounted",d="exited",f="entering",p="entered",g=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=d,r.appearStatus=f):i=p:i=t.unmountOnExit||t.mountOnEnter?h:d,r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==p&&(t=f):n!==f&&n!==p||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=l.a.findDOMNode(this);t===f?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===d&&this.setState({status:h})},n.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;!t&&!r||u?this.safeSetState({status:p},function(){n.props.onEntered(e)}):(this.props.onEnter(e,i),this.safeSetState({status:f},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,function(){n.safeSetState({status:p},function(){n.props.onEntered(e,i)})})}))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!u?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:d},function(){t.props.onExited(e)})})})):this.safeSetState({status:d},function(){t.props.onExited(e)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,i=Object(r.a)(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return a.a.createElement(c.a.Provider,{value:null},n(e,i));var o=a.a.Children.only(n);return a.a.createElement(c.a.Provider,{value:null},a.a.cloneElement(o,i))},t}(a.a.Component);function m(){}g.contextType=c.a,g.propTypes={},g.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},g.UNMOUNTED=0,g.EXITED=1,g.ENTERING=2,g.ENTERED=3,g.EXITING=4;t.a=g}]).default});
//# sourceMappingURL=archivalIIIFViewer.min.js.map